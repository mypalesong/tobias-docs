"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[3353],{6515:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"alembic/examples/scenario-03-team-conflict","title":"\uc2dc\ub098\ub9ac\uc624 3: \ubbfc\ud638\uc640 \uc218\uc9c4\uc758 \ucda9\ub3cc \ud574\uacb0","description":"\ub450 \uac1c\ubc1c\uc790\uac00 \ub3d9\uc2dc\uc5d0 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \ub9cc\ub4e4\uc5b4\uc11c \ucda9\ub3cc\uc774 \ubc1c\uc0dd\ud55c \uc0c1\ud669\uc785\ub2c8\ub2e4.","source":"@site/docs/alembic/examples/scenario-03-team-conflict.md","sourceDirName":"alembic/examples","slug":"/alembic/examples/scenario-03-team-conflict","permalink":"/tobias-docs/comp-0/docs/alembic/examples/scenario-03-team-conflict","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/alembic/examples/scenario-03-team-conflict.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"alembicSidebar","previous":{"title":"\uc2dc\ub098\ub9ac\uc624 2: \uc218\uc9c4\uc758 \uae30\ub2a5 \ucd94\uac00","permalink":"/tobias-docs/comp-0/docs/alembic/examples/scenario-02-schema-evolution"},"next":{"title":"\uc2dc\ub098\ub9ac\uc624 4: \uc720\uc9c4\uc758 \ub370\uc774\ud130 \ub300\ubcc0\ud658","permalink":"/tobias-docs/comp-0/docs/alembic/examples/scenario-04-data-migration"}}');var s=i(4848),l=i(8453);const r={sidebar_position:4},d="\uc2dc\ub098\ub9ac\uc624 3: \ubbfc\ud638\uc640 \uc218\uc9c4\uc758 \ucda9\ub3cc \ud574\uacb0",c={},t=[{value:"\ud83d\udccc \uc0c1\ud669 \uc124\uba85",id:"-\uc0c1\ud669-\uc124\uba85",level:2},{value:"\ud83c\udfaf \ubaa9\ud45c",id:"-\ubaa9\ud45c",level:2},{value:"\ud83d\udcac \ub300\ud654",id:"-\ub300\ud654",level:2},{value:"\ud83d\udcca \uc0c1\ud669 \ud30c\uc545",id:"-\uc0c1\ud669-\ud30c\uc545",level:2},{value:"\ubbfc\ud638\uc758 \ube0c\ub79c\uce58 (feature/payments)",id:"\ubbfc\ud638\uc758-\ube0c\ub79c\uce58-featurepayments",level:3},{value:"\uc218\uc9c4\uc758 \ube0c\ub79c\uce58 (feature/reviews)",id:"\uc218\uc9c4\uc758-\ube0c\ub79c\uce58-featurereviews",level:3},{value:"\ubb38\uc81c \ubc1c\uacac!",id:"\ubb38\uc81c-\ubc1c\uacac",level:3},{value:"\u26a1 \ud574\uacb0 \ubc29\ubc95",id:"-\ud574\uacb0-\ubc29\ubc95",level:2},{value:"\ubc29\ubc95 1: \ub9ac\ubca0\uc774\uc2a4 (\uad8c\uc7a5)",id:"\ubc29\ubc95-1-\ub9ac\ubca0\uc774\uc2a4-\uad8c\uc7a5",level:3},{value:"1\ub2e8\uacc4: \ubbfc\ud638\uc758 \ube0c\ub79c\uce58 \uba3c\uc800 \ubcd1\ud569",id:"1\ub2e8\uacc4-\ubbfc\ud638\uc758-\ube0c\ub79c\uce58-\uba3c\uc800-\ubcd1\ud569",level:4},{value:"2\ub2e8\uacc4: \uc218\uc9c4\uc758 \ube0c\ub79c\uce58 \uc5c5\ub370\uc774\ud2b8",id:"2\ub2e8\uacc4-\uc218\uc9c4\uc758-\ube0c\ub79c\uce58-\uc5c5\ub370\uc774\ud2b8",level:4},{value:"3\ub2e8\uacc4: \uc218\uc9c4\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc218\uc815",id:"3\ub2e8\uacc4-\uc218\uc9c4\uc758-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\uc218\uc815",level:4},{value:"4\ub2e8\uacc4: \ud14c\uc2a4\ud2b8",id:"4\ub2e8\uacc4-\ud14c\uc2a4\ud2b8",level:4},{value:"5\ub2e8\uacc4: \ubcd1\ud569 \uc644\ub8cc",id:"5\ub2e8\uacc4-\ubcd1\ud569-\uc644\ub8cc",level:4},{value:"\ubc29\ubc95 2: Merge \uba85\ub839\uc5b4 \uc0ac\uc6a9",id:"\ubc29\ubc95-2-merge-\uba85\ub839\uc5b4-\uc0ac\uc6a9",level:3},{value:"Multiple heads \uc0c1\ud669",id:"multiple-heads-\uc0c1\ud669",level:4},{value:"Merge \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc0dd\uc131",id:"merge-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\uc0dd\uc131",level:4},{value:"\ud83c\udfa8 \ubcf5\uc7a1\ud55c \uc2dc\ub098\ub9ac\uc624: 3\uba85\uc774 \ub3d9\uc2dc \uc791\uc5c5",id:"-\ubcf5\uc7a1\ud55c-\uc2dc\ub098\ub9ac\uc624-3\uba85\uc774-\ub3d9\uc2dc-\uc791\uc5c5",level:2},{value:"\uc0c1\ud669",id:"\uc0c1\ud669",level:3},{value:"\uc21c\ucc28 \ubcd1\ud569 \uc804\ub7b5",id:"\uc21c\ucc28-\ubcd1\ud569-\uc804\ub7b5",level:3},{value:"\ud83d\udca1 \uc2e4\uc804 \ud301",id:"-\uc2e4\uc804-\ud301",level:2},{value:"1. \uc791\uc5c5 \uc804 main \uc5c5\ub370\uc774\ud2b8",id:"1-\uc791\uc5c5-\uc804-main-\uc5c5\ub370\uc774\ud2b8",level:3},{value:"2. \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \uc774\ub984 \ud655\uc778",id:"2-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\ud30c\uc77c-\uc774\ub984-\ud655\uc778",level:3},{value:"3. \ud300 \uaddc\uce59 \uc815\ud558\uae30",id:"3-\ud300-\uaddc\uce59-\uc815\ud558\uae30",level:3},{value:"\ud83d\udea8 \uc8fc\uc758\uc0ac\ud56d",id:"-\uc8fc\uc758\uc0ac\ud56d",level:2},{value:"1. Git Rebase \uc2dc \uc8fc\uc758",id:"1-git-rebase-\uc2dc-\uc8fc\uc758",level:3},{value:"2. down_revision \uc218\ub3d9 \uc218\uc815 \ud544\uc218",id:"2-down_revision-\uc218\ub3d9-\uc218\uc815-\ud544\uc218",level:3},{value:"3. \uc5ec\ub7ec \uc0ac\ub78c\uc774 \uac19\uc740 \ud14c\uc774\ube14 \uc218\uc815",id:"3-\uc5ec\ub7ec-\uc0ac\ub78c\uc774-\uac19\uc740-\ud14c\uc774\ube14-\uc218\uc815",level:3},{value:"\ud83d\udcca CI/CD \uc790\ub3d9\ud654",id:"-cicd-\uc790\ub3d9\ud654",level:2},{value:"GitHub Actions \uc608\uc81c",id:"github-actions-\uc608\uc81c",level:3},{value:"\u2705 \uc2e4\uc2b5 \uacfc\uc81c",id:"-\uc2e4\uc2b5-\uacfc\uc81c",level:2},{value:"\ud83c\udf93 \ubc30\uc6b4 \ub0b4\uc6a9",id:"-\ubc30\uc6b4-\ub0b4\uc6a9",level:2},{value:"\ucda9\ub3cc \ud574\uacb0 \uc804\ub7b5",id:"\ucda9\ub3cc-\ud574\uacb0-\uc804\ub7b5",level:3},{value:"\uc608\ubc29 \ubc29\ubc95",id:"\uc608\ubc29-\ubc29\ubc95",level:3},{value:"\ud83d\udd17 \uad00\ub828 \ubb38\uc11c",id:"-\uad00\ub828-\ubb38\uc11c",level:2},{value:"\ud83c\udfaf \ub2e4\uc74c \uc2dc\ub098\ub9ac\uc624",id:"-\ub2e4\uc74c-\uc2dc\ub098\ub9ac\uc624",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\uc2dc\ub098\ub9ac\uc624-3-\ubbfc\ud638\uc640-\uc218\uc9c4\uc758-\ucda9\ub3cc-\ud574\uacb0",children:"\uc2dc\ub098\ub9ac\uc624 3: \ubbfc\ud638\uc640 \uc218\uc9c4\uc758 \ucda9\ub3cc \ud574\uacb0"})}),"\n",(0,s.jsx)(n.p,{children:"\ub450 \uac1c\ubc1c\uc790\uac00 \ub3d9\uc2dc\uc5d0 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \ub9cc\ub4e4\uc5b4\uc11c \ucda9\ub3cc\uc774 \ubc1c\uc0dd\ud55c \uc0c1\ud669\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"-\uc0c1\ud669-\uc124\uba85",children:"\ud83d\udccc \uc0c1\ud669 \uc124\uba85"}),"\n",(0,s.jsx)(n.p,{children:"\uac19\uc740 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc77c\ud558\ub294 \ubbfc\ud638\uc640 \uc218\uc9c4. \ubbfc\ud638\ub294 \uacb0\uc81c \uc2dc\uc2a4\ud15c\uc744, \uc218\uc9c4\uc740 \ub9ac\ubdf0 \uc2dc\uc2a4\ud15c\uc744 \uac01\uc790 \uac1c\ubc1c\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub450 \uc0ac\ub78c \ubaa8\ub450 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \ub9cc\ub4e4\uc5c8\ub294\ub370, \uc774\uc81c \ube0c\ub79c\uce58\ub97c \ubcd1\ud569\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"-\ubaa9\ud45c",children:"\ud83c\udfaf \ubaa9\ud45c"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ub9c8\uc774\uadf8\ub808\uc774\uc158 \ube0c\ub79c\uce58 \ucda9\ub3cc \uc774\ud574"}),"\n",(0,s.jsx)(n.li,{children:"\uc62c\ubc14\ub978 \ubcd1\ud569 \ubc29\ubc95 \ubc30\uc6b0\uae30"}),"\n",(0,s.jsx)(n.li,{children:"\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uccb4\uc778 \uc7ac\uad6c\uc131"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-\ub300\ud654",children:"\ud83d\udcac \ub300\ud654"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ubbfc\ud638"}),': "\uc218\uc9c4\ub2d8, \uc81c \uacb0\uc81c \uae30\ub2a5 \uac1c\ubc1c \ub05d\ub0ac\uc5b4\uc694. main\uc5d0 \ubcd1\ud569\ud574\ub3c4 \ub420\uae4c\uc694?"']}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc218\uc9c4"}),': "\uc800\ub3c4 \ubc29\uae08 \ub9ac\ubdf0 \uae30\ub2a5 \uc644\ub8cc\ud588\ub294\ub370\uc694. \uac19\uc774 \ubcd1\ud569\ud558\uba74 \ubb38\uc81c\uc5c6\uc744\uae4c\uc694?"']}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc2dc\ub2c8\uc5b4 \uc7ac\uc11d"}),': "\ub458 \ub2e4 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \ub9cc\ub4e4\uc5c8\ub2e4\uba74, \ucda9\ub3cc\uc774 \ub0a0 \uc218 \uc788\uc5b4\uc694. \uc81c\uac00 \ub3c4\uc640\ub4dc\ub9b4\uac8c\uc694."']}),"\n",(0,s.jsx)(n.h2,{id:"-\uc0c1\ud669-\ud30c\uc545",children:"\ud83d\udcca \uc0c1\ud669 \ud30c\uc545"}),"\n",(0,s.jsx)(n.h3,{id:"\ubbfc\ud638\uc758-\ube0c\ub79c\uce58-featurepayments",children:"\ubbfc\ud638\uc758 \ube0c\ub79c\uce58 (feature/payments)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \ubbfc\ud638\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158\nalembic history\n# abc123 -> def456 (head), add payments table\n# <base> -> abc123, initial schema\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# versions/def456_add_payments_table.py\n\"\"\"add payments table\n\nRevision ID: def456\nRevises: abc123  # \u2190 main \ube0c\ub79c\uce58\uc758 \ub9c8\uc9c0\ub9c9 \ub9ac\ube44\uc804\n\"\"\"\n\ndef upgrade():\n    op.create_table('payments',\n        sa.Column('id', sa.Integer(), primary_key=True),\n        sa.Column('order_id', sa.Integer(), nullable=False),\n        sa.Column('amount', sa.Numeric(12, 2), nullable=False),\n        sa.Column('status', sa.String(20), default='pending'),\n        sa.Column('payment_method', sa.String(50)),\n        sa.Column('created_at', sa.DateTime(), server_default=sa.func.now()),\n        sa.ForeignKeyConstraint(['order_id'], ['orders.id'])\n    )\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uc218\uc9c4\uc758-\ube0c\ub79c\uce58-featurereviews",children:"\uc218\uc9c4\uc758 \ube0c\ub79c\uce58 (feature/reviews)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \uc218\uc9c4\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158\nalembic history\n# abc123 -> ghi789 (head), add reviews table\n# <base> -> abc123, initial schema\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# versions/ghi789_add_reviews_table.py\n\"\"\"add reviews table\n\nRevision ID: ghi789\nRevises: abc123  # \u2190 \ub611\uac19\uc774 abc123\uc744 \ucc38\uc870!\n\"\"\"\n\ndef upgrade():\n    op.create_table('reviews',\n        sa.Column('id', sa.Integer(), primary_key=True),\n        sa.Column('product_id', sa.Integer(), nullable=False),\n        sa.Column('user_id', sa.Integer(), nullable=False),\n        sa.Column('rating', sa.Integer(), nullable=False),\n        # ...\n    )\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\ubb38\uc81c-\ubc1c\uacac",children:"\ubb38\uc81c \ubc1c\uacac!"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"main \ube0c\ub79c\uce58:\n  abc123 (initial schema)\n\n\ubbfc\ud638 \ube0c\ub79c\uce58:              \uc218\uc9c4 \ube0c\ub79c\uce58:\n  abc123 \u2192 def456         abc123 \u2192 ghi789\n    \u2193                       \u2193\n  payments               reviews\n\n\ub458 \ub2e4 abc123\uc5d0\uc11c \ubd84\uae30! \u2192 Multiple heads \ubc1c\uc0dd!\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\ud574\uacb0-\ubc29\ubc95",children:"\u26a1 \ud574\uacb0 \ubc29\ubc95"}),"\n",(0,s.jsx)(n.h3,{id:"\ubc29\ubc95-1-\ub9ac\ubca0\uc774\uc2a4-\uad8c\uc7a5",children:"\ubc29\ubc95 1: \ub9ac\ubca0\uc774\uc2a4 (\uad8c\uc7a5)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc7ac\uc11d"}),': "\uba3c\uc800 \ud55c \uc0ac\ub78c\uc758 \ube0c\ub79c\uce58\ub97c main\uc5d0 \ubcd1\ud569\ud558\uace0, \ub2e4\ub978 \uc0ac\ub78c\uc774 \ub9ac\ubca0\uc774\uc2a4\ud558\ub294 \uac8c \uc88b\uc544\uc694."']}),"\n",(0,s.jsx)(n.h4,{id:"1\ub2e8\uacc4-\ubbfc\ud638\uc758-\ube0c\ub79c\uce58-\uba3c\uc800-\ubcd1\ud569",children:"1\ub2e8\uacc4: \ubbfc\ud638\uc758 \ube0c\ub79c\uce58 \uba3c\uc800 \ubcd1\ud569"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# main \ube0c\ub79c\uce58\ub85c \uc804\ud658\ngit checkout main\n\n# \ubbfc\ud638\uc758 \ube0c\ub79c\uce58 \ubcd1\ud569\ngit merge feature/payments\n\n# \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc801\uc6a9\nalembic upgrade head\n\n# \ud788\uc2a4\ud1a0\ub9ac \ud655\uc778\nalembic history\n# abc123 -> def456 (head), add payments table\n# <base> -> abc123, initial schema\n\n# Git \ud478\uc2dc\ngit push origin main\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2\ub2e8\uacc4-\uc218\uc9c4\uc758-\ube0c\ub79c\uce58-\uc5c5\ub370\uc774\ud2b8",children:"2\ub2e8\uacc4: \uc218\uc9c4\uc758 \ube0c\ub79c\uce58 \uc5c5\ub370\uc774\ud2b8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \uc218\uc9c4\uc758 \ube0c\ub79c\uce58\ub85c \uc804\ud658\ngit checkout feature/reviews\n\n# main \ucd5c\uc2e0 \ubcc0\uacbd\uc0ac\ud56d \uac00\uc838\uc624\uae30\ngit fetch origin\ngit rebase origin/main\n\n# \u26a0\ufe0f \ucda9\ub3cc \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc74c (\ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c\uc740 \ub2e4\ub984)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"3\ub2e8\uacc4-\uc218\uc9c4\uc758-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\uc218\uc815",children:"3\ub2e8\uacc4: \uc218\uc9c4\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc218\uc815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \ud604\uc7ac \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \ud655\uc778\ncat alembic/versions/ghi789_add_reviews_table.py\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc7ac\uc11d"}),': "\uc218\uc9c4\ub2d8\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc774 \uc5ec\uc804\ud788 abc123\uc744 \ucc38\uc870\ud558\uace0 \uc788\uc5b4\uc694. def456\uc73c\ub85c \ubc14\uafd4\uc57c \ud574\uc694."']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# versions/ghi789_add_reviews_table.py \uc218\uc815\n"""add reviews table\n\nRevision ID: ghi789\nRevises: def456  # \u2190 abc123\uc5d0\uc11c def456\uc73c\ub85c \ubcc0\uacbd!\nCreate Date: 2024-01-22 15:00:00.123456\n"""\n\ndef upgrade():\n    # ... (\ub0b4\uc6a9 \ub3d9\uc77c)\n'})}),"\n",(0,s.jsx)(n.h4,{id:"4\ub2e8\uacc4-\ud14c\uc2a4\ud2b8",children:"4\ub2e8\uacc4: \ud14c\uc2a4\ud2b8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \ucd5c\uc2e0 main\uc73c\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc\nalembic upgrade head\n# def456 \uc0c1\ud0dc\n\n# \uc218\uc9c4\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc801\uc6a9\nalembic upgrade head\n# INFO  Running upgrade def456 -> ghi789, add reviews table\n\n# \ud788\uc2a4\ud1a0\ub9ac \ud655\uc778\nalembic history\n# def456 -> ghi789 (head), add reviews table\n# abc123 -> def456, add payments table\n# <base> -> abc123, initial schema\n"})}),"\n",(0,s.jsx)(n.h4,{id:"5\ub2e8\uacc4-\ubcd1\ud569-\uc644\ub8cc",children:"5\ub2e8\uacc4: \ubcd1\ud569 \uc644\ub8cc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Git \ucee4\ubc0b\ngit add alembic/versions/ghi789_add_reviews_table.py\ngit commit -m "fix: update review migration to follow payments migration"\n\n# main\uc5d0 \ubcd1\ud569\ngit checkout main\ngit merge feature/reviews\ngit push origin main\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\uc131\uacf5!"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\ucd5c\uc885 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uccb4\uc778:\n  <base> \u2192 abc123 \u2192 def456 \u2192 ghi789\n           initial  payments reviews\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\ubc29\ubc95-2-merge-\uba85\ub839\uc5b4-\uc0ac\uc6a9",children:"\ubc29\ubc95 2: Merge \uba85\ub839\uc5b4 \uc0ac\uc6a9"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc7ac\uc11d"}),': "\ub610 \ub2e4\ub978 \ubc29\ubc95\uc740 Alembic\uc758 merge \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud558\ub294 \uac70\uc608\uc694."']}),"\n",(0,s.jsx)(n.h4,{id:"multiple-heads-\uc0c1\ud669",children:"Multiple heads \uc0c1\ud669"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \ub450 \ube0c\ub79c\uce58 \ubaa8\ub450 main\uc5d0 \ubcd1\ud569\ub41c \uc0c1\ud669\ngit checkout main\ngit merge feature/payments\ngit merge feature/reviews\n\n# \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc0c1\ud0dc \ud655\uc778\nalembic heads\n# def456\n# ghi789\n# (2 heads!)\n\nalembic upgrade head\n# ERROR: Multiple heads are present\n"})}),"\n",(0,s.jsx)(n.h4,{id:"merge-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\uc0dd\uc131",children:"Merge \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc0dd\uc131"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'alembic merge -m "merge payments and reviews branches" def456 ghi789\n'})}),"\n",(0,s.jsx)(n.p,{children:"\uc0dd\uc131\ub41c \ud30c\uc77c:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"\"\"\"merge payments and reviews branches\n\nRevision ID: jkl012\nRevises: def456, ghi789\nCreate Date: 2024-01-22 16:00:00.123456\n\"\"\"\n\nrevision = 'jkl012'\ndown_revision = ('def456', 'ghi789')  # \ub450 \uac1c\uc758 \ubd80\ubaa8!\nbranch_labels = None\ndepends_on = None\n\ndef upgrade():\n    pass  # \ubcd1\ud569\ub9cc \ud558\ubbc0\ub85c \ube44\uc5b4\uc788\uc74c\n\ndef downgrade():\n    pass\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \ubcd1\ud569 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc801\uc6a9\nalembic upgrade head\n\n# \ud788\uc2a4\ud1a0\ub9ac \ud655\uc778\nalembic history --verbose\n#       \u250c\u2500 def456 (payments)\n# abc123 \u2524\n#       \u2514\u2500 ghi789 (reviews)\n#           \u2193\n#        jkl012 (merge, head)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\ubcf5\uc7a1\ud55c-\uc2dc\ub098\ub9ac\uc624-3\uba85\uc774-\ub3d9\uc2dc-\uc791\uc5c5",children:"\ud83c\udfa8 \ubcf5\uc7a1\ud55c \uc2dc\ub098\ub9ac\uc624: 3\uba85\uc774 \ub3d9\uc2dc \uc791\uc5c5"}),"\n",(0,s.jsx)(n.h3,{id:"\uc0c1\ud669",children:"\uc0c1\ud669"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"main: abc123\n\n\ucca0\uc218 (feature/cart):     abc123 \u2192 aaa111 (\uc7a5\ubc14\uad6c\ub2c8)\n\uc601\ud76c (feature/wishlist): abc123 \u2192 bbb222 (\uc704\uc2dc\ub9ac\uc2a4\ud2b8)\n\ubbfc\uc218 (feature/coupons):  abc123 \u2192 ccc333 (\ucfe0\ud3f0)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uc21c\ucc28-\ubcd1\ud569-\uc804\ub7b5",children:"\uc21c\ucc28 \ubcd1\ud569 \uc804\ub7b5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# 1. \ucca0\uc218 \uba3c\uc800 \ubcd1\ud569\ngit checkout main\ngit merge feature/cart\n# abc123 \u2192 aaa111\n\n# 2. \uc601\ud76c \ub9ac\ubca0\uc774\uc2a4\ngit checkout feature/wishlist\ngit rebase main\n# versions/bbb222: Revises: aaa111\ub85c \uc218\uc815\n# abc123 \u2192 aaa111 \u2192 bbb222\n\n# 3. \ubbfc\uc218 \ub9ac\ubca0\uc774\uc2a4\ngit checkout feature/coupons\ngit rebase main\n# versions/ccc333: Revises: bbb222\ub85c \uc218\uc815\n# abc123 \u2192 aaa111 \u2192 bbb222 \u2192 ccc333\n\n# \ucd5c\uc885 \uccb4\uc778\nalembic history\n# abc123 -> aaa111 -> bbb222 -> ccc333 (head)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\uc2e4\uc804-\ud301",children:"\ud83d\udca1 \uc2e4\uc804 \ud301"}),"\n",(0,s.jsx)(n.h3,{id:"1-\uc791\uc5c5-\uc804-main-\uc5c5\ub370\uc774\ud2b8",children:"1. \uc791\uc5c5 \uc804 main \uc5c5\ub370\uc774\ud2b8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u2705 \uc88b\uc740 \uc2b5\uad00\ngit checkout main\ngit pull\ngit checkout -b feature/new-feature\n\n# \ucd5c\uc2e0 \uc0c1\ud0dc\uc5d0\uc11c \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc0dd\uc131\nalembic upgrade head\nalembic revision --autogenerate -m "add new feature"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\ud30c\uc77c-\uc774\ub984-\ud655\uc778",children:"2. \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \uc774\ub984 \ud655\uc778"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# down_revision \uc790\ub3d9 \ud655\uc778 \uc2a4\ud06c\ub9bd\ud2b8\ncat alembic/versions/*.py | grep "Revises:"\n\n# \ucd9c\ub825:\n# Revises: abc123\n# Revises: abc123  # \u2190 \uc911\ubcf5 \ubc1c\uacac!\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-\ud300-\uaddc\uce59-\uc815\ud558\uae30",children:"3. \ud300 \uaddc\uce59 \uc815\ud558\uae30"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# .github/PULL_REQUEST_TEMPLATE.md\n"""\n## \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uccb4\ud06c\ub9ac\uc2a4\ud2b8\n\n- [ ] \ucd5c\uc2e0 main\uc744 rebase\ud588\ub098\uc694?\n- [ ] down_revision\uc774 \uc62c\ubc14\ub978\uac00\uc694?\n- [ ] upgrade/downgrade \ud14c\uc2a4\ud2b8\ud588\ub098\uc694?\n- [ ] \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uba54\uc2dc\uc9c0\uac00 \uba85\ud655\ud55c\uac00\uc694?\n"""\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-\uc8fc\uc758\uc0ac\ud56d",children:"\ud83d\udea8 \uc8fc\uc758\uc0ac\ud56d"}),"\n",(0,s.jsx)(n.h3,{id:"1-git-rebase-\uc2dc-\uc8fc\uc758",children:"1. Git Rebase \uc2dc \uc8fc\uc758"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u274c \uc704\ud5d8: main\uc5d0\uc11c rebase\ud558\uba74 \ud788\uc2a4\ud1a0\ub9ac\uac00 \uaf2c\uc784\ngit checkout main\ngit rebase feature/something  # \ud558\uc9c0 \ub9c8\uc138\uc694!\n\n# \u2705 \uc62c\ubc14\ub984: feature \ube0c\ub79c\uce58\uc5d0\uc11c main\uc744 rebase\ngit checkout feature/something\ngit rebase main\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-down_revision-\uc218\ub3d9-\uc218\uc815-\ud544\uc218",children:"2. down_revision \uc218\ub3d9 \uc218\uc815 \ud544\uc218"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Rebase \ud6c4 \ubc18\ub4dc\uc2dc \ud655\uc778!\nrevision = 'ghi789'\ndown_revision = 'def456'  # \u2190 \uc218\ub3d9\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8 \ud544\uc694!\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-\uc5ec\ub7ec-\uc0ac\ub78c\uc774-\uac19\uc740-\ud14c\uc774\ube14-\uc218\uc815",children:"3. \uc5ec\ub7ec \uc0ac\ub78c\uc774 \uac19\uc740 \ud14c\uc774\ube14 \uc218\uc815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \ubbfc\ud638: products \ud14c\uc774\ube14\uc5d0 discount_rate \ucd94\uac00\n# \uc218\uc9c4: products \ud14c\uc774\ube14\uc5d0 is_featured \ucd94\uac00\n\n# \u26a0\ufe0f \ub458 \ub2e4 add_column('products', ...)\n# \u2192 \ubcd1\ud569 \ud6c4 \ud655\uc778 \ud544\uc218!\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-cicd-\uc790\ub3d9\ud654",children:"\ud83d\udcca CI/CD \uc790\ub3d9\ud654"}),"\n",(0,s.jsx)(n.h3,{id:"github-actions-\uc608\uc81c",children:"GitHub Actions \uc608\uc81c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'# .github/workflows/alembic-check.yml\nname: Alembic Migration Check\n\non: [pull_request]\n\njobs:\n  check-migrations:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Check for multiple heads\n        run: |\n          alembic heads | wc -l\n          if [ $(alembic heads | wc -l) -gt 1 ]; then\n            echo "Multiple heads detected!"\n            exit 1\n          fi\n\n      - name: Test upgrade\n        run: alembic upgrade head\n\n      - name: Test downgrade\n        run: alembic downgrade -1\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-\uc2e4\uc2b5-\uacfc\uc81c",children:"\u2705 \uc2e4\uc2b5 \uacfc\uc81c"}),"\n",(0,s.jsx)(n.p,{children:"\ub450 \uac1c\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \ub9cc\ub4e4\uc5b4\uc11c \ucda9\ub3cc\uc744 \ud574\uacb0\ud574\ubcf4\uc138\uc694:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"feature-a \ube0c\ub79c\uce58: customers \ud14c\uc774\ube14 \ucd94\uac00"}),"\n",(0,s.jsx)(n.li,{children:"feature-b \ube0c\ub79c\uce58: suppliers \ud14c\uc774\ube14 \ucd94\uac00"}),"\n",(0,s.jsx)(n.li,{children:"\ub450 \ube0c\ub79c\uce58 \ubcd1\ud569\ud558\uae30"}),"\n"]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:"\uc815\ub2f5 \ubcf4\uae30"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# 1. \ube0c\ub79c\uce58 A\ngit checkout -b feature-a\nalembic revision -m "add customers table"\n# \u2192 revises: base\ngit commit -am "Add customers"\n\n# 2. \ube0c\ub79c\uce58 B (\uac19\uc740 \uc2dc\uc791\uc810)\ngit checkout main\ngit checkout -b feature-b\nalembic revision -m "add suppliers table"\n# \u2192 revises: base (\ucda9\ub3cc!)\ngit commit -am "Add suppliers"\n\n# 3. A \uba3c\uc800 \ubcd1\ud569\ngit checkout main\ngit merge feature-a\n\n# 4. B \ub9ac\ubca0\uc774\uc2a4\ngit checkout feature-b\ngit rebase main\n# \u2192 suppliers \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc758 revises\ub97c customers\ub85c \uc218\uc815!\n\n# 5. B \ubcd1\ud569\ngit checkout main\ngit merge feature-b\n'})})]}),"\n",(0,s.jsx)(n.h2,{id:"-\ubc30\uc6b4-\ub0b4\uc6a9",children:"\ud83c\udf93 \ubc30\uc6b4 \ub0b4\uc6a9"}),"\n",(0,s.jsx)(n.h3,{id:"\ucda9\ub3cc-\ud574\uacb0-\uc804\ub7b5",children:"\ucda9\ub3cc \ud574\uacb0 \uc804\ub7b5"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uc21c\ucc28 \ubcd1\ud569"}),": \ud55c \uba85\uc529 \uc21c\uc11c\ub300\ub85c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rebase"}),": down_revision \uc218\uc815"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Merge"}),": alembic merge \uba85\ub839\uc5b4"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\uc608\ubc29-\ubc29\ubc95",children:"\uc608\ubc29 \ubc29\ubc95"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uc791\uc5c5 \uc804 main \uc5c5\ub370\uc774\ud2b8"}),"\n",(0,s.jsx)(n.li,{children:"\uc790\uc8fc \ud1b5\ud569"}),"\n",(0,s.jsx)(n.li,{children:"PR\uc5d0\uc11c \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uccb4\ud06c"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-\uad00\ub828-\ubb38\uc11c",children:"\ud83d\udd17 \uad00\ub828 \ubb38\uc11c"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../basic/history",children:"\ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud788\uc2a4\ud1a0\ub9ac"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../intermediate/branching",children:"\ube0c\ub79c\uce58\uc640 \ubcd1\ud569"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-\ub2e4\uc74c-\uc2dc\ub098\ub9ac\uc624",children:"\ud83c\udfaf \ub2e4\uc74c \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc7ac\uc11d"}),': "\uc88b\uc544\uc694! \uc774\uc81c \ub370\uc774\ud130 \ubcc0\ud658\uc774 \ud544\uc694\ud55c \uacbd\uc6b0\ub97c \ubd05\uc2dc\ub2e4. \uac00\uaca9 \ub2e8\uc704\ub97c \ubcc0\uacbd\ud574\uc57c \ud55c\ub300\uc694."']}),"\n",(0,s.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,s.jsx)(n.a,{href:"./scenario-04-data-migration",children:"\uc2dc\ub098\ub9ac\uc624 4: \ub370\uc774\ud130 \ub9c8\uc774\uadf8\ub808\uc774\uc158"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ud83d\udcac \ud1a0\ub860"}),": \ud300\uc5d0\uc11c \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ucda9\ub3cc\uc744 \uc5b4\ub5bb\uac8c \ud574\uacb0\ud558\uc2dc\ub098\uc694?"]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var a=i(6540);const s={},l=a.createContext(s);function r(e){const n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);