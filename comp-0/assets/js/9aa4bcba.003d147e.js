"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[7928],{8294:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"jinja2/intermediate/context-processors","title":"\ucee8\ud14d\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c","description":"\uc804\uc5ed \ubcc0\uc218\uc640 \ud568\uc218\ub97c \uad00\ub9ac\ud574\ubd05\uc2dc\ub2e4!","source":"@site/docs/jinja2/intermediate/context-processors.md","sourceDirName":"jinja2/intermediate","slug":"/jinja2/intermediate/context-processors","permalink":"/tobias-docs/comp-0/docs/jinja2/intermediate/context-processors","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/jinja2/intermediate/context-processors.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6}}');var s=t(4848),a=t(8453);const i={sidebar_position:6},l="\ucee8\ud14d\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c",o={},d=[{value:"\ud83c\udfaf \ucee8\ud14d\uc2a4\ud2b8\ub780?",id:"-\ucee8\ud14d\uc2a4\ud2b8\ub780",level:2},{value:"\ud575\uc2ec \uac1c\ub150",id:"\ud575\uc2ec-\uac1c\ub150",level:3},{value:"\ud83d\udcd0 \uae30\ubcf8 \uc0ac\uc6a9\ubc95",id:"-\uae30\ubcf8-\uc0ac\uc6a9\ubc95",level:2},{value:"globals \ucd94\uac00",id:"globals-\ucd94\uac00",level:3},{value:"\uc804\uc5ed \ud568\uc218 \ucd94\uac00",id:"\uc804\uc5ed-\ud568\uc218-\ucd94\uac00",level:3},{value:"update\ub85c \uc5ec\ub7ec \uac1c \ucd94\uac00",id:"update\ub85c-\uc5ec\ub7ec-\uac1c-\ucd94\uac00",level:3},{value:"\ud83c\udfa8 \uc2e4\uc804 \uc608\uc81c",id:"-\uc2e4\uc804-\uc608\uc81c",level:2},{value:"\uc6f9\uc0ac\uc774\ud2b8 \uc124\uc815",id:"\uc6f9\uc0ac\uc774\ud2b8-\uc124\uc815",level:3},{value:"\uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218",id:"\uc720\ud2f8\ub9ac\ud2f0-\ud568\uc218",level:3},{value:"\uc778\uc99d \ud5ec\ud37c",id:"\uc778\uc99d-\ud5ec\ud37c",level:3},{value:"\ud83d\udca1 Flask \ud1b5\ud569",id:"-flask-\ud1b5\ud569",level:2},{value:"Flask \ucee8\ud14d\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c",id:"flask-\ucee8\ud14d\uc2a4\ud2b8-\ud504\ub85c\uc138\uc11c",level:3},{value:"\ud83d\udd0d \uace0\uae09 \uae30\ubc95",id:"-\uace0\uae09-\uae30\ubc95",level:2},{value:"\uc9c0\uc5f0 \ud3c9\uac00",id:"\uc9c0\uc5f0-\ud3c9\uac00",level:3},{value:"\ucee8\ud14d\uc2a4\ud2b8 \uc0c1\uc18d",id:"\ucee8\ud14d\uc2a4\ud2b8-\uc0c1\uc18d",level:3},{value:"\uc2a4\ub808\ub4dc \uc548\uc804 \ucee8\ud14d\uc2a4\ud2b8",id:"\uc2a4\ub808\ub4dc-\uc548\uc804-\ucee8\ud14d\uc2a4\ud2b8",level:3},{value:"\ud83d\udcca \ucee8\ud14d\uc2a4\ud2b8 \ub514\ubc84\uae45",id:"-\ucee8\ud14d\uc2a4\ud2b8-\ub514\ubc84\uae45",level:2},{value:"\ucee8\ud14d\uc2a4\ud2b8 \ud655\uc778",id:"\ucee8\ud14d\uc2a4\ud2b8-\ud655\uc778",level:3},{value:"\ucee8\ud14d\uc2a4\ud2b8 \ub364\ud504",id:"\ucee8\ud14d\uc2a4\ud2b8-\ub364\ud504",level:3},{value:"\ud83d\udccb \ubaa8\ubc94 \uc0ac\ub840",id:"-\ubaa8\ubc94-\uc0ac\ub840",level:2},{value:"\u2705 \uad8c\uc7a5\uc0ac\ud56d",id:"-\uad8c\uc7a5\uc0ac\ud56d",level:3},{value:"\u274c \ud53c\ud574\uc57c \ud560 \uac83",id:"-\ud53c\ud574\uc57c-\ud560-\uac83",level:3},{value:"\ud83c\udfaf \uc2e4\uc2b5 \uacfc\uc81c",id:"-\uc2e4\uc2b5-\uacfc\uc81c",level:2},{value:"\uacfc\uc81c 1: \ub2e4\uad6d\uc5b4 \uc9c0\uc6d0",id:"\uacfc\uc81c-1-\ub2e4\uad6d\uc5b4-\uc9c0\uc6d0",level:3},{value:"\uacfc\uc81c 2: \ud14c\ub9c8 \uc2dc\uc2a4\ud15c",id:"\uacfc\uc81c-2-\ud14c\ub9c8-\uc2dc\uc2a4\ud15c",level:3},{value:"\ub2e4\uc74c \ub2e8\uacc4",id:"\ub2e4\uc74c-\ub2e8\uacc4",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\ucee8\ud14d\uc2a4\ud2b8-\ud504\ub85c\uc138\uc11c",children:"\ucee8\ud14d\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c"})}),"\n",(0,s.jsx)(e.p,{children:"\uc804\uc5ed \ubcc0\uc218\uc640 \ud568\uc218\ub97c \uad00\ub9ac\ud574\ubd05\uc2dc\ub2e4!"}),"\n",(0,s.jsx)(e.h2,{id:"-\ucee8\ud14d\uc2a4\ud2b8\ub780",children:"\ud83c\udfaf \ucee8\ud14d\uc2a4\ud2b8\ub780?"}),"\n",(0,s.jsx)(e.p,{children:"\ucee8\ud14d\uc2a4\ud2b8\ub294 \ud15c\ud50c\ub9bf\uc5d0\uc11c \uc811\uadfc \uac00\ub2a5\ud55c \ubcc0\uc218\ub4e4\uc758 \ub515\uc154\ub108\ub9ac\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(e.h3,{id:"\ud575\uc2ec-\uac1c\ub150",children:"\ud575\uc2ec \uac1c\ub150"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"globals"}),": \ubaa8\ub4e0 \ud15c\ud50c\ub9bf\uc5d0\uc11c \uc811\uadfc \uac00\ub2a5\ud55c \uc804\uc5ed \ubcc0\uc218/\ud568\uc218"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\ucee8\ud14d\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c"}),": \uc790\ub3d9\uc73c\ub85c \ucee8\ud14d\uc2a4\ud2b8\uc5d0 \ubcc0\uc218 \ucd94\uac00"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\ud15c\ud50c\ub9bf \ubcc0\uc218"}),": render() \ud638\ucd9c \uc2dc \uc804\ub2ec\ub418\ub294 \ubcc0\uc218"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"-\uae30\ubcf8-\uc0ac\uc6a9\ubc95",children:"\ud83d\udcd0 \uae30\ubcf8 \uc0ac\uc6a9\ubc95"}),"\n",(0,s.jsx)(e.h3,{id:"globals-\ucd94\uac00",children:"globals \ucd94\uac00"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from jinja2 import Environment\nfrom datetime import datetime\n\nenv = Environment()\n\n# \uc804\uc5ed \ubcc0\uc218 \ucd94\uac00\nenv.globals['site_name'] = '\ub0b4 \uc6f9\uc0ac\uc774\ud2b8'\nenv.globals['current_year'] = datetime.now().year\n\ntemplate = env.from_string(\"\"\"\n<footer>\n    &copy; {{ current_year }} {{ site_name }}\n</footer>\n\"\"\")\n\nprint(template.render())\n# \ucd9c\ub825: <footer>&copy; 2024 \ub0b4 \uc6f9\uc0ac\uc774\ud2b8</footer>\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\uc804\uc5ed-\ud568\uc218-\ucd94\uac00",children:"\uc804\uc5ed \ud568\uc218 \ucd94\uac00"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'def get_copyright(year=None):\n    if year is None:\n        year = datetime.now().year\n    return f"&copy; {year} All rights reserved."\n\nenv.globals[\'copyright\'] = get_copyright\n\ntemplate = env.from_string("""\n<footer>\n    {{ copyright() }}\n</footer>\n""")\n\nprint(template.render())\n# \ucd9c\ub825: <footer>&copy; 2024 All rights reserved.</footer>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"update\ub85c-\uc5ec\ub7ec-\uac1c-\ucd94\uac00",children:"update\ub85c \uc5ec\ub7ec \uac1c \ucd94\uac00"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"env.globals.update({\n    'app_name': 'My App',\n    'version': '1.0.0',\n    'debug': True,\n    'support_email': 'support@example.com'\n})\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\uc2e4\uc804-\uc608\uc81c",children:"\ud83c\udfa8 \uc2e4\uc804 \uc608\uc81c"}),"\n",(0,s.jsx)(e.h3,{id:"\uc6f9\uc0ac\uc774\ud2b8-\uc124\uc815",children:"\uc6f9\uc0ac\uc774\ud2b8 \uc124\uc815"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from jinja2 import Environment, FileSystemLoader\nfrom datetime import datetime\n\nenv = Environment(loader=FileSystemLoader('templates'))\n\n# \uc0ac\uc774\ud2b8 \uc124\uc815\nSITE_CONFIG = {\n    'name': '\ub0b4 \ube14\ub85c\uadf8',\n    'description': 'Python \uac1c\ubc1c \ube14\ub85c\uadf8',\n    'author': '\ud64d\uae38\ub3d9',\n    'url': 'https://myblog.com',\n    'logo': '/static/logo.png',\n    'social': {\n        'twitter': '@myblog',\n        'github': 'myblog',\n        'email': 'contact@myblog.com'\n    },\n    'analytics_id': 'UA-XXXXXX-X',\n    'items_per_page': 10\n}\n\n# \uc804\uc5ed \ubcc0\uc218\ub85c \ub4f1\ub85d\nenv.globals['site'] = SITE_CONFIG\nenv.globals['now'] = datetime.now\n\n# \uc0ac\uc6a9 \uc608\uc81c\ntemplate = env.from_string(\"\"\"\n<!DOCTYPE html>\n<html>\n<head>\n    <title>{{ page_title }} - {{ site.name }}</title>\n    <meta name=\"description\" content=\"{{ site.description }}\">\n    <meta name=\"author\" content=\"{{ site.author }}\">\n</head>\n<body>\n    <header>\n        <img src=\"{{ site.logo }}\" alt=\"{{ site.name }}\">\n        <nav>\n            <a href=\"{{ site.url }}\">\ud648</a>\n            <a href=\"{{ site.url }}/about\">\uc18c\uac1c</a>\n        </nav>\n    </header>\n\n    <main>\n        {{ content }}\n    </main>\n\n    <footer>\n        <p>&copy; {{ now().year }} {{ site.author }}</p>\n        <div class=\"social\">\n            <a href=\"https://twitter.com/{{ site.social.twitter }}\">Twitter</a>\n            <a href=\"https://github.com/{{ site.social.github }}\">GitHub</a>\n            <a href=\"mailto:{{ site.social.email }}\">Email</a>\n        </div>\n    </footer>\n\n    {% if site.analytics_id %}\n    <script>\n        // Google Analytics\n        gtag('config', '{{ site.analytics_id }}');\n    <\/script>\n    {% endif %}\n</body>\n</html>\n\"\"\")\n\nhtml = template.render(\n    page_title='\ud648',\n    content='<h1>\ud658\uc601\ud569\ub2c8\ub2e4!</h1>'\n)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\uc720\ud2f8\ub9ac\ud2f0-\ud568\uc218",children:"\uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from jinja2 import Environment\nimport hashlib\nimport urllib.parse\n\nenv = Environment()\n\n# URL \ud5ec\ud37c\ndef url_for(endpoint, **params):\n    """URL \uc0dd\uc131"""\n    url = f"/{endpoint}"\n    if params:\n        query = urllib.parse.urlencode(params)\n        url += f"?{query}"\n    return url\n\ndef static_url(path):\n    """\uc815\uc801 \ud30c\uc77c URL (\uce90\uc2dc \ubc84\uc2a4\ud305 \ud3ec\ud568)"""\n    version = hashlib.md5(path.encode()).hexdigest()[:8]\n    return f"/static/{path}?v={version}"\n\n# Gravatar\ndef gravatar_url(email, size=80):\n    """Gravatar \uc774\ubbf8\uc9c0 URL \uc0dd\uc131"""\n    hash_value = hashlib.md5(email.lower().encode()).hexdigest()\n    return f"https://www.gravatar.com/avatar/{hash_value}?s={size}"\n\n# \uc804\uc5ed \ud568\uc218 \ub4f1\ub85d\nenv.globals[\'url_for\'] = url_for\nenv.globals[\'static_url\'] = static_url\nenv.globals[\'gravatar_url\'] = gravatar_url\n\n# \uc0ac\uc6a9\ntemplate = env.from_string("""\n<link rel="stylesheet" href="{{ static_url(\'css/main.css\') }}">\n<script src="{{ static_url(\'js/app.js\') }}"><\/script>\n\n<img src="{{ gravatar_url(user.email, 100) }}" alt="{{ user.name }}">\n\n<a href="{{ url_for(\'post\', id=123, page=2) }}">\uac8c\uc2dc\ubb3c \ubcf4\uae30</a>\n""")\n\nhtml = template.render(user={\'email\': \'user@example.com\', \'name\': \'User\'})\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\uc778\uc99d-\ud5ec\ud37c",children:"\uc778\uc99d \ud5ec\ud37c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from jinja2 import Environment\n\nenv = Environment()\n\nclass AuthHelper:\n    """\uc778\uc99d \uad00\ub828 \ud5ec\ud37c"""\n\n    def __init__(self, user=None):\n        self.user = user\n\n    def is_authenticated(self):\n        """\ub85c\uadf8\uc778 \uc5ec\ubd80"""\n        return self.user is not None\n\n    def has_permission(self, permission):\n        """\uad8c\ud55c \ud655\uc778"""\n        if not self.user:\n            return False\n        return permission in self.user.get(\'permissions\', [])\n\n    def is_admin(self):\n        """\uad00\ub9ac\uc790 \uc5ec\ubd80"""\n        return self.has_permission(\'admin\')\n\n    def can_edit(self, resource):\n        """\uc218\uc815 \uad8c\ud55c"""\n        if self.is_admin():\n            return True\n        if not self.user:\n            return False\n        return resource.get(\'author_id\') == self.user.get(\'id\')\n\n# \uc0ac\uc6a9 \uc608\uc81c\ndef render_with_auth(template_string, user=None, **context):\n    """\uc778\uc99d \uc815\ubcf4\uac00 \ud3ec\ud568\ub41c \ub80c\ub354\ub9c1"""\n    auth = AuthHelper(user)\n    env.globals[\'auth\'] = auth\n    env.globals[\'user\'] = user\n\n    template = env.from_string(template_string)\n    return template.render(**context)\n\nhtml = render_with_auth("""\n{% if auth.is_authenticated() %}\n    <p>\ud658\uc601\ud569\ub2c8\ub2e4, {{ user.name }}\ub2d8!</p>\n\n    {% if auth.is_admin() %}\n        <a href="/admin">\uad00\ub9ac\uc790 \ud398\uc774\uc9c0</a>\n    {% endif %}\n\n    {% if auth.can_edit(post) %}\n        <button>\uc218\uc815</button>\n        <button>\uc0ad\uc81c</button>\n    {% endif %}\n{% else %}\n    <a href="/login">\ub85c\uadf8\uc778</a>\n{% endif %}\n""",\n    user={\'id\': 1, \'name\': \'\ud64d\uae38\ub3d9\', \'permissions\': [\'user\', \'admin\']},\n    post={\'id\': 123, \'author_id\': 1}\n)\n'})}),"\n",(0,s.jsx)(e.h2,{id:"-flask-\ud1b5\ud569",children:"\ud83d\udca1 Flask \ud1b5\ud569"}),"\n",(0,s.jsx)(e.h3,{id:"flask-\ucee8\ud14d\uc2a4\ud2b8-\ud504\ub85c\uc138\uc11c",children:"Flask \ucee8\ud14d\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from flask import Flask\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n@app.context_processor\ndef inject_globals():\n    """\ubaa8\ub4e0 \ud15c\ud50c\ub9bf\uc5d0 \uc790\ub3d9\uc73c\ub85c \ucd94\uac00\ub420 \ubcc0\uc218"""\n    return {\n        \'site_name\': \'My Flask App\',\n        \'current_year\': datetime.now().year,\n        \'debug\': app.debug\n    }\n\n@app.context_processor\ndef utility_functions():\n    """\uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218"""\n    def format_price(amount):\n        return f"\u20a9{amount:,.0f}"\n\n    return {\n        \'format_price\': format_price\n    }\n\n@app.template_global()\ndef gravatar(email, size=80):\n    """\uc804\uc5ed \ud568\uc218\ub85c \ub4f1\ub85d"""\n    import hashlib\n    hash_value = hashlib.md5(email.lower().encode()).hexdigest()\n    return f"https://www.gravatar.com/avatar/{hash_value}?s={size}"\n\n@app.template_filter()\ndef timeago(dt):\n    """\uc804\uc5ed \ud544\ud130\ub85c \ub4f1\ub85d"""\n    from datetime import datetime\n    diff = datetime.now() - dt\n    if diff.seconds < 60:\n        return \'\ubc29\uae08 \uc804\'\n    elif diff.seconds < 3600:\n        return f\'{diff.seconds // 60}\ubd84 \uc804\'\n    elif diff.seconds < 86400:\n        return f\'{diff.seconds // 3600}\uc2dc\uac04 \uc804\'\n    else:\n        return f\'{diff.days}\uc77c \uc804\'\n\n# \ud15c\ud50c\ub9bf\uc5d0\uc11c \uc0ac\uc6a9\n@app.route(\'/\')\ndef index():\n    return render_template(\'index.html\')\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jinja2",children:'{# templates/index.html #}\n<footer>\n    {{ site_name }} &copy; {{ current_year }}\n    {% if debug %}\n        <span class="badge">DEBUG MODE</span>\n    {% endif %}\n</footer>\n\n<p>\uac00\uaca9: {{ 50000|format_price }}</p>\n\n<img src="{{ gravatar(\'user@example.com\') }}">\n\n<span>{{ post.created_at|timeago }}</span>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"-\uace0\uae09-\uae30\ubc95",children:"\ud83d\udd0d \uace0\uae09 \uae30\ubc95"}),"\n",(0,s.jsx)(e.h3,{id:"\uc9c0\uc5f0-\ud3c9\uac00",children:"\uc9c0\uc5f0 \ud3c9\uac00"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from jinja2 import Environment\n\nclass LazyConfig:\n    """\uc9c0\uc5f0 \ud3c9\uac00 \uc124\uc815"""\n\n    @property\n    def expensive_value(self):\n        """\ud544\uc694\ud560 \ub54c\ub9cc \uacc4\uc0b0"""\n        print("\uacc4\uc0b0 \uc911...")\n        return sum(range(1000000))\n\nenv = Environment()\nenv.globals[\'config\'] = LazyConfig()\n\ntemplate = env.from_string("""\n{% if show_expensive %}\n    {{ config.expensive_value }}\n{% endif %}\n""")\n\n# show_expensive=False\uc774\uba74 \uacc4\uc0b0 \uc548 \ud568\nprint(template.render(show_expensive=False))\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\ucee8\ud14d\uc2a4\ud2b8-\uc0c1\uc18d",children:"\ucee8\ud14d\uc2a4\ud2b8 \uc0c1\uc18d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from jinja2 import Environment\n\nclass BaseContext:\n    """\uae30\ubcf8 \ucee8\ud14d\uc2a4\ud2b8"""\n    def __init__(self):\n        self.site_name = "My Site"\n        self.version = "1.0"\n\nclass UserContext(BaseContext):\n    """\uc0ac\uc6a9\uc790 \ucee8\ud14d\uc2a4\ud2b8"""\n    def __init__(self, user):\n        super().__init__()\n        self.user = user\n        self.is_authenticated = True\n\nclass AdminContext(UserContext):\n    """\uad00\ub9ac\uc790 \ucee8\ud14d\uc2a4\ud2b8"""\n    def __init__(self, user):\n        super().__init__(user)\n        self.is_admin = True\n        self.admin_menu = [\n            {\'name\': \'\uc0ac\uc6a9\uc790 \uad00\ub9ac\', \'url\': \'/admin/users\'},\n            {\'name\': \'\uc124\uc815\', \'url\': \'/admin/settings\'}\n        ]\n\n# \uc0ac\uc6a9\nenv = Environment()\n\ndef render_for_user(template_string, user, **kwargs):\n    if user.get(\'is_admin\'):\n        ctx = AdminContext(user)\n    elif user:\n        ctx = UserContext(user)\n    else:\n        ctx = BaseContext()\n\n    # \ucee8\ud14d\uc2a4\ud2b8 \uac1d\uccb4\uc758 \ubaa8\ub4e0 \uc18d\uc131\uc744 globals\uc5d0 \ucd94\uac00\n    for key in dir(ctx):\n        if not key.startswith(\'_\'):\n            env.globals[key] = getattr(ctx, key)\n\n    template = env.from_string(template_string)\n    return template.render(**kwargs)\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\uc2a4\ub808\ub4dc-\uc548\uc804-\ucee8\ud14d\uc2a4\ud2b8",children:"\uc2a4\ub808\ub4dc \uc548\uc804 \ucee8\ud14d\uc2a4\ud2b8"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'import threading\nfrom jinja2 import Environment\n\nenv = Environment()\n\n# \uc2a4\ub808\ub4dc \ub85c\uceec \uc2a4\ud1a0\ub9ac\uc9c0\n_context = threading.local()\n\ndef get_current_user():\n    """\ud604\uc7ac \uc2a4\ub808\ub4dc\uc758 \uc0ac\uc6a9\uc790 \ubc18\ud658"""\n    return getattr(_context, \'user\', None)\n\ndef set_current_user(user):\n    """\ud604\uc7ac \uc2a4\ub808\ub4dc\uc5d0 \uc0ac\uc6a9\uc790 \uc124\uc815"""\n    _context.user = user\n\nenv.globals[\'current_user\'] = get_current_user\n\n# \uc0ac\uc6a9\ndef process_request(user, template_string):\n    set_current_user(user)\n    template = env.from_string(template_string)\n    return template.render()\n\n# \uac01 \uc2a4\ub808\ub4dc\ub9c8\ub2e4 \ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc720\uc9c0\n'})}),"\n",(0,s.jsx)(e.h2,{id:"-\ucee8\ud14d\uc2a4\ud2b8-\ub514\ubc84\uae45",children:"\ud83d\udcca \ucee8\ud14d\uc2a4\ud2b8 \ub514\ubc84\uae45"}),"\n",(0,s.jsx)(e.h3,{id:"\ucee8\ud14d\uc2a4\ud2b8-\ud655\uc778",children:"\ucee8\ud14d\uc2a4\ud2b8 \ud655\uc778"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from jinja2 import Environment\n\nenv = Environment()\n\nenv.globals['debug'] = True\nenv.globals['site_name'] = 'My Site'\n\ndef show_context():\n    \"\"\"\ud604\uc7ac \ucee8\ud14d\uc2a4\ud2b8 \ucd9c\ub825\"\"\"\n    return f\"Globals: {list(env.globals.keys())}\"\n\nenv.globals['show_context'] = show_context\n\ntemplate = env.from_string(\"\"\"\n<pre>{{ show_context() }}</pre>\n\"\"\")\n\nprint(template.render())\n# \ucd9c\ub825: Globals: ['range', 'dict', 'lipsum', ..., 'debug', 'site_name', 'show_context']\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\ucee8\ud14d\uc2a4\ud2b8-\ub364\ud504",children:"\ucee8\ud14d\uc2a4\ud2b8 \ub364\ud504"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from jinja2 import pass_context\n\n@pass_context\ndef debug_context(context):\n    """\ucee8\ud14d\uc2a4\ud2b8 \ubcc0\uc218 \ub364\ud504"""\n    import json\n    # \uc9c1\ub82c\ud654 \uac00\ub2a5\ud55c \uac83\ub9cc \ucd9c\ub825\n    safe_context = {}\n    for key, value in context.items():\n        try:\n            json.dumps(value)\n            safe_context[key] = value\n        except:\n            safe_context[key] = str(type(value))\n\n    return safe_context\n\nenv.globals[\'debug_context\'] = debug_context\n\ntemplate = env.from_string("""\n{% if debug %}\n    <pre>{{ debug_context()|tojson|safe }}</pre>\n{% endif %}\n""")\n'})}),"\n",(0,s.jsx)(e.h2,{id:"-\ubaa8\ubc94-\uc0ac\ub840",children:"\ud83d\udccb \ubaa8\ubc94 \uc0ac\ub840"}),"\n",(0,s.jsx)(e.h3,{id:"-\uad8c\uc7a5\uc0ac\ud56d",children:"\u2705 \uad8c\uc7a5\uc0ac\ud56d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"# \uc124\uc815\uc740 \ub515\uc154\ub108\ub9ac\ub85c \uadf8\ub8f9\ud654\nenv.globals['config'] = {\n    'site_name': 'My Site',\n    'version': '1.0',\n    'features': {\n        'comments': True,\n        'social_login': False\n    }\n}\n\n# \ud568\uc218\ub294 \uba85\ud655\ud55c \uc774\ub984\nenv.globals['format_currency'] = format_currency\nenv.globals['url_for'] = url_for\n\n# \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \uc0ac\uc6a9\nenv.globals['utils'] = {\n    'slugify': slugify,\n    'truncate': truncate,\n    'highlight': highlight\n}\n\n# \ub3c5\uc2a4\ud2b8\ub9c1 \uc791\uc131\ndef helper_function():\n    \"\"\"\n    \ud15c\ud50c\ub9bf \ud5ec\ud37c \ud568\uc218\n\n    Returns:\n        str: \uacb0\uacfc \ubb38\uc790\uc5f4\n    \"\"\"\n    pass\n"})}),"\n",(0,s.jsx)(e.h3,{id:"-\ud53c\ud574\uc57c-\ud560-\uac83",children:"\u274c \ud53c\ud574\uc57c \ud560 \uac83"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"# \ub108\ubb34 \ub9ce\uc740 \uc804\uc5ed \ubcc0\uc218\nenv.globals['var1'] = ...\nenv.globals['var2'] = ...\n# ... 100\uac1c\n\n# \uc774\ub984 \ucda9\ub3cc\nenv.globals['list'] = my_list  # \u274c \ub0b4\uc7a5 \ud568\uc218 \ub36e\uc5b4\uc4f0\uae30\n\n# \ubb34\uac70\uc6b4 \uc5f0\uc0b0\uc744 \uc804\uc5ed\uc5d0\nenv.globals['heavy_data'] = load_million_records()  # \u274c\n\n# \uc0c1\ud0dc \ubcc0\uacbd\ncounter = 0\ndef increment():\n    global counter\n    counter += 1  # \u274c \uc804\uc5ed \uc0c1\ud0dc \ubcc0\uacbd\n    return counter\nenv.globals['increment'] = increment\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\uc2e4\uc2b5-\uacfc\uc81c",children:"\ud83c\udfaf \uc2e4\uc2b5 \uacfc\uc81c"}),"\n",(0,s.jsx)(e.h3,{id:"\uacfc\uc81c-1-\ub2e4\uad6d\uc5b4-\uc9c0\uc6d0",children:"\uacfc\uc81c 1: \ub2e4\uad6d\uc5b4 \uc9c0\uc6d0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"# \ub2e4\uad6d\uc5b4 \ud5ec\ud37c \ub9cc\ub4e4\uae30:\n# - current_locale: \ud604\uc7ac \uc5b8\uc5b4\n# - t(key): \ubc88\uc5ed \ud568\uc218\n# - localized_url(path): \uc5b8\uc5b4\ubcc4 URL\n\n# \uc0ac\uc6a9 \uc608:\n# {{ t('welcome.message') }}\n# <a href=\"{{ localized_url('/about') }}\">{{ t('menu.about') }}</a>\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\uacfc\uc81c-2-\ud14c\ub9c8-\uc2dc\uc2a4\ud15c",children:"\uacfc\uc81c 2: \ud14c\ub9c8 \uc2dc\uc2a4\ud15c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \ud14c\ub9c8 \ucee8\ud14d\uc2a4\ud2b8 \ub9cc\ub4e4\uae30:\n# - theme.name: \ud14c\ub9c8 \uc774\ub984\n# - theme.colors: \uc0c9\uc0c1 \ud314\ub808\ud2b8\n# - theme.asset(filename): \ud14c\ub9c8\ubcc4 \uc5d0\uc14b \uacbd\ub85c\n\n# \uc0ac\uc6a9 \uc608:\n# <link rel="stylesheet" href="{{ theme.asset(\'style.css\') }}">\n# <div style="background: {{ theme.colors.primary }}">\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\ub2e4\uc74c-\ub2e8\uacc4",children:"\ub2e4\uc74c \ub2e8\uacc4"}),"\n",(0,s.jsxs)(e.p,{children:["\ucee8\ud14d\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c\ub97c \ub9c8\uc2a4\ud130\ud588\uc73c\ub2c8 ",(0,s.jsx)(e.a,{href:"./tests",children:"\ud14c\uc2a4\ud2b8"}),"\ub85c \uc870\uac74\uc744 \uac80\uc0ac\ud574\ubd05\uc2dc\ub2e4!"]})]})}function u(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>l});var r=t(6540);const s={},a=r.createContext(s);function i(n){const e=r.useContext(a);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),r.createElement(a.Provider,{value:e},n.children)}}}]);