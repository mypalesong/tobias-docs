"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[3236],{3280:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"jinja2/intermediate/custom-filters","title":"\ucee4\uc2a4\ud140 \ud544\ud130","description":"\uc790\uc2e0\ub9cc\uc758 \ud544\ud130\ub97c \ub9cc\ub4e4\uc5b4\ubd05\uc2dc\ub2e4!","source":"@site/docs/jinja2/intermediate/custom-filters.md","sourceDirName":"jinja2/intermediate","slug":"/jinja2/intermediate/custom-filters","permalink":"/docs/jinja2/intermediate/custom-filters","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/jinja2/intermediate/custom-filters.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5}}');var i=t(4848),s=t(8453);const l={sidebar_position:5},a="\ucee4\uc2a4\ud140 \ud544\ud130",d={},c=[{value:"\ud83c\udfaf \ucee4\uc2a4\ud140 \ud544\ud130\ub780?",id:"-\ucee4\uc2a4\ud140-\ud544\ud130\ub780",level:2},{value:"\ud575\uc2ec \uac1c\ub150",id:"\ud575\uc2ec-\uac1c\ub150",level:3},{value:"\ud83d\udcd0 \uae30\ubcf8 \uad6c\uc870",id:"-\uae30\ubcf8-\uad6c\uc870",level:2},{value:"\uac04\ub2e8\ud55c \ud544\ud130 \ub9cc\ub4e4\uae30",id:"\uac04\ub2e8\ud55c-\ud544\ud130-\ub9cc\ub4e4\uae30",level:3},{value:"\uc778\uc790\uac00 \uc788\ub294 \ud544\ud130",id:"\uc778\uc790\uac00-\uc788\ub294-\ud544\ud130",level:3},{value:"\ud83d\udd27 \uc2e4\uc6a9\uc801\uc778 \ud544\ud130 \uc608\uc81c",id:"-\uc2e4\uc6a9\uc801\uc778-\ud544\ud130-\uc608\uc81c",level:2},{value:"\ub0a0\uc9dc/\uc2dc\uac04 \ud544\ud130",id:"\ub0a0\uc9dc\uc2dc\uac04-\ud544\ud130",level:3},{value:"\ud1b5\ud654 \ud3ec\ub9f7 \ud544\ud130",id:"\ud1b5\ud654-\ud3ec\ub9f7-\ud544\ud130",level:3},{value:"\ud14d\uc2a4\ud2b8 \ucc98\ub9ac \ud544\ud130",id:"\ud14d\uc2a4\ud2b8-\ucc98\ub9ac-\ud544\ud130",level:3},{value:"\ud30c\uc77c \ud06c\uae30 \ud544\ud130",id:"\ud30c\uc77c-\ud06c\uae30-\ud544\ud130",level:3},{value:"\ud83c\udfa8 \uace0\uae09 \ud544\ud130",id:"-\uace0\uae09-\ud544\ud130",level:2},{value:"\ud658\uacbd \ubcc0\uc218 \uc811\uadfc",id:"\ud658\uacbd-\ubcc0\uc218-\uc811\uadfc",level:3},{value:"Environment \uc811\uadfc",id:"environment-\uc811\uadfc",level:3},{value:"\ud3c9\uac00 \ucee8\ud14d\uc2a4\ud2b8 \uc811\uadfc",id:"\ud3c9\uac00-\ucee8\ud14d\uc2a4\ud2b8-\uc811\uadfc",level:3},{value:"\ud83d\udca1 \ud544\ud130 \uccb4\uc774\ub2dd",id:"-\ud544\ud130-\uccb4\uc774\ub2dd",level:2},{value:"\uccb4\uc774\ub2dd \uac00\ub2a5\ud55c \ud544\ud130 \ub9cc\ub4e4\uae30",id:"\uccb4\uc774\ub2dd-\uac00\ub2a5\ud55c-\ud544\ud130-\ub9cc\ub4e4\uae30",level:3},{value:"\ud83d\udd0d \uc2e4\uc804 \ud504\ub85c\uc81d\ud2b8",id:"-\uc2e4\uc804-\ud504\ub85c\uc81d\ud2b8",level:2},{value:"\ube14\ub85c\uadf8 \ud544\ud130 \ubaa8\uc74c",id:"\ube14\ub85c\uadf8-\ud544\ud130-\ubaa8\uc74c",level:3},{value:"E-commerce \ud544\ud130",id:"e-commerce-\ud544\ud130",level:3},{value:"\ud83d\udccb \ubaa8\ubc94 \uc0ac\ub840",id:"-\ubaa8\ubc94-\uc0ac\ub840",level:2},{value:"\u2705 \uad8c\uc7a5\uc0ac\ud56d",id:"-\uad8c\uc7a5\uc0ac\ud56d",level:3},{value:"\u274c \ud53c\ud574\uc57c \ud560 \uac83",id:"-\ud53c\ud574\uc57c-\ud560-\uac83",level:3},{value:"\ud83c\udfaf \uc2e4\uc2b5 \uacfc\uc81c",id:"-\uc2e4\uc2b5-\uacfc\uc81c",level:2},{value:"\uacfc\uc81c 1: \uc18c\uc15c \ubbf8\ub514\uc5b4 \ud544\ud130",id:"\uacfc\uc81c-1-\uc18c\uc15c-\ubbf8\ub514\uc5b4-\ud544\ud130",level:3},{value:"\uacfc\uc81c 2: \ub370\uc774\ud130 \ubd84\uc11d \ud544\ud130",id:"\uacfc\uc81c-2-\ub370\uc774\ud130-\ubd84\uc11d-\ud544\ud130",level:3},{value:"\ub2e4\uc74c \ub2e8\uacc4",id:"\ub2e4\uc74c-\ub2e8\uacc4",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\ucee4\uc2a4\ud140-\ud544\ud130",children:"\ucee4\uc2a4\ud140 \ud544\ud130"})}),"\n",(0,i.jsx)(n.p,{children:"\uc790\uc2e0\ub9cc\uc758 \ud544\ud130\ub97c \ub9cc\ub4e4\uc5b4\ubd05\uc2dc\ub2e4!"}),"\n",(0,i.jsx)(n.h2,{id:"-\ucee4\uc2a4\ud140-\ud544\ud130\ub780",children:"\ud83c\udfaf \ucee4\uc2a4\ud140 \ud544\ud130\ub780?"}),"\n",(0,i.jsx)(n.p,{children:"Jinja2 \ub0b4\uc7a5 \ud544\ud130 \uc678\uc5d0 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ud544\uc694\ud55c \ucee4\uc2a4\ud140 \ud544\ud130\ub97c \uc9c1\uc811 \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"\ud575\uc2ec-\uac1c\ub150",children:"\ud575\uc2ec \uac1c\ub150"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ud544\ud130 \ud568\uc218"}),": Python \ud568\uc218\ub85c \uad6c\ud604"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\ub4f1\ub85d"}),": Environment\uc5d0 \ud544\ud130 \ub4f1\ub85d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\uc0ac\uc6a9"}),": \ud15c\ud50c\ub9bf\uc5d0\uc11c ",(0,i.jsx)(n.code,{children:"{{ value|filter_name }}"}),"\ub85c \uc0ac\uc6a9"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"-\uae30\ubcf8-\uad6c\uc870",children:"\ud83d\udcd0 \uae30\ubcf8 \uad6c\uc870"}),"\n",(0,i.jsx)(n.h3,{id:"\uac04\ub2e8\ud55c-\ud544\ud130-\ub9cc\ub4e4\uae30",children:"\uac04\ub2e8\ud55c \ud544\ud130 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from jinja2 import Environment\n\ndef reverse_string(s):\n    """\ubb38\uc790\uc5f4\uc744 \ub4a4\uc9d1\ub294 \ud544\ud130"""\n    return s[::-1]\n\nenv = Environment()\nenv.filters[\'reverse\'] = reverse_string\n\ntemplate = env.from_string("{{ text|reverse }}")\nprint(template.render(text="Hello"))\n# \ucd9c\ub825: olleH\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc778\uc790\uac00-\uc788\ub294-\ud544\ud130",children:"\uc778\uc790\uac00 \uc788\ub294 \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'def repeat(s, times=2):\n    """\ubb38\uc790\uc5f4\uc744 n\ubc88 \ubc18\ubcf5\ud558\ub294 \ud544\ud130"""\n    return s * times\n\nenv.filters[\'repeat\'] = repeat\n\ntemplate = env.from_string("{{ text|repeat(3) }}")\nprint(template.render(text="Hi!"))\n# \ucd9c\ub825: Hi!Hi!Hi!\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-\uc2e4\uc6a9\uc801\uc778-\ud544\ud130-\uc608\uc81c",children:"\ud83d\udd27 \uc2e4\uc6a9\uc801\uc778 \ud544\ud130 \uc608\uc81c"}),"\n",(0,i.jsx)(n.h3,{id:"\ub0a0\uc9dc\uc2dc\uac04-\ud544\ud130",children:"\ub0a0\uc9dc/\uc2dc\uac04 \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from datetime import datetime, timedelta\n\ndef datetimeformat(value, format=\'%Y-%m-%d %H:%M:%S\'):\n    """datetime \uac1d\uccb4\ub97c \ud3ec\ub9f7\ud305"""\n    if isinstance(value, datetime):\n        return value.strftime(format)\n    return value\n\ndef timeago(value):\n    """\uc0c1\ub300 \uc2dc\uac04 \ud45c\uc2dc (\uc608: 3\uc2dc\uac04 \uc804)"""\n    if not isinstance(value, datetime):\n        return value\n\n    now = datetime.now()\n    diff = now - value\n\n    if diff.days > 365:\n        return f"{diff.days // 365}\ub144 \uc804"\n    elif diff.days > 30:\n        return f"{diff.days // 30}\uac1c\uc6d4 \uc804"\n    elif diff.days > 0:\n        return f"{diff.days}\uc77c \uc804"\n    elif diff.seconds > 3600:\n        return f"{diff.seconds // 3600}\uc2dc\uac04 \uc804"\n    elif diff.seconds > 60:\n        return f"{diff.seconds // 60}\ubd84 \uc804"\n    else:\n        return "\ubc29\uae08 \uc804"\n\n# \ub4f1\ub85d\nenv.filters[\'datetimeformat\'] = datetimeformat\nenv.filters[\'timeago\'] = timeago\n\n# \uc0ac\uc6a9\ntemplate = env.from_string("""\n\uc791\uc131\uc77c: {{ created_at|datetimeformat(\'%Y\ub144 %m\uc6d4 %d\uc77c\') }}\n{{ created_at|timeago }}\n""")\n\nprint(template.render(created_at=datetime.now() - timedelta(hours=2)))\n# \ucd9c\ub825:\n# \uc791\uc131\uc77c: 2024\ub144 01\uc6d4 15\uc77c\n# 2\uc2dc\uac04 \uc804\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\ud1b5\ud654-\ud3ec\ub9f7-\ud544\ud130",children:"\ud1b5\ud654 \ud3ec\ub9f7 \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'def currency(value, symbol=\'\u20a9\'):\n    """\ud1b5\ud654 \ud615\uc2dd\uc73c\ub85c \ud3ec\ub9f7\ud305"""\n    try:\n        return f"{symbol}{value:,.0f}"\n    except (ValueError, TypeError):\n        return value\n\ndef currency_usd(value):\n    """\ub2ec\ub7ec \ud615\uc2dd"""\n    return currency(value, symbol=\'$\')\n\ndef currency_eur(value):\n    """\uc720\ub85c \ud615\uc2dd"""\n    return currency(value, symbol=\'\u20ac\')\n\nenv.filters[\'currency\'] = currency\nenv.filters[\'currency_usd\'] = currency_usd\nenv.filters[\'currency_eur\'] = currency_eur\n\ntemplate = env.from_string("""\n\uc6d0\ud654: {{ price|currency }}\n\ub2ec\ub7ec: {{ price|currency_usd }}\n\uc720\ub85c: {{ price|currency_eur }}\n\ucee4\uc2a4\ud140: {{ price|currency(\'\xa5\') }}\n""")\n\nprint(template.render(price=1500000))\n# \ucd9c\ub825:\n# \uc6d0\ud654: \u20a91,500,000\n# \ub2ec\ub7ec: $1,500,000\n# \uc720\ub85c: \u20ac1,500,000\n# \ucee4\uc2a4\ud140: \xa51,500,000\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\ud14d\uc2a4\ud2b8-\ucc98\ub9ac-\ud544\ud130",children:"\ud14d\uc2a4\ud2b8 \ucc98\ub9ac \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import re\nfrom html import escape\n\ndef slugify(text):\n    \"\"\"URL \uce5c\ud654\uc801 \ubb38\uc790\uc5f4\ub85c \ubcc0\ud658\"\"\"\n    # \uc18c\ubb38\uc790\ub85c \ubcc0\ud658\n    text = text.lower()\n    # \ud2b9\uc218\ubb38\uc790 \uc81c\uac70\n    text = re.sub(r'[^\\w\\s-]', '', text)\n    # \uacf5\ubc31\uc744 \ud558\uc774\ud508\uc73c\ub85c\n    text = re.sub(r'[-\\s]+', '-', text)\n    return text.strip('-')\n\ndef markdown(text):\n    \"\"\"\uac04\ub2e8\ud55c \ub9c8\ud06c\ub2e4\uc6b4 \ubcc0\ud658 (\uc2e4\uc81c\ub85c\ub294 markdown \ub77c\uc774\ube0c\ub7ec\ub9ac \uc0ac\uc6a9 \uad8c\uc7a5)\"\"\"\n    # \ubcfc\ub4dc\n    text = re.sub(r'\\*\\*(.*?)\\*\\*', r'<strong>\\1</strong>', text)\n    # \uc774\ud0e4\ub9ad\n    text = re.sub(r'\\*(.*?)\\*', r'<em>\\1</em>', text)\n    # \ub9c1\ud06c\n    text = re.sub(r'\\[(.*?)\\]\\((.*?)\\)', r'<a href=\"\\2\">\\1</a>', text)\n    return text\n\ndef nl2br(text):\n    \"\"\"\uc904\ubc14\uafc8\uc744 <br> \ud0dc\uadf8\ub85c \ubcc0\ud658\"\"\"\n    return text.replace('\\n', '<br>\\n')\n\ndef excerpt(text, length=100, suffix='...'):\n    \"\"\"\ud14d\uc2a4\ud2b8 \ubc1c\ucdcc (HTML \ud0dc\uadf8 \uc81c\uac70)\"\"\"\n    # HTML \ud0dc\uadf8 \uc81c\uac70\n    text = re.sub(r'<[^>]+>', '', text)\n    if len(text) <= length:\n        return text\n    return text[:length].rsplit(' ', 1)[0] + suffix\n\nenv.filters['slugify'] = slugify\nenv.filters['markdown'] = markdown\nenv.filters['nl2br'] = nl2br\nenv.filters['excerpt'] = excerpt\n\ntemplate = env.from_string(\"\"\"\n\uc2ac\ub7ec\uadf8: {{ title|slugify }}\n\ub9c8\ud06c\ub2e4\uc6b4: {{ content|markdown|safe }}\n\uc904\ubc14\uafc8: {{ text|nl2br|safe }}\n\ubc1c\ucdcc: {{ article|excerpt(50) }}\n\"\"\")\n\nprint(template.render(\n    title=\"Hello World! \uc548\ub155\ud558\uc138\uc694\",\n    content=\"**\uad75\uac8c** *\uae30\uc6b8\uc784* [\ub9c1\ud06c](http://example.com)\",\n    text=\"\uccab \uc904\\n\ub450 \ubc88\uc9f8 \uc904\\n\uc138 \ubc88\uc9f8 \uc904\",\n    article=\"<p>\uc774\uac83\uc740 \ub9e4\uc6b0 \uae34 \ud14d\uc2a4\ud2b8\uc785\ub2c8\ub2e4. \" * 10 + \"</p>\"\n))\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ud30c\uc77c-\ud06c\uae30-\ud544\ud130",children:"\ud30c\uc77c \ud06c\uae30 \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'def filesizeformat(bytes_):\n    """\ubc14\uc774\ud2b8\ub97c \uc77d\uae30 \uc26c\uc6b4 \ud615\uc2dd\uc73c\ub85c \ubcc0\ud658"""\n    try:\n        bytes_ = float(bytes_)\n    except (TypeError, ValueError):\n        return bytes_\n\n    if bytes_ < 1024:\n        return f"{bytes_:.0f} bytes"\n    elif bytes_ < 1024 ** 2:\n        return f"{bytes_ / 1024:.1f} KB"\n    elif bytes_ < 1024 ** 3:\n        return f"{bytes_ / (1024 ** 2):.1f} MB"\n    elif bytes_ < 1024 ** 4:\n        return f"{bytes_ / (1024 ** 3):.1f} GB"\n    else:\n        return f"{bytes_ / (1024 ** 4):.1f} TB"\n\nenv.filters[\'filesizeformat\'] = filesizeformat\n\ntemplate = env.from_string("{{ size|filesizeformat }}")\nprint(template.render(size=1536))  # 1.5 KB\nprint(template.render(size=1048576))  # 1.0 MB\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-\uace0\uae09-\ud544\ud130",children:"\ud83c\udfa8 \uace0\uae09 \ud544\ud130"}),"\n",(0,i.jsx)(n.h3,{id:"\ud658\uacbd-\ubcc0\uc218-\uc811\uadfc",children:"\ud658\uacbd \ubcc0\uc218 \uc811\uadfc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"def url_for(endpoint, **kwargs):\n    \"\"\"URL \uc0dd\uc131 (Flask \uc2a4\ud0c0\uc77c)\"\"\"\n    # \uc2e4\uc81c\ub85c\ub294 \ub77c\uc6b0\ud305 \uc815\ubcf4 \ud544\uc694\n    base_url = kwargs.get('_external', False) and 'https://example.com' or ''\n    query = '&'.join(f\"{k}={v}\" for k, v in kwargs.items() if not k.startswith('_'))\n    url = f\"{base_url}/{endpoint}\"\n    if query:\n        url += f\"?{query}\"\n    return url\n\ndef context_filter(context, value):\n    \"\"\"\ucee8\ud14d\uc2a4\ud2b8 \uc811\uadfc\uc774 \ud544\uc694\ud55c \ud544\ud130\"\"\"\n    # context\uc5d0\uc11c \ubcc0\uc218 \uc811\uadfc \uac00\ub2a5\n    user = context.get('user')\n    if user and user.get('is_admin'):\n        return f\"[\uad00\ub9ac\uc790] {value}\"\n    return value\n\nfrom jinja2 import pass_context\n\n@pass_context\ndef smart_date(context, value):\n    \"\"\"\ud604\uc7ac \uc0ac\uc6a9\uc790 locale\uc5d0 \ub9de\ub294 \ub0a0\uc9dc \ud615\uc2dd\"\"\"\n    locale = context.get('user_locale', 'ko_KR')\n\n    if locale == 'ko_KR':\n        return value.strftime('%Y\ub144 %m\uc6d4 %d\uc77c')\n    elif locale == 'en_US':\n        return value.strftime('%B %d, %Y')\n    else:\n        return value.strftime('%Y-%m-%d')\n\nenv.filters['url_for'] = url_for\nenv.filters['context_filter'] = context_filter\nenv.filters['smart_date'] = smart_date\n"})}),"\n",(0,i.jsx)(n.h3,{id:"environment-\uc811\uadfc",children:"Environment \uc811\uadfc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from jinja2 import pass_environment\n\n@pass_environment\ndef env_filter(environment, value):\n    """Environment \uc124\uc815\uc5d0 \ub530\ub77c \ub3d9\uc791"""\n    if environment.autoescape:\n        from markupsafe import escape\n        return escape(value)\n    return value\n\nenv.filters[\'env_filter\'] = env_filter\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\ud3c9\uac00-\ucee8\ud14d\uc2a4\ud2b8-\uc811\uadfc",children:"\ud3c9\uac00 \ucee8\ud14d\uc2a4\ud2b8 \uc811\uadfc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from jinja2 import pass_eval_context\nfrom markupsafe import Markup, escape\n\n@pass_eval_context\ndef nl2br_auto(eval_ctx, value):\n    \"\"\"\uc790\ub3d9 \uc774\uc2a4\ucf00\uc774\ud551\uc744 \uace0\ub824\ud55c nl2br\"\"\"\n    result = value.replace('\\n', '<br>\\n')\n\n    if eval_ctx.autoescape:\n        result = escape(result)\n\n    return Markup(result)\n\nenv.filters['nl2br_auto'] = nl2br_auto\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-\ud544\ud130-\uccb4\uc774\ub2dd",children:"\ud83d\udca1 \ud544\ud130 \uccb4\uc774\ub2dd"}),"\n",(0,i.jsx)(n.h3,{id:"\uccb4\uc774\ub2dd-\uac00\ub2a5\ud55c-\ud544\ud130-\ub9cc\ub4e4\uae30",children:"\uccb4\uc774\ub2dd \uac00\ub2a5\ud55c \ud544\ud130 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'def add_prefix(text, prefix=\'>>\'):\n    """\uc811\ub450\uc0ac \ucd94\uac00"""\n    return f"{prefix} {text}"\n\ndef add_suffix(text, suffix=\'<<\'):\n    """\uc811\ubbf8\uc0ac \ucd94\uac00"""\n    return f"{text} {suffix}"\n\ndef wrap(text, tag=\'div\'):\n    """HTML \ud0dc\uadf8\ub85c \uac10\uc2f8\uae30"""\n    return f"<{tag}>{text}</{tag}>"\n\nenv.filters[\'add_prefix\'] = add_prefix\nenv.filters[\'add_suffix\'] = add_suffix\nenv.filters[\'wrap\'] = wrap\n\ntemplate = env.from_string("""\n{{ text|add_prefix(\'\u2605\')|add_suffix(\'\u2605\')|wrap(\'p\')|safe }}\n""")\n\nprint(template.render(text="\uc911\uc694"))\n# \ucd9c\ub825: <p>\u2605 \uc911\uc694 \u2605</p>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-\uc2e4\uc804-\ud504\ub85c\uc81d\ud2b8",children:"\ud83d\udd0d \uc2e4\uc804 \ud504\ub85c\uc81d\ud2b8"}),"\n",(0,i.jsx)(n.h3,{id:"\ube14\ub85c\uadf8-\ud544\ud130-\ubaa8\uc74c",children:"\ube14\ub85c\uadf8 \ud544\ud130 \ubaa8\uc74c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from jinja2 import Environment\nfrom datetime import datetime, timedelta\nimport re\nfrom html import escape\nfrom markupsafe import Markup\n\nclass BlogFilters:\n    \"\"\"\ube14\ub85c\uadf8\uc5d0 \ud544\uc694\ud55c \ud544\ud130 \ubaa8\uc74c\"\"\"\n\n    @staticmethod\n    def reading_time(text, wpm=200):\n        \"\"\"\uc77d\uae30 \uc2dc\uac04 \uacc4\uc0b0 (\ubd84)\"\"\"\n        words = len(re.findall(r'\\w+', text))\n        minutes = max(1, round(words / wpm))\n        return f\"{minutes}\ubd84\"\n\n    @staticmethod\n    def summary(text, length=200):\n        \"\"\"\uc694\uc57d \uc0dd\uc131\"\"\"\n        # HTML \uc81c\uac70\n        text = re.sub(r'<[^>]+>', '', text)\n        # \uacf5\ubc31 \uc815\ub9ac\n        text = re.sub(r'\\s+', ' ', text).strip()\n        if len(text) <= length:\n            return text\n        # \ub2e8\uc5b4 \uacbd\uacc4\uc5d0\uc11c \uc790\ub974\uae30\n        return text[:length].rsplit(' ', 1)[0] + '...'\n\n    @staticmethod\n    def highlight_search(text, query):\n        \"\"\"\uac80\uc0c9\uc5b4 \ud558\uc774\ub77c\uc774\ud2b8\"\"\"\n        if not query:\n            return text\n\n        # \ub300\uc18c\ubb38\uc790 \uad6c\ubd84 \uc5c6\uc774 \uac80\uc0c9\n        pattern = re.compile(f'({re.escape(query)})', re.IGNORECASE)\n        highlighted = pattern.sub(r'<mark>\\1</mark>', text)\n        return Markup(highlighted)\n\n    @staticmethod\n    def toc(html):\n        \"\"\"\ubaa9\ucc28 \uc0dd\uc131 (h2, h3 \ud0dc\uadf8\uc5d0\uc11c)\"\"\"\n        headings = re.findall(r'<h([23])>(.*?)</h\\1>', html)\n        toc = ['<ul class=\"toc\">']\n\n        for level, text in headings:\n            indent = '  ' * (int(level) - 2)\n            slug = re.sub(r'[^\\w\\s-]', '', text.lower()).replace(' ', '-')\n            toc.append(f'{indent}<li><a href=\"#{slug}\">{text}</a></li>')\n\n        toc.append('</ul>')\n        return Markup('\\n'.join(toc))\n\n    @staticmethod\n    def obfuscate_email(email):\n        \"\"\"\uc774\uba54\uc77c \ub09c\ub3c5\ud654 (\uc2a4\ud338 \ubc29\uc9c0)\"\"\"\n        return email.replace('@', ' [at] ').replace('.', ' [dot] ')\n\n# \ub4f1\ub85d\nenv = Environment()\nfilters = BlogFilters()\nenv.filters['reading_time'] = filters.reading_time\nenv.filters['summary'] = filters.summary\nenv.filters['highlight_search'] = filters.highlight_search\nenv.filters['toc'] = filters.toc\nenv.filters['obfuscate_email'] = filters.obfuscate_email\n\n# \uc0ac\uc6a9 \uc608\uc81c\ntemplate = env.from_string(\"\"\"\n<article>\n    <h1>{{ post.title|highlight_search(search_query)|safe }}</h1>\n    <div class=\"meta\">\n        \uc77d\ub294 \uc2dc\uac04: {{ post.content|reading_time }}\n    </div>\n\n    <div class=\"summary\">\n        {{ post.content|summary(150) }}\n    </div>\n\n    <div class=\"toc\">\n        {{ post.content|toc|safe }}\n    </div>\n\n    <div class=\"author\">\n        \uc791\uc131\uc790: {{ post.author_email|obfuscate_email }}\n    </div>\n</article>\n\"\"\")\n\nresult = template.render(\n    post={\n        'title': 'Jinja2 \ucee4\uc2a4\ud140 \ud544\ud130 \uac00\uc774\ub4dc',\n        'content': '<h2>\uc18c\uac1c</h2><p>...(\uae34 \ub0b4\uc6a9)</p><h3>\uc0ac\uc6a9\ubc95</h3><p>...</p>',\n        'author_email': 'author@example.com'\n    },\n    search_query='Jinja2'\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"e-commerce-\ud544\ud130",children:"E-commerce \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class EcommerceFilters:\n    """\uc804\uc790\uc0c1\uac70\ub798 \ud544\ud130"""\n\n    @staticmethod\n    def discount_price(price, discount_percent):\n        """\ud560\uc778\uac00 \uacc4\uc0b0"""\n        return price * (1 - discount_percent / 100)\n\n    @staticmethod\n    def tax_price(price, tax_rate=0.1):\n        """\uc138\uae08 \ud3ec\ud568 \uac00\uaca9"""\n        return price * (1 + tax_rate)\n\n    @staticmethod\n    def price_range(products, attr=\'price\'):\n        """\uac00\uaca9 \ubc94\uc704 \ud45c\uc2dc"""\n        prices = [getattr(p, attr, 0) for p in products]\n        if not prices:\n            return "\uac00\uaca9 \uc815\ubcf4 \uc5c6\uc74c"\n\n        min_price = min(prices)\n        max_price = max(prices)\n\n        if min_price == max_price:\n            return f"\u20a9{min_price:,.0f}"\n        return f"\u20a9{min_price:,.0f} - \u20a9{max_price:,.0f}"\n\n    @staticmethod\n    def stock_status(quantity):\n        """\uc7ac\uace0 \uc0c1\ud0dc \ud45c\uc2dc"""\n        if quantity <= 0:\n            return Markup(\'<span class="text-danger">\ud488\uc808</span>\')\n        elif quantity < 10:\n            return Markup(f\'<span class="text-warning">\uc7ac\uace0 \ubd80\uc871 ({quantity}\uac1c)</span>\')\n        else:\n            return Markup(\'<span class="text-success">\uc7ac\uace0 \uc788\uc74c</span>\')\n\n    @staticmethod\n    def shipping_fee(total, free_threshold=50000):\n        """\ubc30\uc1a1\ube44 \uacc4\uc0b0"""\n        if total >= free_threshold:\n            return 0\n        return 3000\n\n# \ub4f1\ub85d\necommerce = EcommerceFilters()\nenv.filters[\'discount_price\'] = ecommerce.discount_price\nenv.filters[\'tax_price\'] = ecommerce.tax_price\nenv.filters[\'price_range\'] = ecommerce.price_range\nenv.filters[\'stock_status\'] = ecommerce.stock_status\nenv.filters[\'shipping_fee\'] = ecommerce.shipping_fee\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-\ubaa8\ubc94-\uc0ac\ub840",children:"\ud83d\udccb \ubaa8\ubc94 \uc0ac\ub840"}),"\n",(0,i.jsx)(n.h3,{id:"-\uad8c\uc7a5\uc0ac\ud56d",children:"\u2705 \uad8c\uc7a5\uc0ac\ud56d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# \uba85\ud655\ud55c \ud568\uc218 \uc774\ub984\ndef format_phone_number(value):  # \u2705\n    pass\n\ndef fpn(value):  # \u274c\n    pass\n\n# \ud0c0\uc785 \uac80\uc0ac\uc640 \uc608\uc678 \ucc98\ub9ac\ndef safe_divide(value, divisor):\n    try:\n        return float(value) / float(divisor)\n    except (TypeError, ValueError, ZeroDivisionError):\n        return 0\n\n# \uae30\ubcf8\uac12 \uc81c\uacf5\ndef format_date(value, format=\'%Y-%m-%d\'):\n    if not value:\n        return \'\'\n    return value.strftime(format)\n\n# \ub3c5\uc2a4\ud2b8\ub9c1 \uc791\uc131\ndef slugify(text):\n    """\n    URL \uce5c\ud654\uc801 \ubb38\uc790\uc5f4\ub85c \ubcc0\ud658\n\n    Args:\n        text (str): \ubcc0\ud658\ud560 \ud14d\uc2a4\ud2b8\n\n    Returns:\n        str: \uc2ac\ub7ec\uadf8\ud654\ub41c \ubb38\uc790\uc5f4\n\n    Examples:\n        >>> slugify("Hello World!")\n        \'hello-world\'\n    """\n    pass\n'})}),"\n",(0,i.jsx)(n.h3,{id:"-\ud53c\ud574\uc57c-\ud560-\uac83",children:"\u274c \ud53c\ud574\uc57c \ud560 \uac83"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \ub108\ubb34 \ubcf5\uc7a1\ud55c \ub85c\uc9c1 - \ubdf0\uc5d0\uc11c \ucc98\ub9ac\ndef complex_calculation(data):\n    # 100\uc904\uc758 \ubcf5\uc7a1\ud55c \uacc4\uc0b0\n    pass\n\n# \uc0c1\ud0dc \ubcc0\uacbd - \ud544\ud130\ub294 \uc21c\uc218 \ud568\uc218\uc5ec\uc57c \ud568\ndef bad_filter(value):\n    global counter\n    counter += 1  # \u274c \uc804\uc5ed \uc0c1\ud0dc \ubcc0\uacbd\n    return value\n\n# \uc678\ubd80 \uc758\uc874\uc131 \ub108\ubb34 \ub9ce\uc74c\ndef bad_filter2(value):\n    # DB \ucffc\ub9ac, API \ud638\ucd9c \ub4f1 \u274c\n    pass\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-\uc2e4\uc2b5-\uacfc\uc81c",children:"\ud83c\udfaf \uc2e4\uc2b5 \uacfc\uc81c"}),"\n",(0,i.jsx)(n.h3,{id:"\uacfc\uc81c-1-\uc18c\uc15c-\ubbf8\ub514\uc5b4-\ud544\ud130",children:"\uacfc\uc81c 1: \uc18c\uc15c \ubbf8\ub514\uc5b4 \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \ub2e4\uc74c \ud544\ud130 \uad6c\ud604:\n# - mention_links: @username\uc744 \ub9c1\ud06c\ub85c \ubcc0\ud658\n# - hashtag_links: #\ud0dc\uadf8\ub97c \ub9c1\ud06c\ub85c \ubcc0\ud658\n# - twitter_timeago: \ud2b8\uc704\ud130 \uc2a4\ud0c0\uc77c \uc2dc\uac04 \ud45c\uc2dc (3s, 5m, 2h, 1d)\n# - shorten_url: URL\uc744 \uc9e7\uac8c \ud45c\uc2dc (domain.com/...)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\uacfc\uc81c-2-\ub370\uc774\ud130-\ubd84\uc11d-\ud544\ud130",children:"\uacfc\uc81c 2: \ub370\uc774\ud130 \ubd84\uc11d \ud544\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \ub2e4\uc74c \ud544\ud130 \uad6c\ud604:\n# - average: \ub9ac\uc2a4\ud2b8\uc758 \ud3c9\uade0\n# - percentage: \ubc31\ubd84\uc728 \uacc4\uc0b0 \ubc0f \ud3ec\ub9f7\ud305\n# - trend: \uc99d\uac00/\uac10\uc18c \ud45c\uc2dc (\u25b2, \u25bc, -)\n# - format_number: 1K, 1M, 1B \ud615\uc2dd\uc73c\ub85c \ubcc0\ud658\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\ub2e4\uc74c-\ub2e8\uacc4",children:"\ub2e4\uc74c \ub2e8\uacc4"}),"\n",(0,i.jsxs)(n.p,{children:["\ucee4\uc2a4\ud140 \ud544\ud130\ub97c \ub9c8\uc2a4\ud130\ud588\uc73c\ub2c8 ",(0,i.jsx)(n.a,{href:"./context-processors",children:"\ucee8\ud14d\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c"}),"\ub85c \uc804\uc5ed \ubcc0\uc218\ub97c \uad00\ub9ac\ud574\ubd05\uc2dc\ub2e4!"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var r=t(6540);const i={},s=r.createContext(i);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);