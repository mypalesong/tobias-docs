"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[4406],{1111:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"fastapi/intermediate/authentication","title":"JWT \uc778\uc99d","description":"JWT\ub97c \uc0ac\uc6a9\ud55c \uc778\uc99d \uc2dc\uc2a4\ud15c\uc744 \uad6c\ud604\ud574\ubd05\uc2dc\ub2e4!","source":"@site/docs/fastapi/intermediate/authentication.md","sourceDirName":"fastapi/intermediate","slug":"/fastapi/intermediate/authentication","permalink":"/tobias-docs/comp-0/docs/fastapi/intermediate/authentication","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/fastapi/intermediate/authentication.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"fastapiSidebar","previous":{"title":"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\ub3d9 (SQLAlchemy)","permalink":"/tobias-docs/comp-0/docs/fastapi/intermediate/database"},"next":{"title":"\ubbf8\ub4e4\uc6e8\uc5b4","permalink":"/tobias-docs/comp-0/docs/fastapi/intermediate/middleware"}}');var a=n(4848),r=n(8453);const o={sidebar_position:4},i="JWT \uc778\uc99d",d={},c=[{value:"\ud83d\udce6 \uc124\uce58",id:"-\uc124\uce58",level:2},{value:"\ud83d\udd10 JWT \uc720\ud2f8\ub9ac\ud2f0",id:"-jwt-\uc720\ud2f8\ub9ac\ud2f0",level:2},{value:"\ud83c\udfaf \ub85c\uadf8\uc778 \uc5d4\ub4dc\ud3ec\uc778\ud2b8",id:"-\ub85c\uadf8\uc778-\uc5d4\ub4dc\ud3ec\uc778\ud2b8",level:2},{value:"\ud83d\udcda \ub2e4\uc74c \ub2e8\uacc4",id:"-\ub2e4\uc74c-\ub2e8\uacc4",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"jwt-\uc778\uc99d",children:"JWT \uc778\uc99d"})}),"\n",(0,a.jsx)(t.p,{children:"JWT\ub97c \uc0ac\uc6a9\ud55c \uc778\uc99d \uc2dc\uc2a4\ud15c\uc744 \uad6c\ud604\ud574\ubd05\uc2dc\ub2e4!"}),"\n",(0,a.jsx)(t.h2,{id:"-\uc124\uce58",children:"\ud83d\udce6 \uc124\uce58"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"pip install python-jose[cryptography]\npip install passlib[bcrypt]\n"})}),"\n",(0,a.jsx)(t.h2,{id:"-jwt-\uc720\ud2f8\ub9ac\ud2f0",children:"\ud83d\udd10 JWT \uc720\ud2f8\ub9ac\ud2f0"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# auth.py\nfrom datetime import datetime, timedelta\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\n\nSECRET_KEY = "your-secret-key-here"\nALGORITHM = "HS256"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\n\npwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")\n\ndef verify_password(plain_password, hashed_password):\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password):\n    return pwd_context.hash(password)\n\ndef create_access_token(data: dict):\n    to_encode = data.copy()\n    expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    to_encode.update({"exp": expire})\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n'})}),"\n",(0,a.jsx)(t.h2,{id:"-\ub85c\uadf8\uc778-\uc5d4\ub4dc\ud3ec\uc778\ud2b8",children:"\ud83c\udfaf \ub85c\uadf8\uc778 \uc5d4\ub4dc\ud3ec\uc778\ud2b8"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'from fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\noauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")\n\nfake_users_db = {\n    "testuser": {\n        "username": "testuser",\n        "hashed_password": get_password_hash("password123")\n    }\n}\n\n@app.post("/token")\nasync def login(form_data: OAuth2PasswordRequestForm = Depends()):\n    user = fake_users_db.get(form_data.username)\n    if not user or not verify_password(form_data.password, user["hashed_password"]):\n        raise HTTPException(status_code=400, detail="Incorrect username or password")\n\n    access_token = create_access_token(data={"sub": form_data.username})\n    return {"access_token": access_token, "token_type": "bearer"}\n\n@app.get("/users/me")\nasync def read_users_me(token: str = Depends(oauth2_scheme)):\n    return {"token": token}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"-\ub2e4\uc74c-\ub2e8\uacc4",children:"\ud83d\udcda \ub2e4\uc74c \ub2e8\uacc4"}),"\n",(0,a.jsxs)(t.p,{children:["\ud83d\udc49 ",(0,a.jsx)(t.a,{href:"./middleware",children:"\ubbf8\ub4e4\uc6e8\uc5b4"})]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var s=n(6540);const a={},r=s.createContext(a);function o(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);