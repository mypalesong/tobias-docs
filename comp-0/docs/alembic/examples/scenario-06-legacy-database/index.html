<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-alembic/examples/scenario-06-legacy-database" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">ì‹œë‚˜ë¦¬ì˜¤ 6: íƒœí¬ì˜ ë ˆê±°ì‹œ ì •ë³µ | docusaurus-comp-0</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/docs/alembic/examples/scenario-06-legacy-database"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ì‹œë‚˜ë¦¬ì˜¤ 6: íƒœí¬ì˜ ë ˆê±°ì‹œ ì •ë³µ | docusaurus-comp-0"><meta data-rh="true" name="description" content="5ë…„ ëœ ë ˆê±°ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— Alembicì„ ë„ì…í•˜ëŠ” íƒœí¬ì˜ ì—¬ì •ì…ë‹ˆë‹¤."><meta data-rh="true" property="og:description" content="5ë…„ ëœ ë ˆê±°ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— Alembicì„ ë„ì…í•˜ëŠ” íƒœí¬ì˜ ì—¬ì •ì…ë‹ˆë‹¤."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/docs/alembic/examples/scenario-06-legacy-database"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/alembic/examples/scenario-06-legacy-database" hreflang="ko"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/alembic/examples/scenario-06-legacy-database" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ì‹œë‚˜ë¦¬ì˜¤ 6: íƒœí¬ì˜ ë ˆê±°ì‹œ ì •ë³µ","item":"https://your-docusaurus-site.example.com/docs/alembic/examples/scenario-06-legacy-database"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="docusaurus-comp-0 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="docusaurus-comp-0 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.85698258.css">
<script src="/assets/js/runtime~main.a16b2dd8.js" defer="defer"></script>
<script src="/assets/js/main.530b5aaf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°</a></div><nav aria-label="ë©”ì¸" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="ì‚¬ì´ë“œë°” í¼ì¹˜ê±°ë‚˜ ì ‘ê¸°" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">docusaurus-comp-0</b></a><a class="navbar__item navbar__link" href="/docs/">GitHub</a><a class="navbar__item navbar__link" href="/docs/react/advanced/code-splitting">React</a><a class="navbar__item navbar__link" href="/docs/database/postgres/advanced/intro">Database</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/alembic">Alembic</a><a class="navbar__item navbar__link" href="/docs/rabbitmq">RabbitMQ</a><a class="navbar__item navbar__link" href="/docs/fastapi/intro">FastAPI</a><a class="navbar__item navbar__link" href="/docs/crawling/intro">Crawling</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="ì–´ë‘ìš´ ëª¨ë“œì™€ ë°ì€ ëª¨ë“œ ì „í™˜í•˜ê¸° (í˜„ì¬ system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤í•˜ê¸°" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ë¬¸ì„œ ì‚¬ì´ë“œë°”" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/alembic"><span title="Alembic ë§ˆìŠ¤í„° ì™„ë²½ ê°€ì´ë“œ" class="linkLabel_WmDU">Alembic ë§ˆìŠ¤í„° ì™„ë²½ ê°€ì´ë“œ</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/alembic/advanced/intro"><span title="advanced" class="categoryLinkLabel_W154">advanced</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/alembic/basic/intro"><span title="basic" class="categoryLinkLabel_W154">basic</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/alembic/examples/intro"><span title="examples" class="categoryLinkLabel_W154">examples</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/alembic/examples/intro"><span title="ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ ì†Œê°œ" class="linkLabel_WmDU">ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ ì†Œê°œ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/alembic/examples/scenario-01-new-project"><span title="ì‹œë‚˜ë¦¬ì˜¤ 1: ì§€ìš°ì˜ ì²« í”„ë¡œì íŠ¸" class="linkLabel_WmDU">ì‹œë‚˜ë¦¬ì˜¤ 1: ì§€ìš°ì˜ ì²« í”„ë¡œì íŠ¸</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/alembic/examples/scenario-02-schema-evolution"><span title="ì‹œë‚˜ë¦¬ì˜¤ 2: ìˆ˜ì§„ì˜ ê¸°ëŠ¥ ì¶”ê°€" class="linkLabel_WmDU">ì‹œë‚˜ë¦¬ì˜¤ 2: ìˆ˜ì§„ì˜ ê¸°ëŠ¥ ì¶”ê°€</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/alembic/examples/scenario-03-team-conflict"><span title="ì‹œë‚˜ë¦¬ì˜¤ 3: ë¯¼í˜¸ì™€ ìˆ˜ì§„ì˜ ì¶©ëŒ í•´ê²°" class="linkLabel_WmDU">ì‹œë‚˜ë¦¬ì˜¤ 3: ë¯¼í˜¸ì™€ ìˆ˜ì§„ì˜ ì¶©ëŒ í•´ê²°</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/alembic/examples/scenario-04-data-migration"><span title="ì‹œë‚˜ë¦¬ì˜¤ 4: ìœ ì§„ì˜ ë°ì´í„° ëŒ€ë³€í™˜" class="linkLabel_WmDU">ì‹œë‚˜ë¦¬ì˜¤ 4: ìœ ì§„ì˜ ë°ì´í„° ëŒ€ë³€í™˜</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/alembic/examples/scenario-05-production-hotfix"><span title="ì‹œë‚˜ë¦¬ì˜¤ 5: ì„œì—°ì˜ ê¸´ê¸‰ ì¶œë™" class="linkLabel_WmDU">ì‹œë‚˜ë¦¬ì˜¤ 5: ì„œì—°ì˜ ê¸´ê¸‰ ì¶œë™</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/alembic/examples/scenario-06-legacy-database"><span title="ì‹œë‚˜ë¦¬ì˜¤ 6: íƒœí¬ì˜ ë ˆê±°ì‹œ ì •ë³µ" class="linkLabel_WmDU">ì‹œë‚˜ë¦¬ì˜¤ 6: íƒœí¬ì˜ ë ˆê±°ì‹œ ì •ë³µ</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/alembic/intermediate/intro"><span title="intermediate" class="categoryLinkLabel_W154">intermediate</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="íƒìƒ‰ ê²½ë¡œ"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="í™ˆ" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">examples</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">ì‹œë‚˜ë¦¬ì˜¤ 6: íƒœí¬ì˜ ë ˆê±°ì‹œ ì •ë³µ</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">ì´ í˜ì´ì§€ì—ì„œ</button></div><div class="theme-doc-markdown markdown"><header><h1>ì‹œë‚˜ë¦¬ì˜¤ 6: íƒœí¬ì˜ ë ˆê±°ì‹œ ì •ë³µ</h1></header>
<p>5ë…„ ëœ ë ˆê±°ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— Alembicì„ ë„ì…í•˜ëŠ” íƒœí¬ì˜ ì—¬ì •ì…ë‹ˆë‹¤.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ìƒí™©-ì„¤ëª…">ğŸ“Œ ìƒí™© ì„¤ëª…<a href="#-ìƒí™©-ì„¤ëª…" class="hash-link" aria-label="ğŸ“Œ ìƒí™© ì„¤ëª…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ“Œ ìƒí™© ì„¤ëª…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>íƒœí¬ëŠ” ì˜¤ë˜ëœ ERP ì‹œìŠ¤í…œì„ ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ê°œë°œìì…ë‹ˆë‹¤. 5ë…„ ì „ì— ë§Œë“¤ì–´ì§„ ì´ ì‹œìŠ¤í…œì€ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ìˆ˜ë™ SQLë¡œ ê´€ë¦¬í•´ì™”ìŠµë‹ˆë‹¤. ì´ì œ íŒ€ì—ì„œ Alembicì„ ë„ì…í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.</p>
<p><strong>ë¬¸ì œ</strong>:</p>
<ul>
<li class="">í”„ë¡œë•ì…˜ DBì— ì´ë¯¸ 100ê°œì˜ í…Œì´ë¸”</li>
<li class="">ìˆ˜ë™ SQL íŒŒì¼ 200ê°œ</li>
<li class="">ì–´ë–¤ SQLì´ ì ìš©ë˜ì—ˆëŠ”ì§€ ë¶ˆëª…í™•</li>
<li class="">ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ ì—†ìŒ</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ëª©í‘œ">ğŸ¯ ëª©í‘œ<a href="#-ëª©í‘œ" class="hash-link" aria-label="ğŸ¯ ëª©í‘œì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ¯ ëª©í‘œì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<ul>
<li class="">ê¸°ì¡´ ìŠ¤í‚¤ë§ˆë¥¼ Alembicìœ¼ë¡œ ê´€ë¦¬</li>
<li class="">í˜„ì¬ ìƒíƒœë¥¼ ì²« ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ìº¡ì²˜</li>
<li class="">íŒ€ì›ë“¤ì´ ì•ˆì „í•˜ê²Œ ì „í™˜</li>
<li class="">ê³¼ê±° íˆìŠ¤í† ë¦¬ ë³´ì¡´</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ëŒ€í™”">ğŸ’¬ ëŒ€í™”<a href="#-ëŒ€í™”" class="hash-link" aria-label="ğŸ’¬ ëŒ€í™”ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ’¬ ëŒ€í™”ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p><strong>íŒ€ì¥ ì„±ë¯¼</strong>: &quot;íƒœí¬ë‹˜, ì´ì œ ë” ì´ìƒ ìˆ˜ë™ SQLì€ ì•ˆ ë©ë‹ˆë‹¤. Alembicì„ ë„ì…í•´ì£¼ì„¸ìš”.&quot;</p>
<p><strong>íƒœí¬</strong>: &quot;ë„¤! ê·¼ë° ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìˆëŠ”ë°... ì–´ë–»ê²Œ ì‹œì‘í•˜ì£ ?&quot;</p>
<p><strong>ì‹œë‹ˆì–´ ì§€ìˆ˜</strong>: &quot;ê±±ì • ë§ˆì„¸ìš”. ë‹¨ê³„ë³„ë¡œ ì•ˆì „í•˜ê²Œ ë§ˆì´ê·¸ë ˆì´ì…˜í•  ìˆ˜ ìˆì–´ìš”.&quot;</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ì‹¤ìŠµ">âš¡ ì‹¤ìŠµ<a href="#-ì‹¤ìŠµ" class="hash-link" aria-label="âš¡ ì‹¤ìŠµì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="âš¡ ì‹¤ìŠµì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1ë‹¨ê³„-í˜„ì¬-ìƒíƒœ-íŒŒì•…-30ë¶„">1ë‹¨ê³„: í˜„ì¬ ìƒíƒœ íŒŒì•… (30ë¶„)<a href="#1ë‹¨ê³„-í˜„ì¬-ìƒíƒœ-íŒŒì•…-30ë¶„" class="hash-link" aria-label="1ë‹¨ê³„: í˜„ì¬ ìƒíƒœ íŒŒì•… (30ë¶„)ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="1ë‹¨ê³„: í˜„ì¬ ìƒíƒœ íŒŒì•… (30ë¶„)ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í”„ë¡œë•ì…˜ ìŠ¤í‚¤ë§ˆ ë¤í”„</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pg_dump -h production-db \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --schema-only \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --no-owner \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --no-privileges \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    erp_production &gt; current_schema.sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í…Œì´ë¸” ëª©ë¡ í™•ì¸</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">psql -h production-db erp_production -c &quot;\dt&quot; &gt; tables_list.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cat tables_list.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  Schema |       Name        | Type  |  Owner</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># --------+-------------------+-------+---------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  public | users             | table | postgres</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  public | employees         | table | postgres</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  public | departments       | table | postgres</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  public | projects          | table | postgres</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  ... (100ê°œ í…Œì´ë¸”)</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ê³¼ê±° SQL íŒŒì¼ë“¤ í™•ì¸</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ls -la migrations_manual/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -rw-r--r-- 2020-01-15-add-users.sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -rw-r--r-- 2020-03-20-add-projects.sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -rw-r--r-- 2021-05-10-add-departments.sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ... (200ê°œ íŒŒì¼)</span><br></span></code></pre></div></div>
<p><strong>íƒœí¬</strong>: &quot;ì™€... ì—„ì²­ ë§ë„¤ìš”. ì´ê±¸ ì–´ë–»ê²Œ ì •ë¦¬í•˜ì£ ?&quot;</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2ë‹¨ê³„-alembic-ì´ˆê¸°í™”">2ë‹¨ê³„: Alembic ì´ˆê¸°í™”<a href="#2ë‹¨ê³„-alembic-ì´ˆê¸°í™”" class="hash-link" aria-label="2ë‹¨ê³„: Alembic ì´ˆê¸°í™”ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="2ë‹¨ê³„: Alembic ì´ˆê¸°í™”ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í”„ë¡œì íŠ¸ ë£¨íŠ¸</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd erp_system</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Alembic ì„¤ì¹˜ ë° ì´ˆê¸°í™”</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pip install alembic sqlalchemy psycopg2-binary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic init alembic</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3ë‹¨ê³„-sqlalchemy-ëª¨ë¸-ì‘ì„±">3ë‹¨ê³„: SQLAlchemy ëª¨ë¸ ì‘ì„±<a href="#3ë‹¨ê³„-sqlalchemy-ëª¨ë¸-ì‘ì„±" class="hash-link" aria-label="3ë‹¨ê³„: SQLAlchemy ëª¨ë¸ ì‘ì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="3ë‹¨ê³„: SQLAlchemy ëª¨ë¸ ì‘ì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p><strong>ì§€ìˆ˜</strong>: &quot;ë¨¼ì € í˜„ì¬ ìŠ¤í‚¤ë§ˆë¥¼ SQLAlchemy ëª¨ë¸ë¡œ ë§Œë“¤ì–´ì•¼ í•´ìš”. sqlacodegenì´ ë„ì™€ì¤„ ê±°ì˜ˆìš”.&quot;</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># sqlacodegen ì„¤ì¹˜</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pip install sqlacodegen</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ëª¨ë¸ ìë™ ìƒì„±</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlacodegen postgresql://user:pass@production-db/erp_production &gt; models_generated.py</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># models_generated.py (ìë™ ìƒì„±ë¨)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ForeignKey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Numeric</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">declarative </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> declarative_base</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">orm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> relationship</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Base </span><span class="token operator">=</span><span class="token plain"> declarative_base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    __tablename__ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> primary_key</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    username </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> unique</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    email </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> unique</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    created_at </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... 50ê°œ í•„ë“œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">Employee</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    __tablename__ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;employees&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> primary_key</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user_id </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ForeignKey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users.id&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    department_id </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ForeignKey</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;departments.id&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    position </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    salary </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Numeric</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">12</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... 30ê°œ í•„ë“œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ... 98ê°œ ëª¨ë¸ ë”</span><br></span></code></pre></div></div>
<p><strong>íƒœí¬</strong>: &quot;ìë™ ìƒì„±ë˜ë‹ˆ í¸í•˜ë„¤ìš”! í•˜ì§€ë§Œ ì •ë¦¬ê°€ í•„ìš”í•  ê²ƒ ê°™ì•„ìš”.&quot;</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># models.py (ì •ë¦¬ëœ ë²„ì „)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ForeignKey</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">declarative </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> declarative_base</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">orm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> relationship</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Base </span><span class="token operator">=</span><span class="token plain"> declarative_base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ì‚¬ìš©ì ê´€ë ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    __tablename__ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... (í•„ìš”í•œ ê²ƒë§Œ)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ì¸ì‚¬ ê´€ë ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">Employee</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    __tablename__ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;employees&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># í”„ë¡œì íŠ¸ ê´€ë ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">Project</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    __tablename__ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;projects&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ...</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4ë‹¨ê³„-ë² ì´ìŠ¤ë¼ì¸-ë§ˆì´ê·¸ë ˆì´ì…˜-ìƒì„±">4ë‹¨ê³„: ë² ì´ìŠ¤ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±<a href="#4ë‹¨ê³„-ë² ì´ìŠ¤ë¼ì¸-ë§ˆì´ê·¸ë ˆì´ì…˜-ìƒì„±" class="hash-link" aria-label="4ë‹¨ê³„: ë² ì´ìŠ¤ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="4ë‹¨ê³„: ë² ì´ìŠ¤ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p><strong>ì§€ìˆ˜</strong>: &quot;ì´ì œ ì¤‘ìš”í•œ ë¶€ë¶„ì´ì—ìš”. í˜„ì¬ ìƒíƒœë¥¼ &#x27;ì²« ë§ˆì´ê·¸ë ˆì´ì…˜&#x27;ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•´ìš”.&quot;</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># env.py ì„¤ì •</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># alembic/env.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">from models import Base</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target_metadata = Base.metadata</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># autogenerateë¡œ ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic revision --autogenerate -m &quot;baseline: capture existing schema&quot;</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># versions/abc123_baseline_capture_existing_schema.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;baseline: capture existing schema</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">Revision ID: abc123</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">Revises:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">Create Date: 2024-01-26 10:00:00</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">upgrade</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Users í…Œì´ë¸”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">create_table</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;id&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;username&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... ëª¨ë“  ì»¬ëŸ¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Employees í…Œì´ë¸”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">create_table</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;employees&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... ëª¨ë“  ì»¬ëŸ¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... 100ê°œ í…Œì´ë¸” ìƒì„± ì½”ë“œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">downgrade</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ì „ì²´ ì‚­ì œ (ì‹¤ì œë¡œëŠ” ì‚¬ìš© ì•ˆ í•¨)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">drop_table</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;employees&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">drop_table</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ...</span><br></span></code></pre></div></div>
<p><strong>íƒœí¬</strong>: &quot;ì ê¹! ì´ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ í…Œì´ë¸”ì„ ë§Œë“¤ë ¤ê³  í•  í…ë°, ì´ë¯¸ ì¡´ì¬í•˜ì–ì•„ìš”?&quot;</p>
<p><strong>ì§€ìˆ˜</strong>: &quot;ë§ì•„ìš”! ê·¸ë˜ì„œ &#x27;stamp&#x27; ëª…ë ¹ì„ ì‚¬ìš©í•´ìš”.&quot;</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5ë‹¨ê³„-stamp---ê°€ì§œ-ì ìš©">5ë‹¨ê³„: Stamp - ê°€ì§œ ì ìš©<a href="#5ë‹¨ê³„-stamp---ê°€ì§œ-ì ìš©" class="hash-link" aria-label="5ë‹¨ê³„: Stamp - ê°€ì§œ ì ìš©ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="5ë‹¨ê³„: Stamp - ê°€ì§œ ì ìš©ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í”„ë¡œë•ì…˜ì—ëŠ” ì´ë¯¸ í…Œì´ë¸”ì´ ìˆìœ¼ë¯€ë¡œ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ë§ˆì´ê·¸ë ˆì´ì…˜ì„ &#x27;ì ìš©ëœ ê²ƒìœ¼ë¡œ í‘œì‹œ&#x27;ë§Œ í•¨</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ê°œë°œ DBì—ì„œ ë¨¼ì € í…ŒìŠ¤íŠ¸</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">psql -d erp_dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Alembic ë²„ì „ í…Œì´ë¸” í™•ì¸</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SELECT * FROM alembic_version;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># (ë¹„ì–´ìˆìŒ)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Stamp: &quot;abc123 ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ì´ë¯¸ ì ìš©ë˜ì—ˆë‹¤&quot;ê³  í‘œì‹œ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic stamp head</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í™•ì¸</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SELECT * FROM alembic_version;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  version_num</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># -------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#  abc123</span><br></span></code></pre></div></div>
<p><strong>íƒœí¬</strong>: &quot;ì˜¤! ì‹¤ì œë¡œ í…Œì´ë¸”ì„ ê±´ë“œë¦¬ì§€ ì•Šê³ , íˆìŠ¤í† ë¦¬ë§Œ ê¸°ë¡í•˜ëŠ” ê±°êµ°ìš”!&quot;</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6ë‹¨ê³„-í”„ë¡œë•ì…˜-ì ìš©">6ë‹¨ê³„: í”„ë¡œë•ì…˜ ì ìš©<a href="#6ë‹¨ê³„-í”„ë¡œë•ì…˜-ì ìš©" class="hash-link" aria-label="6ë‹¨ê³„: í”„ë¡œë•ì…˜ ì ìš©ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="6ë‹¨ê³„: í”„ë¡œë•ì…˜ ì ìš©ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í”„ë¡œë•ì…˜ DB</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ssh production-server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd /var/www/erp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ì½”ë“œ ë°°í¬</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">git pull origin main</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Stamp (ì‹¤ì œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì—†ìŒ)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic stamp abc123</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í™•ì¸</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic current</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># abc123 (head)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic history</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># &lt;base&gt; -&gt; abc123 (head), baseline: capture existing schema</span><br></span></code></pre></div></div>
<p><strong>ì„±ë¯¼</strong>: &quot;ì™„ë²½í•´ìš”! ì´ì œë¶€í„°ëŠ” ëª¨ë“  ë³€ê²½ì‚¬í•­ì„ Alembicìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆê² ë„¤ìš”.&quot;</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="7ë‹¨ê³„-ì²«-ë²ˆì§¸-ì‹¤ì œ-ë§ˆì´ê·¸ë ˆì´ì…˜">7ë‹¨ê³„: ì²« ë²ˆì§¸ ì‹¤ì œ ë§ˆì´ê·¸ë ˆì´ì…˜<a href="#7ë‹¨ê³„-ì²«-ë²ˆì§¸-ì‹¤ì œ-ë§ˆì´ê·¸ë ˆì´ì…˜" class="hash-link" aria-label="7ë‹¨ê³„: ì²« ë²ˆì§¸ ì‹¤ì œ ë§ˆì´ê·¸ë ˆì´ì…˜ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="7ë‹¨ê³„: ì²« ë²ˆì§¸ ì‹¤ì œ ë§ˆì´ê·¸ë ˆì´ì…˜ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># models.pyì— ìƒˆ í•„ë“œ ì¶”ê°€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    __tablename__ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... ê¸°ì¡´ í•„ë“œë“¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    last_login_at </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># ìƒˆ í•„ë“œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    is_active </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># ìƒˆ í•„ë“œ</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic revision --autogenerate -m &quot;add last_login_at and is_active to users&quot;</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;add last_login_at and is_active to users</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">Revision ID: def456</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">Revises: abc123  â† ë² ì´ìŠ¤ë¼ì¸ì„ ë¶€ëª¨ë¡œ!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">upgrade</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add_column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;last_login_at&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add_column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;is_active&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sa</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">downgrade</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">drop_column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;is_active&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">drop_column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;last_login_at&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ê°œë°œ í™˜ê²½ í…ŒìŠ¤íŠ¸</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic upgrade head</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># INFO  Running upgrade abc123 -&gt; def456</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í”„ë¡œë•ì…˜ ë°°í¬</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic upgrade head</span><br></span></code></pre></div></div>
<p><strong>íƒœí¬</strong>: &quot;ë“œë””ì–´! ê¹”ë”í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œìŠ¤í…œì´ ìƒê²¼ì–´ìš”!&quot;</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ë³µì¡í•œ-ì‹œë‚˜ë¦¬ì˜¤ë“¤">ğŸ¨ ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ë“¤<a href="#-ë³µì¡í•œ-ì‹œë‚˜ë¦¬ì˜¤ë“¤" class="hash-link" aria-label="ğŸ¨ ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ë“¤ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ¨ ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ë“¤ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì‹œë‚˜ë¦¬ì˜¤-a-ì¼ë¶€ë§Œ-ë§ˆì´ê·¸ë ˆì´ì…˜">ì‹œë‚˜ë¦¬ì˜¤ A: ì¼ë¶€ë§Œ ë§ˆì´ê·¸ë ˆì´ì…˜<a href="#ì‹œë‚˜ë¦¬ì˜¤-a-ì¼ë¶€ë§Œ-ë§ˆì´ê·¸ë ˆì´ì…˜" class="hash-link" aria-label="ì‹œë‚˜ë¦¬ì˜¤ A: ì¼ë¶€ë§Œ ë§ˆì´ê·¸ë ˆì´ì…˜ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì‹œë‚˜ë¦¬ì˜¤ A: ì¼ë¶€ë§Œ ë§ˆì´ê·¸ë ˆì´ì…˜ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p><strong>ë¬¸ì œ</strong>: 100ê°œ í…Œì´ë¸” ì¤‘ í•µì‹¬ 20ê°œë§Œ ë¨¼ì € Alembicìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ì–´ìš”.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># alembic/env.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">include_object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token builtin" style="color:rgb(189, 147, 249)">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> type_</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> reflected</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> compare_to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ê´€ë¦¬í•  í…Œì´ë¸” ëª©ë¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    managed_tables </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;employees&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;departments&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;projects&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tasks&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;time_entries&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># ... 20ê°œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># í…Œì´ë¸”ì´ë©´ ëª©ë¡ì— ìˆëŠ”ì§€ í™•ì¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> type_ </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;table&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> name </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> managed_tables</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ë‹¤ë¥¸ ê°ì²´ëŠ” ë¬´ì‹œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">run_migrations_online</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">configure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        include_object</span><span class="token operator">=</span><span class="token plain">include_object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì‹œë‚˜ë¦¬ì˜¤-b-íˆìŠ¤í† ë¦¬-ì¬êµ¬ì„±">ì‹œë‚˜ë¦¬ì˜¤ B: íˆìŠ¤í† ë¦¬ ì¬êµ¬ì„±<a href="#ì‹œë‚˜ë¦¬ì˜¤-b-íˆìŠ¤í† ë¦¬-ì¬êµ¬ì„±" class="hash-link" aria-label="ì‹œë‚˜ë¦¬ì˜¤ B: íˆìŠ¤í† ë¦¬ ì¬êµ¬ì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì‹œë‚˜ë¦¬ì˜¤ B: íˆìŠ¤í† ë¦¬ ì¬êµ¬ì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p><strong>ë¬¸ì œ</strong>: ê³¼ê±° ìˆ˜ë™ SQL íŒŒì¼ì„ ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ë³€í™˜í•˜ê³  ì‹¶ì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ê³¼ê±° SQL íŒŒì¼ ë¶„ì„</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ls migrations_manual/*.sql | sort</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ê° SQLì„ ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ë³€í™˜</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># versions/001_2020_01_15_initial_users.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;initial users table (historical)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">Revision ID: 001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">Revises:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">Create Date: 2020-01-15 10:00:00</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">upgrade</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ì›ë˜ SQL íŒŒì¼ ë‚´ìš©ì„ op.executeë¡œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&#x27;&#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        CREATE TABLE users (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">            id SERIAL PRIMARY KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">            username VARCHAR(50) UNIQUE NOT NULL,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">            ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &#x27;&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">downgrade</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    op</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">drop_table</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;users&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ì£¼ì˜: ì´ ë§ˆì´ê·¸ë ˆì´ì…˜ë“¤ì€ ì‹¤ì œ ì ìš©í•˜ì§€ ì•ŠìŒ!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># íˆìŠ¤í† ë¦¬ ê¸°ë¡ìš©</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ê³¼ê±° ë§ˆì´ê·¸ë ˆì´ì…˜ì„ &quot;ì ìš©ëœ ê²ƒìœ¼ë¡œ&quot; í‘œì‹œ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic stamp 001</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic stamp 002</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic stamp abc123  # í˜„ì¬ ìƒíƒœ</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ì‹œë‚˜ë¦¬ì˜¤-c-ë‹¤ì¤‘-í™˜ê²½-ë™ê¸°í™”">ì‹œë‚˜ë¦¬ì˜¤ C: ë‹¤ì¤‘ í™˜ê²½ ë™ê¸°í™”<a href="#ì‹œë‚˜ë¦¬ì˜¤-c-ë‹¤ì¤‘-í™˜ê²½-ë™ê¸°í™”" class="hash-link" aria-label="ì‹œë‚˜ë¦¬ì˜¤ C: ë‹¤ì¤‘ í™˜ê²½ ë™ê¸°í™”ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì‹œë‚˜ë¦¬ì˜¤ C: ë‹¤ì¤‘ í™˜ê²½ ë™ê¸°í™”ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ê°œë°œ DB</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic -n development upgrade head</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ìŠ¤í…Œì´ì§• DB</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic -n staging upgrade head</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># í”„ë¡œë•ì…˜ DB</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic -n production stamp abc123  # ë ˆê±°ì‹œ</span><br></span></code></pre></div></div>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># alembic.ini</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[development]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlalchemy.url = postgresql://localhost/erp_dev</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[staging]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlalchemy.url = postgresql://staging-db/erp_staging</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[production]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlalchemy.url = postgresql://production-db/erp_production</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤">ğŸ’¡ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤<a href="#-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤" class="hash-link" aria-label="ğŸ’¡ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ’¡ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-ì ì§„ì -ë„ì…">1. ì ì§„ì  ë„ì…<a href="#1-ì ì§„ì -ë„ì…" class="hash-link" aria-label="1. ì ì§„ì  ë„ì…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="1. ì ì§„ì  ë„ì…ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Week 1: í•µì‹¬ 10ê°œ í…Œì´ë¸”</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Week 2: ì‚¬ìš©ì ê´€ë ¨ 20ê°œ í…Œì´ë¸”</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Week 3: í”„ë¡œì íŠ¸ ê´€ë ¨ 30ê°œ í…Œì´ë¸”</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Week 4: ë‚˜ë¨¸ì§€ 40ê°œ í…Œì´ë¸”</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-ë¬¸ì„œí™”">2. ë¬¸ì„œí™”<a href="#2-ë¬¸ì„œí™”" class="hash-link" aria-label="2. ë¬¸ì„œí™”ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="2. ë¬¸ì„œí™”ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token title important punctuation" style="color:rgb(248, 248, 242)">#</span><span class="token title important"> MIGRATION_GUIDE.md</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(248, 248, 242)">##</span><span class="token title important"> Alembic ë„ì… íˆìŠ¤í† ë¦¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 2024-01-26: ë² ì´ìŠ¤ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ (abc123)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ê¸°ì¡´ 100ê°œ í…Œì´ë¸” ìº¡ì²˜</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> í”„ë¡œë•ì…˜ì— stampë¡œ ì ìš©</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token list punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 2024-02-01: ì²« ë²ˆì§¸ ì‹¤ì œ ë§ˆì´ê·¸ë ˆì´ì…˜ (def456)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token list punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> users í…Œì´ë¸”ì— í•„ë“œ ì¶”ê°€</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token title important punctuation" style="color:rgb(248, 248, 242)">##</span><span class="token title important"> ê³¼ê±° SQL íŒŒì¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token code-snippet code keyword" style="color:rgb(189, 147, 249);font-style:italic">`migrations_manual/`</span><span class="token plain"> í´ë”ì˜ SQL íŒŒì¼ë“¤ì€</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2020-2024ë…„ ì‚¬ì´ ìˆ˜ë™ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ë³´ê´€í•˜ë©°, ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-íŒ€-êµìœ¡">3. íŒ€ êµìœ¡<a href="#3-íŒ€-êµìœ¡" class="hash-link" aria-label="3. íŒ€ êµìœ¡ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="3. íŒ€ êµìœ¡ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Makefile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">PHONY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> migrate</span><span class="token operator">-</span><span class="token plain">dev migrate</span><span class="token operator">-</span><span class="token plain">staging migrate</span><span class="token operator">-</span><span class="token plain">prod</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">migrate</span><span class="token operator">-</span><span class="token plain">dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    alembic upgrade head</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">migrate</span><span class="token operator">-</span><span class="token plain">staging</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Staging ë°°í¬ í™•ì¸: ê³„ì†í•˜ë ¤ë©´ ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@read</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    alembic upgrade head</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">migrate</span><span class="token operator">-</span><span class="token plain">prod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;âš ï¸  í”„ë¡œë•ì…˜ ë°°í¬!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ë°±ì—… í™•ì¸í–ˆë‚˜ìš”? (yes/no)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@read</span><span class="token plain"> confirm </span><span class="token operator">&amp;</span><span class="token operator">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;$$confirm&quot;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;yes&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    alembic upgrade head</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ï¸-ì£¼ì˜ì‚¬í•­">âš ï¸ ì£¼ì˜ì‚¬í•­<a href="#ï¸-ì£¼ì˜ì‚¬í•­" class="hash-link" aria-label="âš ï¸ ì£¼ì˜ì‚¬í•­ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="âš ï¸ ì£¼ì˜ì‚¬í•­ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-sqlacodegen-ê²°ê³¼-ê²€í† -í•„ìˆ˜">1. sqlacodegen ê²°ê³¼ ê²€í†  í•„ìˆ˜<a href="#1-sqlacodegen-ê²°ê³¼-ê²€í† -í•„ìˆ˜" class="hash-link" aria-label="1. sqlacodegen ê²°ê³¼ ê²€í†  í•„ìˆ˜ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="1. sqlacodegen ê²°ê³¼ ê²€í†  í•„ìˆ˜ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># âŒ ìë™ ìƒì„±ëœ ì½”ë“œ ë¬¸ì œì </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;user_id&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># ì»¬ëŸ¼ëª… ë¶ˆì¼ì¹˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># ê¸¸ì´ ì—†ìŒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">LargeBinary</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># íƒ€ì… ë¶€ì •í™•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># âœ… ìˆ˜ë™ ìˆ˜ì •</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> primary_key</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-ì™¸ë˜-í‚¤-ìˆœí™˜-ì°¸ì¡°">2. ì™¸ë˜ í‚¤ ìˆœí™˜ ì°¸ì¡°<a href="#2-ì™¸ë˜-í‚¤-ìˆœí™˜-ì°¸ì¡°" class="hash-link" aria-label="2. ì™¸ë˜ í‚¤ ìˆœí™˜ ì°¸ì¡°ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="2. ì™¸ë˜ í‚¤ ìˆœí™˜ ì°¸ì¡°ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># sqlacodegenì´ ê´€ê³„ë¥¼ ìˆœí™˜ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆìŒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ìˆ˜ë™ìœ¼ë¡œ í™•ì¸ ë° ìˆ˜ì • í•„ìš”</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-ë² ì´ìŠ¤ë¼ì¸-ì´í›„-ì ˆëŒ€-ìˆ˜ì •-ê¸ˆì§€">3. ë² ì´ìŠ¤ë¼ì¸ ì´í›„ ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€<a href="#3-ë² ì´ìŠ¤ë¼ì¸-ì´í›„-ì ˆëŒ€-ìˆ˜ì •-ê¸ˆì§€" class="hash-link" aria-label="3. ë² ì´ìŠ¤ë¼ì¸ ì´í›„ ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="3. ë² ì´ìŠ¤ë¼ì¸ ì´í›„ ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># âŒ ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># versions/abc123_baseline.pyë¥¼ ìˆ˜ì •</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># âœ… ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic revision </span><span class="token operator">-</span><span class="token plain">m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;fix: correct baseline issue&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ëª¨ë‹ˆí„°ë§">ğŸ“Š ëª¨ë‹ˆí„°ë§<a href="#-ëª¨ë‹ˆí„°ë§" class="hash-link" aria-label="ğŸ“Š ëª¨ë‹ˆí„°ë§ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ“Š ëª¨ë‹ˆí„°ë§ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ë§ˆì´ê·¸ë ˆì´ì…˜-ìƒíƒœ-í™•ì¸-ìŠ¤í¬ë¦½íŠ¸">ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸<a href="#ë§ˆì´ê·¸ë ˆì´ì…˜-ìƒíƒœ-í™•ì¸-ìŠ¤í¬ë¦½íŠ¸" class="hash-link" aria-label="ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># check_migration_status.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> create_engine</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> text</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> sys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">check_status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">db_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> env_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    engine </span><span class="token operator">=</span><span class="token plain"> create_engine</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">db_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">with</span><span class="token plain"> engine</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> conn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Alembic ë²„ì „ í™•ì¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        result </span><span class="token operator">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;SELECT version_num FROM alembic_version&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        current </span><span class="token operator">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">scalar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">env_name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">current</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># ëŒ€ê¸° ì¤‘ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ í™•ì¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># (ì‹¤ì œë¡œëŠ” alembic historyì™€ ë¹„êµ)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> __name__ </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    check_status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;postgresql://localhost/erp_dev&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Development&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    check_status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;postgresql://staging/erp_staging&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Staging&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    check_status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;postgresql://prod/erp_prod&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Production&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">python check_migration_status.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Development: def456</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Staging: def456</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Production: abc123  â† ì•„ì§ ë°°í¬ ì•ˆ ë¨!</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ì‹¤ìŠµ-ê³¼ì œ">âœ… ì‹¤ìŠµ ê³¼ì œ<a href="#-ì‹¤ìŠµ-ê³¼ì œ" class="hash-link" aria-label="âœ… ì‹¤ìŠµ ê³¼ì œì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="âœ… ì‹¤ìŠµ ê³¼ì œì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ì— Alembicì„ ë„ì…í•´ë³´ì„¸ìš”:</p>
<ol>
<li class="">ìƒ˜í”Œ ë ˆê±°ì‹œ DB ìƒì„± (3ê°œ í…Œì´ë¸”)</li>
<li class="">sqlacodegenìœ¼ë¡œ ëª¨ë¸ ìƒì„±</li>
<li class="">ë² ì´ìŠ¤ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±</li>
<li class="">stampë¡œ ì ìš©</li>
<li class="">ìƒˆ í•„ë“œ ì¶”ê°€ ë§ˆì´ê·¸ë ˆì´ì…˜</li>
</ol>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>ì •ë‹µ ë³´ê¸°</summary><div><div class="collapsibleContent_i85q"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 1. ë ˆê±°ì‹œ DB ìƒì„±</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">psql -d postgres -c &quot;CREATE DATABASE legacy_db&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">psql -d legacy_db &lt;&lt; EOF</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CREATE TABLE users (id SERIAL PRIMARY KEY, name VARCHAR(50));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CREATE TABLE posts (id SERIAL PRIMARY KEY, user_id INT, title VARCHAR(200));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CREATE TABLE comments (id SERIAL PRIMARY KEY, post_id INT, content TEXT);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 2. ëª¨ë¸ ìƒì„±</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sqlacodegen postgresql://localhost/legacy_db &gt; models.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 3. Alembic ì´ˆê¸°í™”</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic init alembic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># env.pyì— target_metadata ì„¤ì •</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 4. ë² ì´ìŠ¤ë¼ì¸ ìƒì„±</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic revision --autogenerate -m &quot;baseline&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 5. Stamp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic stamp head</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 6. ìƒˆ í•„ë“œ ì¶”ê°€</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># models.pyì—ì„œ Userì— email í•„ë“œ ì¶”ê°€</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic revision --autogenerate -m &quot;add email to users&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">alembic upgrade head</span><br></span></code></pre></div></div></div></div></details>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ë°°ìš´-ë‚´ìš©">ğŸ“ ë°°ìš´ ë‚´ìš©<a href="#-ë°°ìš´-ë‚´ìš©" class="hash-link" aria-label="ğŸ“ ë°°ìš´ ë‚´ìš©ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ“ ë°°ìš´ ë‚´ìš©ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<ul>
<li class="">ë ˆê±°ì‹œ DBì— Alembic ë„ì… ì „ëµ</li>
<li class=""><code>alembic stamp</code>ë¡œ ë² ì´ìŠ¤ë¼ì¸ ì„¤ì •</li>
<li class="">sqlacodegenìœ¼ë¡œ ìë™ ëª¨ë¸ ìƒì„±</li>
<li class="">ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ ë°©ë²•</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ê´€ë ¨-ë¬¸ì„œ">ğŸ”— ê´€ë ¨ ë¬¸ì„œ<a href="#-ê´€ë ¨-ë¬¸ì„œ" class="hash-link" aria-label="ğŸ”— ê´€ë ¨ ë¬¸ì„œì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ”— ê´€ë ¨ ë¬¸ì„œì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<ul>
<li class=""><a class="" href="/docs/alembic/basic/installation">Alembic ì„¤ì¹˜ ë° ì´ˆê¸°í™”</a></li>
<li class=""><a class="" href="/docs/alembic/intermediate/autogenerate">ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±</a></li>
<li class=""><a class="" href="/docs/alembic/basic/history">ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ì™„ë£Œ">ğŸ‰ ì™„ë£Œ!<a href="#-ì™„ë£Œ" class="hash-link" aria-label="ğŸ‰ ì™„ë£Œ!ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸ‰ ì™„ë£Œ!ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p><strong>íƒœí¬</strong>: &quot;ë“œë””ì–´ 5ë…„ ëœ ë ˆê±°ì‹œë¥¼ í˜„ëŒ€í™”í–ˆì–´ìš”! ì´ì œ ìì‹ ê°ì´ ìƒê²¼ìŠµë‹ˆë‹¤!&quot;</p>
<p><strong>ì„±ë¯¼</strong>: &quot;ìˆ˜ê³ í–ˆì–´ìš”! ì´ì œ ìš°ë¦¬ íŒ€ë„ ì²´ê³„ì ìœ¼ë¡œ DBë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê² ë„¤ìš”.&quot;</p>
<hr>
<p><strong>ğŸ’¬ í† ë¡ </strong>: ë ˆê±°ì‹œ ì‹œìŠ¤í…œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê²½í—˜ì„ ê³µìœ í•´ì£¼ì„¸ìš”!</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-alembic-ë§ˆìŠ¤í„°-ì™„ë£Œ">ğŸŠ Alembic ë§ˆìŠ¤í„° ì™„ë£Œ!<a href="#-alembic-ë§ˆìŠ¤í„°-ì™„ë£Œ" class="hash-link" aria-label="ğŸŠ Alembic ë§ˆìŠ¤í„° ì™„ë£Œ!ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ğŸŠ Alembic ë§ˆìŠ¤í„° ì™„ë£Œ!ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>ì¶•í•˜í•©ë‹ˆë‹¤! 6ê°œì˜ ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ëª¨ë‘ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!</p>
<p>ì´ì œ ì—¬ëŸ¬ë¶„ì€:
âœ… ì‹ ê·œ í”„ë¡œì íŠ¸ì— Alembic ë„ì…
âœ… ìŠ¤í‚¤ë§ˆ í™•ì¥
âœ… íŒ€ í˜‘ì—… ì¶©ëŒ í•´ê²°
âœ… ëŒ€ëŸ‰ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
âœ… í”„ë¡œë•ì…˜ ê¸´ê¸‰ ìˆ˜ì •
âœ… ë ˆê±°ì‹œ DB ë§ˆì´ê·¸ë ˆì´ì…˜</p>
<p><strong>ëª¨ë“  ìƒí™©ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</strong> ğŸš€</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/alembic/examples/scenario-06-legacy-database.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>í˜ì´ì§€ í¸ì§‘</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="ë¬¸ì„œ í˜ì´ì§€"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/alembic/examples/scenario-05-production-hotfix"><div class="pagination-nav__sublabel">ì´ì „</div><div class="pagination-nav__label">ì‹œë‚˜ë¦¬ì˜¤ 5: ì„œì—°ì˜ ê¸´ê¸‰ ì¶œë™</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/alembic/intermediate/intro"><div class="pagination-nav__sublabel">ë‹¤ìŒ</div><div class="pagination-nav__label">ì¤‘ê¸‰í¸ ì†Œê°œ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-ìƒí™©-ì„¤ëª…" class="table-of-contents__link toc-highlight">ğŸ“Œ ìƒí™© ì„¤ëª…</a></li><li><a href="#-ëª©í‘œ" class="table-of-contents__link toc-highlight">ğŸ¯ ëª©í‘œ</a></li><li><a href="#-ëŒ€í™”" class="table-of-contents__link toc-highlight">ğŸ’¬ ëŒ€í™”</a></li><li><a href="#-ì‹¤ìŠµ" class="table-of-contents__link toc-highlight">âš¡ ì‹¤ìŠµ</a><ul><li><a href="#1ë‹¨ê³„-í˜„ì¬-ìƒíƒœ-íŒŒì•…-30ë¶„" class="table-of-contents__link toc-highlight">1ë‹¨ê³„: í˜„ì¬ ìƒíƒœ íŒŒì•… (30ë¶„)</a></li><li><a href="#2ë‹¨ê³„-alembic-ì´ˆê¸°í™”" class="table-of-contents__link toc-highlight">2ë‹¨ê³„: Alembic ì´ˆê¸°í™”</a></li><li><a href="#3ë‹¨ê³„-sqlalchemy-ëª¨ë¸-ì‘ì„±" class="table-of-contents__link toc-highlight">3ë‹¨ê³„: SQLAlchemy ëª¨ë¸ ì‘ì„±</a></li><li><a href="#4ë‹¨ê³„-ë² ì´ìŠ¤ë¼ì¸-ë§ˆì´ê·¸ë ˆì´ì…˜-ìƒì„±" class="table-of-contents__link toc-highlight">4ë‹¨ê³„: ë² ì´ìŠ¤ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±</a></li><li><a href="#5ë‹¨ê³„-stamp---ê°€ì§œ-ì ìš©" class="table-of-contents__link toc-highlight">5ë‹¨ê³„: Stamp - ê°€ì§œ ì ìš©</a></li><li><a href="#6ë‹¨ê³„-í”„ë¡œë•ì…˜-ì ìš©" class="table-of-contents__link toc-highlight">6ë‹¨ê³„: í”„ë¡œë•ì…˜ ì ìš©</a></li><li><a href="#7ë‹¨ê³„-ì²«-ë²ˆì§¸-ì‹¤ì œ-ë§ˆì´ê·¸ë ˆì´ì…˜" class="table-of-contents__link toc-highlight">7ë‹¨ê³„: ì²« ë²ˆì§¸ ì‹¤ì œ ë§ˆì´ê·¸ë ˆì´ì…˜</a></li></ul></li><li><a href="#-ë³µì¡í•œ-ì‹œë‚˜ë¦¬ì˜¤ë“¤" class="table-of-contents__link toc-highlight">ğŸ¨ ë³µì¡í•œ ì‹œë‚˜ë¦¬ì˜¤ë“¤</a><ul><li><a href="#ì‹œë‚˜ë¦¬ì˜¤-a-ì¼ë¶€ë§Œ-ë§ˆì´ê·¸ë ˆì´ì…˜" class="table-of-contents__link toc-highlight">ì‹œë‚˜ë¦¬ì˜¤ A: ì¼ë¶€ë§Œ ë§ˆì´ê·¸ë ˆì´ì…˜</a></li><li><a href="#ì‹œë‚˜ë¦¬ì˜¤-b-íˆìŠ¤í† ë¦¬-ì¬êµ¬ì„±" class="table-of-contents__link toc-highlight">ì‹œë‚˜ë¦¬ì˜¤ B: íˆìŠ¤í† ë¦¬ ì¬êµ¬ì„±</a></li><li><a href="#ì‹œë‚˜ë¦¬ì˜¤-c-ë‹¤ì¤‘-í™˜ê²½-ë™ê¸°í™”" class="table-of-contents__link toc-highlight">ì‹œë‚˜ë¦¬ì˜¤ C: ë‹¤ì¤‘ í™˜ê²½ ë™ê¸°í™”</a></li></ul></li><li><a href="#-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤" class="table-of-contents__link toc-highlight">ğŸ’¡ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</a><ul><li><a href="#1-ì ì§„ì -ë„ì…" class="table-of-contents__link toc-highlight">1. ì ì§„ì  ë„ì…</a></li><li><a href="#2-ë¬¸ì„œí™”" class="table-of-contents__link toc-highlight">2. ë¬¸ì„œí™”</a></li><li><a href="#3-íŒ€-êµìœ¡" class="table-of-contents__link toc-highlight">3. íŒ€ êµìœ¡</a></li></ul></li><li><a href="#ï¸-ì£¼ì˜ì‚¬í•­" class="table-of-contents__link toc-highlight">âš ï¸ ì£¼ì˜ì‚¬í•­</a><ul><li><a href="#1-sqlacodegen-ê²°ê³¼-ê²€í† -í•„ìˆ˜" class="table-of-contents__link toc-highlight">1. sqlacodegen ê²°ê³¼ ê²€í†  í•„ìˆ˜</a></li><li><a href="#2-ì™¸ë˜-í‚¤-ìˆœí™˜-ì°¸ì¡°" class="table-of-contents__link toc-highlight">2. ì™¸ë˜ í‚¤ ìˆœí™˜ ì°¸ì¡°</a></li><li><a href="#3-ë² ì´ìŠ¤ë¼ì¸-ì´í›„-ì ˆëŒ€-ìˆ˜ì •-ê¸ˆì§€" class="table-of-contents__link toc-highlight">3. ë² ì´ìŠ¤ë¼ì¸ ì´í›„ ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€</a></li></ul></li><li><a href="#-ëª¨ë‹ˆí„°ë§" class="table-of-contents__link toc-highlight">ğŸ“Š ëª¨ë‹ˆí„°ë§</a><ul><li><a href="#ë§ˆì´ê·¸ë ˆì´ì…˜-ìƒíƒœ-í™•ì¸-ìŠ¤í¬ë¦½íŠ¸" class="table-of-contents__link toc-highlight">ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸</a></li></ul></li><li><a href="#-ì‹¤ìŠµ-ê³¼ì œ" class="table-of-contents__link toc-highlight">âœ… ì‹¤ìŠµ ê³¼ì œ</a></li><li><a href="#-ë°°ìš´-ë‚´ìš©" class="table-of-contents__link toc-highlight">ğŸ“ ë°°ìš´ ë‚´ìš©</a></li><li><a href="#-ê´€ë ¨-ë¬¸ì„œ" class="table-of-contents__link toc-highlight">ğŸ”— ê´€ë ¨ ë¬¸ì„œ</a></li><li><a href="#-ì™„ë£Œ" class="table-of-contents__link toc-highlight">ğŸ‰ ì™„ë£Œ!</a></li><li><a href="#-alembic-ë§ˆìŠ¤í„°-ì™„ë£Œ" class="table-of-contents__link toc-highlight">ğŸŠ Alembic ë§ˆìŠ¤í„° ì™„ë£Œ!</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">í•™ìŠµ ê°€ì´ë“œ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/github/intro">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/react/intro">React</a></li><li class="footer__item"><a class="footer__link-item" href="/database/postgres/intro">Database</a></li><li class="footer__item"><a class="footer__link-item" href="/alembic/intro">Alembic</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq/intro">RabbitMQ</a></li><li class="footer__item"><a class="footer__link-item" href="/fastapi/intro">FastAPI</a></li><li class="footer__item"><a class="footer__link-item" href="/crawling/intro">Crawling</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">ë¦¬ì†ŒìŠ¤</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://git-scm.com/doc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Git ê³µì‹ ë¬¸ì„œ<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://react.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">React ê³µì‹ ë¬¸ì„œ<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.postgresql.org/docs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">PostgreSQL ê³µì‹ ë¬¸ì„œ<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://alembic.sqlalchemy.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Alembic ê³µì‹ ë¬¸ì„œ<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">RabbitMQ ê³µì‹ ë¬¸ì„œ<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://fastapi.tiangolo.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">FastAPI ê³µì‹ ë¬¸ì„œ<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://playwright.dev/python/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playwright ê³µì‹ ë¬¸ì„œ<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">ë” ë³´ê¸°</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with Docusaurus</div></div></div></footer></div>
</body>
</html>