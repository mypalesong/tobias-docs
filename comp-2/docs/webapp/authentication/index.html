<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-webapp/authentication" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">2. 인증 및 인가 | docusaurus-comp-2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mypalesong.github.io/tobias-docs/comp-2/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mypalesong.github.io/tobias-docs/comp-2/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mypalesong.github.io/tobias-docs/comp-2/docs/webapp/authentication"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="2. 인증 및 인가 | docusaurus-comp-2"><meta data-rh="true" name="description" content="Vue 3와 FastAPI를 활용한 웹 애플리케이션의 인증(Authentication)과 인가(Authorization) 시스템을 구축하는 방법을 학습합니다. JWT 기반 인증부터 OAuth 2.0 소셜 로그인, 비밀번호 재설정까지 실무에서 필요한 모든 내용을 다룹니다."><meta data-rh="true" property="og:description" content="Vue 3와 FastAPI를 활용한 웹 애플리케이션의 인증(Authentication)과 인가(Authorization) 시스템을 구축하는 방법을 학습합니다. JWT 기반 인증부터 OAuth 2.0 소셜 로그인, 비밀번호 재설정까지 실무에서 필요한 모든 내용을 다룹니다."><link data-rh="true" rel="icon" href="/tobias-docs/comp-2/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mypalesong.github.io/tobias-docs/comp-2/docs/webapp/authentication"><link data-rh="true" rel="alternate" href="https://mypalesong.github.io/tobias-docs/comp-2/docs/webapp/authentication" hreflang="ko"><link data-rh="true" rel="alternate" href="https://mypalesong.github.io/tobias-docs/comp-2/docs/webapp/authentication" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"2. 인증 및 인가","item":"https://mypalesong.github.io/tobias-docs/comp-2/docs/webapp/authentication"}]}</script><link rel="alternate" type="application/rss+xml" href="/tobias-docs/comp-2/blog/rss.xml" title="docusaurus-comp-2 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tobias-docs/comp-2/blog/atom.xml" title="docusaurus-comp-2 Atom Feed"><link rel="stylesheet" href="/tobias-docs/comp-2/assets/css/styles.85698258.css">
<script src="/tobias-docs/comp-2/assets/js/runtime~main.4d2e2297.js" defer="defer"></script>
<script src="/tobias-docs/comp-2/assets/js/main.ca8e7b2f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/tobias-docs/comp-2/img/logo.svg"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="메인" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tobias-docs/comp-2/"><div class="navbar__logo"><img src="/tobias-docs/comp-2/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tobias-docs/comp-2/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">docusaurus-comp-2</b></a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/">GitHub</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/writing/intro">Writing</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/python/advanced/metaclasses">Python</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/prometheus/installation">Prometheus</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/n8n/installation">n8n</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/pandas/basics">pandas</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tobias-docs/comp-2/docs/webapp/intro">Web App</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/dagster/intro">Dagster</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/apscheduler/intro">APScheduler</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/enterprise/intro">Enterprise App</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/webdev/intro">Web Dev</a><a class="navbar__item navbar__link" href="/tobias-docs/comp-2/docs/devops/intro">DevOps</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="문서 사이드바" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/intro"><span title="웹 애플리케이션 개발 가이드" class="linkLabel_WmDU">웹 애플리케이션 개발 가이드</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/setup"><span title="1. 프로젝트 설정" class="linkLabel_WmDU">1. 프로젝트 설정</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/tobias-docs/comp-2/docs/webapp/authentication"><span title="2. 인증 및 인가" class="linkLabel_WmDU">2. 인증 및 인가</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/api-design"><span title="3. API 설계" class="linkLabel_WmDU">3. API 설계</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/database"><span title="4. 데이터베이스" class="linkLabel_WmDU">4. 데이터베이스</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/frontend-basics"><span title="5. Frontend 기초" class="linkLabel_WmDU">5. Frontend 기초</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/state-management"><span title="6. 상태 관리" class="linkLabel_WmDU">6. 상태 관리</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/forms-validation"><span title="7. 폼 처리 및 검증" class="linkLabel_WmDU">7. 폼 처리 및 검증</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/file-upload"><span title="8. 파일 업로드" class="linkLabel_WmDU">8. 파일 업로드</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/crud-basics"><span title="9. CRUD 구현" class="linkLabel_WmDU">9. CRUD 구현</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/error-handling"><span title="10. 에러 처리 및 로깅" class="linkLabel_WmDU">10. 에러 처리 및 로깅</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/security"><span title="11. 보안" class="linkLabel_WmDU">11. 보안</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/performance"><span title="12. 성능 최적화" class="linkLabel_WmDU">12. 성능 최적화</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/testing"><span title="13. 테스트" class="linkLabel_WmDU">13. 테스트</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/deployment"><span title="14. 배포" class="linkLabel_WmDU">14. 배포</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tobias-docs/comp-2/docs/webapp/monitoring"><span title="15. 모니터링" class="linkLabel_WmDU">15. 모니터링</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="탐색 경로"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/tobias-docs/comp-2/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">2. 인증 및 인가</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>2. 인증 및 인가</h1></header>
<p>Vue 3와 FastAPI를 활용한 웹 애플리케이션의 인증(Authentication)과 인가(Authorization) 시스템을 구축하는 방법을 학습합니다. JWT 기반 인증부터 OAuth 2.0 소셜 로그인, 비밀번호 재설정까지 실무에서 필요한 모든 내용을 다룹니다.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="21-인증-vs-인가-개념">2.1 인증 vs 인가 개념<a href="#21-인증-vs-인가-개념" class="hash-link" aria-label="2.1 인증 vs 인가 개념에 대한 직접 링크" title="2.1 인증 vs 인가 개념에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="인증-authentication">인증 (Authentication)<a href="#인증-authentication" class="hash-link" aria-label="인증 (Authentication)에 대한 직접 링크" title="인증 (Authentication)에 대한 직접 링크" translate="no">​</a></h3>
<p><strong>인증</strong>은 &quot;당신이 누구인지&quot; 확인하는 과정입니다. 사용자가 실제로 본인이 주장하는 사람인지 검증합니다.</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">예시: 로그인 시 아이디와 비밀번호를 입력하여 본인임을 증명</span><br></span></code></pre></div></div>
<p><strong>인증 방법:</strong></p>
<ul>
<li class="">비밀번호 기반 인증</li>
<li class="">생체 인식 (지문, 얼굴 인식)</li>
<li class="">2단계 인증 (2FA)</li>
<li class="">소셜 로그인 (OAuth 2.0)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="인가-authorization">인가 (Authorization)<a href="#인가-authorization" class="hash-link" aria-label="인가 (Authorization)에 대한 직접 링크" title="인가 (Authorization)에 대한 직접 링크" translate="no">​</a></h3>
<p><strong>인가</strong>는 &quot;무엇을 할 수 있는지&quot; 결정하는 과정입니다. 인증된 사용자가 특정 리소스나 기능에 접근할 권한이 있는지 확인합니다.</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">예시: 일반 사용자는 게시글 조회만 가능, 관리자는 삭제도 가능</span><br></span></code></pre></div></div>
<p><strong>인가 레벨 예시:</strong></p>
<ul>
<li class="">Guest (비로그인 사용자): 공개 컨텐츠만 조회</li>
<li class="">User (일반 사용자): 본인 데이터 CRUD</li>
<li class="">Admin (관리자): 모든 사용자 데이터 관리</li>
<li class="">Super Admin (슈퍼 관리자): 시스템 설정 변경</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="인증과-인가의-차이">인증과 인가의 차이<a href="#인증과-인가의-차이" class="hash-link" aria-label="인증과 인가의 차이에 대한 직접 링크" title="인증과 인가의 차이에 대한 직접 링크" translate="no">​</a></h3>
<table><thead><tr><th>구분</th><th>인증 (Authentication)</th><th>인가 (Authorization)</th></tr></thead><tbody><tr><td>목적</td><td>사용자 신원 확인</td><td>권한 확인</td></tr><tr><td>질문</td><td>당신은 누구입니까?</td><td>무엇을 할 수 있습니까?</td></tr><tr><td>순서</td><td>먼저 수행</td><td>인증 후 수행</td></tr><tr><td>예시</td><td>로그인</td><td>관리자 페이지 접근</td></tr><tr><td>HTTP</td><td>401 Unauthorized</td><td>403 Forbidden</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p><strong>인증</strong>이 성공해야 <strong>인가</strong> 과정을 진행할 수 있습니다. 인증되지 않은 사용자는 권한 검사 대상이 될 수 없습니다.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="22-jwt-json-web-token-이해하기">2.2 JWT (JSON Web Token) 이해하기<a href="#22-jwt-json-web-token-이해하기" class="hash-link" aria-label="2.2 JWT (JSON Web Token) 이해하기에 대한 직접 링크" title="2.2 JWT (JSON Web Token) 이해하기에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="jwt란">JWT란?<a href="#jwt란" class="hash-link" aria-label="JWT란?에 대한 직접 링크" title="JWT란?에 대한 직접 링크" translate="no">​</a></h3>
<p>JWT(JSON Web Token)는 당사자 간에 정보를 JSON 객체로 안전하게 전송하기 위한 토큰 기반 인증 방식입니다.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="jwt-구조">JWT 구조<a href="#jwt-구조" class="hash-link" aria-label="JWT 구조에 대한 직접 링크" title="JWT 구조에 대한 직접 링크" translate="no">​</a></h3>
<p>JWT는 <code>.</code>으로 구분된 세 부분으로 구성됩니다:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">xxxxx.yyyyy.zzzzz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Header.Payload.Signature</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-header-헤더">1. Header (헤더)<a href="#1-header-헤더" class="hash-link" aria-label="1. Header (헤더)에 대한 직접 링크" title="1. Header (헤더)에 대한 직접 링크" translate="no">​</a></h4>
<p>토큰 타입과 해싱 알고리즘을 포함합니다.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;alg&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;HS256&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;typ&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;JWT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-payload-페이로드">2. Payload (페이로드)<a href="#2-payload-페이로드" class="hash-link" aria-label="2. Payload (페이로드)에 대한 직접 링크" title="2. Payload (페이로드)에 대한 직접 링크" translate="no">​</a></h4>
<p>클레임(Claim)이라 불리는 사용자 정보와 추가 데이터를 포함합니다.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;sub&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1234567890&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;홍길동&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;email&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;hong@example.com&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;role&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;iat&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1516239022</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;exp&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1516242622</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p><strong>표준 클레임:</strong></p>
<ul>
<li class=""><code>sub</code> (subject): 토큰 주제 (보통 사용자 ID)</li>
<li class=""><code>iat</code> (issued at): 토큰 발급 시간</li>
<li class=""><code>exp</code> (expiration): 토큰 만료 시간</li>
<li class=""><code>iss</code> (issuer): 토큰 발급자</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-signature-서명">3. Signature (서명)<a href="#3-signature-서명" class="hash-link" aria-label="3. Signature (서명)에 대한 직접 링크" title="3. Signature (서명)에 대한 직접 링크" translate="no">​</a></h4>
<p>헤더와 페이로드를 인코딩한 후 비밀키로 서명합니다.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token constant" style="color:rgb(189, 147, 249)">HMACSHA256</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">base64UrlEncode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">header</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;.&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">base64UrlEncode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">payload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  secret</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="jwt-동작-과정">JWT 동작 과정<a href="#jwt-동작-과정" class="hash-link" aria-label="JWT 동작 과정에 대한 직접 링크" title="JWT 동작 과정에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sequenceDiagram</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant C as Client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant S as Server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    C-&gt;&gt;S: 1. 로그인 요청 (ID/PW)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    S-&gt;&gt;S: 2. 인증 및 JWT 생성</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    S-&gt;&gt;C: 3. JWT 반환</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    C-&gt;&gt;C: 4. JWT 저장 (localStorage)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    C-&gt;&gt;S: 5. API 요청 + JWT (Header)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    S-&gt;&gt;S: 6. JWT 검증</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    S-&gt;&gt;C: 7. 응답 데이터</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="jwt-장단점">JWT 장단점<a href="#jwt-장단점" class="hash-link" aria-label="JWT 장단점에 대한 직접 링크" title="JWT 장단점에 대한 직접 링크" translate="no">​</a></h3>
<p><strong>장점:</strong></p>
<ul>
<li class="">서버 메모리에 세션을 저장하지 않아 확장성이 좋음</li>
<li class="">분산 시스템에 적합 (MSA, Multi-server)</li>
<li class="">CORS 문제 없음</li>
<li class="">모바일 앱에서도 쉽게 사용 가능</li>
</ul>
<p><strong>단점:</strong></p>
<ul>
<li class="">토큰이 탈취되면 만료될 때까지 악용 가능</li>
<li class="">페이로드 크기가 커질수록 네트워크 부하 증가</li>
<li class="">토큰을 무효화하기 어려움 (블랙리스트 필요)</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>보안 주의사항</div><div class="admonitionContent_BuS1"><ul>
<li class="">JWT는 <strong>암호화되지 않습니다</strong>. Base64로 인코딩되어 있어 누구나 디코딩 가능합니다.</li>
<li class=""><strong>민감한 정보(비밀번호, 주민번호 등)를 페이로드에 절대 포함하지 마세요</strong>.</li>
<li class=""><strong>비밀키(SECRET_KEY)는 반드시 안전하게 관리</strong>하세요.</li>
<li class="">HTTPS를 사용하여 토큰 전송 과정을 암호화하세요.</li>
</ul></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="23-backend-fastapi에서-jwt-구현">2.3 Backend: FastAPI에서 JWT 구현<a href="#23-backend-fastapi에서-jwt-구현" class="hash-link" aria-label="2.3 Backend: FastAPI에서 JWT 구현에 대한 직접 링크" title="2.3 Backend: FastAPI에서 JWT 구현에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="필요한-패키지-설치">필요한 패키지 설치<a href="#필요한-패키지-설치" class="hash-link" aria-label="필요한 패키지 설치에 대한 직접 링크" title="필요한 패키지 설치에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pip install python-jose[cryptography] passlib[bcrypt] python-multipart</span><br></span></code></pre></div></div>
<ul>
<li class=""><code>python-jose</code>: JWT 생성 및 검증</li>
<li class=""><code>passlib</code>: 비밀번호 해싱</li>
<li class=""><code>python-multipart</code>: Form 데이터 처리</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="환경-변수-설정">환경 변수 설정<a href="#환경-변수-설정" class="hash-link" aria-label="환경 변수 설정에 대한 직접 링크" title="환경 변수 설정에 대한 직접 링크" translate="no">​</a></h3>
<p><code>.env</code> 파일을 생성하여 비밀키를 관리합니다:</p>
<div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># .env</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SECRET_KEY=your-secret-key-here-change-this-in-production</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ALGORITHM=HS256</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ACCESS_TOKEN_EXPIRE_MINUTES=30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">REFRESH_TOKEN_EXPIRE_DAYS=7</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>경고</div><div class="admonitionContent_BuS1"><p>프로덕션 환경에서는 반드시 강력한 비밀키를 사용하세요. 다음 명령으로 생성할 수 있습니다:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">openssl rand -hex 32</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="jwt-유틸리티-구현">JWT 유틸리티 구현<a href="#jwt-유틸리티-구현" class="hash-link" aria-label="JWT 유틸리티 구현에 대한 직접 링크" title="JWT 유틸리티 구현에 대한 직접 링크" translate="no">​</a></h3>
<p><code>backend/app/core/security.py</code>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> timedelta</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Optional</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> jose </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> JWTError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> jwt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> passlib</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">context </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> CryptContext</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">security </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> OAuth2PasswordBearer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">orm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Session</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> dotenv </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> load_dotenv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">load_dotenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 환경 변수</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SECRET_KEY </span><span class="token operator">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;SECRET_KEY&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ALGORITHM </span><span class="token operator">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ALGORITHM&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;HS256&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ACCESS_TOKEN_EXPIRE_MINUTES </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ACCESS_TOKEN_EXPIRE_MINUTES&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">30</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">REFRESH_TOKEN_EXPIRE_DAYS </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;REFRESH_TOKEN_EXPIRE_DAYS&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 비밀번호 해싱 컨텍스트</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pwd_context </span><span class="token operator">=</span><span class="token plain"> CryptContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">schemes</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bcrypt&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> deprecated</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;auto&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># OAuth2 스키마</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oauth2_scheme </span><span class="token operator">=</span><span class="token plain"> OAuth2PasswordBearer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tokenUrl</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/api/auth/login&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">create_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">dict</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> expires_delta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">timedelta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Access Token 생성</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Args:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        data: 토큰에 포함할 데이터 (user_id, email 등)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        expires_delta: 토큰 만료 시간 (기본값: 30분)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Returns:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        인코딩된 JWT 문자열</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    to_encode </span><span class="token operator">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">copy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> expires_delta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        expire </span><span class="token operator">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">utcnow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> expires_delta</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        expire </span><span class="token operator">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">utcnow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> timedelta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">minutes</span><span class="token operator">=</span><span class="token plain">ACCESS_TOKEN_EXPIRE_MINUTES</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    to_encode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">update</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;exp&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> expire</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;iat&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">utcnow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    encoded_jwt </span><span class="token operator">=</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to_encode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> SECRET_KEY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> algorithm</span><span class="token operator">=</span><span class="token plain">ALGORITHM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> encoded_jwt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">create_refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">dict</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Refresh Token 생성</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Args:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        data: 토큰에 포함할 데이터</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Returns:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        인코딩된 JWT 문자열</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    to_encode </span><span class="token operator">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">copy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    expire </span><span class="token operator">=</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">utcnow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> timedelta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">days</span><span class="token operator">=</span><span class="token plain">REFRESH_TOKEN_EXPIRE_DAYS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    to_encode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">update</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;exp&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> expire</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;iat&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">utcnow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;refresh&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    encoded_jwt </span><span class="token operator">=</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to_encode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> SECRET_KEY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> algorithm</span><span class="token operator">=</span><span class="token plain">ALGORITHM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> encoded_jwt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">verify_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> token_type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">dict</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    JWT 토큰 검증</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Args:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        token: 검증할 JWT 토큰</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        token_type: 토큰 타입 (&quot;access&quot; 또는 &quot;refresh&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Returns:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        디코딩된 페이로드</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Raises:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        HTTPException: 토큰이 유효하지 않은 경우</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    credentials_exception </span><span class="token operator">=</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_401_UNAUTHORIZED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;인증 정보를 검증할 수 없습니다&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        headers</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;WWW-Authenticate&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Bearer&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        payload </span><span class="token operator">=</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">decode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> SECRET_KEY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> algorithms</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">ALGORITHM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 토큰 타입 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> payload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">!=</span><span class="token plain"> token_type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> credentials_exception</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> payload</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">except</span><span class="token plain"> JWTError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> credentials_exception</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get_current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">oauth2_scheme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    현재 인증된 사용자 정보 반환</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Args:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        token: Authorization 헤더의 Bearer 토큰</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        db: 데이터베이스 세션</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Returns:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        현재 사용자 객체</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Raises:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        HTTPException: 인증 실패 시</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    payload </span><span class="token operator">=</span><span class="token plain"> verify_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> payload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> user_id </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_401_UNAUTHORIZED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;인증 정보를 찾을 수 없습니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> user_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_401_UNAUTHORIZED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;사용자를 찾을 수 없습니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">is_active</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_403_FORBIDDEN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;비활성화된 사용자입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> user</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get_current_active_admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    current_user </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    관리자 권한 확인</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Args:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        current_user: 현재 사용자</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Returns:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        관리자 사용자 객체</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Raises:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        HTTPException: 관리자 권한이 없는 경우</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">role </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;admin&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_403_FORBIDDEN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;관리자 권한이 필요합니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> current_user</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="사용자-모델-정의">사용자 모델 정의<a href="#사용자-모델-정의" class="hash-link" aria-label="사용자 모델 정의에 대한 직접 링크" title="사용자 모델 정의에 대한 직접 링크" translate="no">​</a></h3>
<p><code>backend/app/models/user.py</code>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DateTime</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sql </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> func</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">database </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Base</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Base</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    __tablename__ </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;users&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Integer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> primary_key</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    email </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> unique</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    username </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> unique</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    hashed_password </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    full_name </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> nullable</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    role </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># user, admin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    is_active </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    is_verified </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Boolean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    created_at </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">timezone</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> server_default</span><span class="token operator">=</span><span class="token plain">func</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    updated_at </span><span class="token operator">=</span><span class="token plain"> Column</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">timezone</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> onupdate</span><span class="token operator">=</span><span class="token plain">func</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pydantic-스키마-정의">Pydantic 스키마 정의<a href="#pydantic-스키마-정의" class="hash-link" aria-label="Pydantic 스키마 정의에 대한 직접 링크" title="Pydantic 스키마 정의에 대한 직접 링크" translate="no">​</a></h3>
<p><code>backend/app/schemas/user.py</code>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> EmailStr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Optional</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserBase</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> EmailStr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> min_length</span><span class="token operator">=</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> max_length</span><span class="token operator">=</span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    full_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserCreate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">UserBase</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> min_length</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> max_length</span><span class="token operator">=</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">UserBase</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    is_active</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">bool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    is_verified</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">bool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    created_at</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">Config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        from_attributes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">Token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    token_type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bearer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">TokenPayload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sub</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin" style="color:rgb(189, 147, 249)">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="24-backend-비밀번호-해싱-및-검증">2.4 Backend: 비밀번호 해싱 및 검증<a href="#24-backend-비밀번호-해싱-및-검증" class="hash-link" aria-label="2.4 Backend: 비밀번호 해싱 및 검증에 대한 직접 링크" title="2.4 Backend: 비밀번호 해싱 및 검증에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="비밀번호-해싱">비밀번호 해싱<a href="#비밀번호-해싱" class="hash-link" aria-label="비밀번호 해싱에 대한 직접 링크" title="비밀번호 해싱에 대한 직접 링크" translate="no">​</a></h3>
<p>비밀번호는 절대 평문(plain text)으로 저장하면 안 됩니다. <code>bcrypt</code> 알고리즘을 사용하여 해싱합니다.</p>
<p><code>backend/app/core/security.py</code>에 추가:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">verify_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">plain_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> hashed_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">bool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    평문 비밀번호와 해시된 비밀번호 비교</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Args:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        plain_password: 사용자가 입력한 평문 비밀번호</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        hashed_password: DB에 저장된 해시된 비밀번호</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Returns:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        일치 여부 (True/False)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> pwd_context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">verify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">plain_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> hashed_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    비밀번호 해싱</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Args:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        password: 평문 비밀번호</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Returns:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        해시된 비밀번호</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> pwd_context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bcrypt의-동작-원리">bcrypt의 동작 원리<a href="#bcrypt의-동작-원리" class="hash-link" aria-label="bcrypt의 동작 원리에 대한 직접 링크" title="bcrypt의 동작 원리에 대한 직접 링크" translate="no">​</a></h3>
<p><strong>bcrypt</strong>는 솔트(salt)를 자동으로 생성하여 같은 비밀번호라도 매번 다른 해시값을 생성합니다.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 예시</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">password </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mypassword123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hash1 </span><span class="token operator">=</span><span class="token plain"> get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># $2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5GyYNv.8Yjhqe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hash2 </span><span class="token operator">=</span><span class="token plain"> get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># $2b$12$EXRkfkdmXn2gzds2SSitu.MW9.gAVqa9eLS1//RYtYCi.WZk8Sj0K</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># hash1 != hash2 이지만, verify_password는 둘 다 True 반환</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">verify_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> hash1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">verify_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> hash2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># True</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>bcrypt vs 다른 해싱 알고리즘</div><div class="admonitionContent_BuS1"><ul>
<li class=""><strong>MD5, SHA-1</strong>: 취약하여 사용 금지</li>
<li class=""><strong>SHA-256</strong>: 빠르지만 비밀번호 해싱에는 부적합 (브루트포스 공격에 취약)</li>
<li class=""><strong>bcrypt</strong>: 느리게 설계되어 브루트포스 공격 방어에 효과적</li>
<li class=""><strong>Argon2</strong>: 최신 알고리즘으로 더 안전하지만, bcrypt도 충분히 안전</li>
</ul></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="25-backend-로그인로그아웃-엔드포인트">2.5 Backend: 로그인/로그아웃 엔드포인트<a href="#25-backend-로그인로그아웃-엔드포인트" class="hash-link" aria-label="2.5 Backend: 로그인/로그아웃 엔드포인트에 대한 직접 링크" title="2.5 Backend: 로그인/로그아웃 엔드포인트에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="인증-라우터-구현">인증 라우터 구현<a href="#인증-라우터-구현" class="hash-link" aria-label="인증 라우터 구현에 대한 직접 링크" title="인증 라우터 구현에 대한 직접 링크" translate="no">​</a></h3>
<p><code>backend/app/routers/auth.py</code>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> APIRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">security </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> OAuth2PasswordRequestForm</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">orm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Session</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> timedelta</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">database </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> get_db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">schemas</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> UserCreate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> UserResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">security </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    verify_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    create_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    create_refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    verify_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    get_current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ACCESS_TOKEN_EXPIRE_MINUTES</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router </span><span class="token operator">=</span><span class="token plain"> APIRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">prefix</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/api/auth&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> tags</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;인증&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/register&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> response_model</span><span class="token operator">=</span><span class="token plain">UserResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_201_CREATED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> UserCreate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    사용자 회원가입</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 이메일 중복 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email </span><span class="token operator">==</span><span class="token plain"> user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;이미 등록된 이메일입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 사용자명 중복 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username </span><span class="token operator">==</span><span class="token plain"> user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;이미 사용 중인 사용자명입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 사용자 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new_user </span><span class="token operator">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        email</span><span class="token operator">=</span><span class="token plain">user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        username</span><span class="token operator">=</span><span class="token plain">user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        full_name</span><span class="token operator">=</span><span class="token plain">user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">full_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        hashed_password</span><span class="token operator">=</span><span class="token plain">get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">new_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">refresh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">new_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> new_user</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/login&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> response_model</span><span class="token operator">=</span><span class="token plain">Token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    form_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> OAuth2PasswordRequestForm </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    사용자 로그인</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    OAuth2PasswordRequestForm:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        - username: 이메일 또는 사용자명</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        - password: 비밀번호</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 이메일 또는 사용자명으로 조회</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email </span><span class="token operator">==</span><span class="token plain"> form_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username </span><span class="token operator">==</span><span class="token plain"> form_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 사용자 존재 여부 및 비밀번호 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> verify_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">form_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">hashed_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_401_UNAUTHORIZED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;이메일 또는 비밀번호가 올바르지 않습니다&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            headers</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;WWW-Authenticate&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Bearer&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 계정 활성화 상태 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">is_active</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_403_FORBIDDEN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;비활성화된 계정입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># JWT 토큰 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    access_token </span><span class="token operator">=</span><span class="token plain"> create_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    refresh_token </span><span class="token operator">=</span><span class="token plain"> create_refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access_token&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;refresh_token&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;token_type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bearer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/refresh&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> response_model</span><span class="token operator">=</span><span class="token plain">Token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Refresh Token으로 새로운 Access Token 발급</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        payload </span><span class="token operator">=</span><span class="token plain"> verify_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> token_type</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;refresh&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        user_id </span><span class="token operator">=</span><span class="token plain"> payload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> user_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">or</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">is_active</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_401_UNAUTHORIZED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;유효하지 않은 토큰입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 새로운 토큰 발급</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        new_access_token </span><span class="token operator">=</span><span class="token plain"> create_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        new_refresh_token </span><span class="token operator">=</span><span class="token plain"> create_refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access_token&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> new_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;refresh_token&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> new_refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;token_type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;bearer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">except</span><span class="token plain"> Exception</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_401_UNAUTHORIZED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;유효하지 않은 토큰입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/me&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> response_model</span><span class="token operator">=</span><span class="token plain">UserResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get_me</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> User </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    현재 로그인한 사용자 정보 조회</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> current_user</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/logout&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> User </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    로그아웃</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Note: JWT는 서버에서 무효화할 수 없으므로,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    클라이언트에서 토큰을 삭제하는 방식으로 처리합니다.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    실제 로그아웃 로직은 프론트엔드에서 수행됩니다.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;로그아웃되었습니다&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="메인-앱에-라우터-등록">메인 앱에 라우터 등록<a href="#메인-앱에-라우터-등록" class="hash-link" aria-label="메인 앱에 라우터 등록에 대한 직접 링크" title="메인 앱에 라우터 등록에 대한 직접 링크" translate="no">​</a></h3>
<p><code>backend/app/main.py</code>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> FastAPI</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">middleware</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">cors </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> CORSMiddleware</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">routers </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> auth</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">app </span><span class="token operator">=</span><span class="token plain"> FastAPI</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">title</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;인증 API&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># CORS 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add_middleware</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CORSMiddleware</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    allow_origins</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://localhost:5173&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Vue 개발 서버</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    allow_credentials</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    allow_methods</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;*&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    allow_headers</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;*&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 라우터 등록</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">include_router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">auth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">root</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;인증 API 서버&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>로그아웃 구현의 한계</div><div class="admonitionContent_BuS1"><p>JWT는 <strong>상태를 저장하지 않는(stateless)</strong> 특성 때문에 서버에서 토큰을 무효화할 수 없습니다. 로그아웃 시 다음 방법을 사용합니다:</p><ol>
<li class=""><strong>클라이언트에서 토큰 삭제</strong> (가장 일반적)</li>
<li class=""><strong>토큰 블랙리스트 관리</strong> (Redis 등 사용)</li>
<li class=""><strong>짧은 만료 시간 설정</strong> + Refresh Token 사용</li>
</ol></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="26-frontend-axios-인터셉터로-토큰-관리">2.6 Frontend: Axios 인터셉터로 토큰 관리<a href="#26-frontend-axios-인터셉터로-토큰-관리" class="hash-link" aria-label="2.6 Frontend: Axios 인터셉터로 토큰 관리에 대한 직접 링크" title="2.6 Frontend: Axios 인터셉터로 토큰 관리에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="axios-인스턴스-설정">Axios 인스턴스 설정<a href="#axios-인스턴스-설정" class="hash-link" aria-label="Axios 인스턴스 설정에 대한 직접 링크" title="Axios 인스턴스 설정에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/src/utils/axios.js</code>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports">axios</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;axios&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports">router</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/router&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> apiClient </span><span class="token operator">=</span><span class="token plain"> axios</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">baseURL</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">VITE_API_BASE_URL</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;http://localhost:8000&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">timeout</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;application/json&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Request 인터셉터: 모든 요청에 토큰 자동 첨부</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apiClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">interceptors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">use</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> token </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;access_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">headers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Authorization</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">token</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> config</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">reject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Response 인터셉터: 토큰 만료 시 자동 갱신</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apiClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">interceptors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">use</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> originalRequest </span><span class="token operator">=</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 401 에러이고, 재시도하지 않은 요청인 경우</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">response</span><span class="token operator">?.</span><span class="token plain">status </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">401</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">originalRequest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">_retry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      originalRequest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">_retry</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> refreshToken </span><span class="token operator">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;refresh_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">refreshToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;No refresh token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// Refresh Token으로 새 Access Token 발급</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> data </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> axios</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">apiClient</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">defaults</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">baseURL</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">/api/auth/refresh</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">refresh_token</span><span class="token operator">:</span><span class="token plain"> refreshToken </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 새 토큰 저장</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;access_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;refresh_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// 원래 요청 재시도</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        originalRequest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">headers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Authorization</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">data</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">access_token</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apiClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">originalRequest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">refreshError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// Refresh Token도 만료된 경우 로그인 페이지로 이동</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;access_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;refresh_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/login&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">reject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">refreshError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">reject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> apiClient</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="환경-변수-설정-1">환경 변수 설정<a href="#환경-변수-설정-1" class="hash-link" aria-label="환경 변수 설정에 대한 직접 링크" title="환경 변수 설정에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/.env</code>:</p>
<div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">VITE_API_BASE_URL=http://localhost:8000</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="인증-api-서비스">인증 API 서비스<a href="#인증-api-서비스" class="hash-link" aria-label="인증 API 서비스에 대한 직접 링크" title="인증 API 서비스에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/src/services/auth.js</code>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports">apiClient</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/utils/axios&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> authService </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   * 회원가입</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> data </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> apiClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/api/auth/register&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   * 로그인</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">credentials</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> formData </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">FormData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    formData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;username&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> credentials</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    formData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;password&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> credentials</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> data </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> apiClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/api/auth/login&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> formData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;multipart/form-data&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 토큰 저장</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;access_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;refresh_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   * 로그아웃</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> apiClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/api/auth/logout&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// 토큰 삭제</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;access_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;refresh_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   * 현재 사용자 정보 조회</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getCurrentUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> data </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> apiClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/api/auth/me&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   * 토큰 유효성 확인</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token doc-comment comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token operator">!</span><span class="token operator">!</span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">localStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;access_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="27-frontend-로그인-페이지-구현">2.7 Frontend: 로그인 페이지 구현<a href="#27-frontend-로그인-페이지-구현" class="hash-link" aria-label="2.7 Frontend: 로그인 페이지 구현에 대한 직접 링크" title="2.7 Frontend: 로그인 페이지 구현에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pinia-스토어로-인증-상태-관리">Pinia 스토어로 인증 상태 관리<a href="#pinia-스토어로-인증-상태-관리" class="hash-link" aria-label="Pinia 스토어로 인증 상태 관리에 대한 직접 링크" title="Pinia 스토어로 인증 상태 관리에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/src/stores/auth.js</code>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> defineStore </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;pinia&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> ref</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> computed </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;vue&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> authService </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/services/auth&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> useAuthStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">defineStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;auth&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// State</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> user </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> loading </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> error </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Getters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isAuthenticated </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token operator">!</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> isAdmin </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">computed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token operator">?.</span><span class="token plain">role </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;admin&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Actions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">credentials</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> authService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">credentials</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetchUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">response</span><span class="token operator">?.</span><span class="token plain">data</span><span class="token operator">?.</span><span class="token plain">detail </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;로그인에 실패했습니다&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> authService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">response</span><span class="token operator">?.</span><span class="token plain">data</span><span class="token operator">?.</span><span class="token plain">detail </span><span class="token operator">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;회원가입에 실패했습니다&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> authService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Logout error:&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetchUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">authService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> authService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getCurrentUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Failed to fetch user:&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 초기화: 앱 시작 시 사용자 정보 로드</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">initialize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">authService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">fetchUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    isAdmin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    logout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fetchUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    initialize</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="로그인-페이지-컴포넌트">로그인 페이지 컴포넌트<a href="#로그인-페이지-컴포넌트" class="hash-link" aria-label="로그인 페이지 컴포넌트에 대한 직접 링크" title="로그인 페이지 컴포넌트에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/src/views/LoginView.vue</code>:</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class=&quot;login-container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;login-card&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;h1&gt;로그인&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;form @submit.prevent=&quot;handleLogin&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;username&quot;&gt;이메일 또는 사용자명&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;text&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;이메일 또는 사용자명을 입력하세요&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            :disabled=&quot;authStore.loading&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;password&quot;&gt;비밀번호&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;비밀번호를 입력하세요&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            :disabled=&quot;authStore.loading&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div v-if=&quot;authStore.error&quot; class=&quot;error-message&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ authStore.error }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;submit&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          class=&quot;btn-primary&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          :disabled=&quot;authStore.loading&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ authStore.loading ? &#x27;로그인 중...&#x27; : &#x27;로그인&#x27; }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/form&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;links&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;router-link to=&quot;/register&quot;&gt;회원가입&lt;/router-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;router-link to=&quot;/forgot-password&quot;&gt;비밀번호 찾기&lt;/router-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;social-login&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;p&gt;소셜 로그인&lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;social-buttons&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;button @click=&quot;loginWithGoogle&quot; class=&quot;btn-google&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;i class=&quot;fab fa-google&quot;&gt;&lt;/i&gt; Google</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;button @click=&quot;loginWithGithub&quot; class=&quot;btn-github&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;i class=&quot;fab fa-github&quot;&gt;&lt;/i&gt; GitHub</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { reactive } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useRouter } from &#x27;vue-router&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useAuthStore } from &#x27;@/stores/auth&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const router = useRouter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const authStore = useAuthStore()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const form = reactive({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  username: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  password: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function handleLogin() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  const success = await authStore.login(form)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (success) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 로그인 성공 시 이전 페이지 또는 홈으로 이동</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const redirect = router.currentRoute.value.query.redirect || &#x27;/&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    router.push(redirect)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function loginWithGoogle() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // Google OAuth 로그인 (2.9절에서 구현)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  console.log(&#x27;Google 로그인&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function loginWithGithub() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // GitHub OAuth 로그인 (2.9절에서 구현)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  console.log(&#x27;GitHub 로그인&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.login-container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  justify-content: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  align-items: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  min-height: 100vh;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.login-card {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 10px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-width: 400px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">h1 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.form-group {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">label {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #555;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 1px solid #ddd;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: border-color 0.3s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input:focus {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  outline: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #f5f5f5;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.error-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #fee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: transform 0.2s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:hover:not(:disabled) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transform: translateY(-2px);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  opacity: 0.6;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  justify-content: space-between;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links a {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.9rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links a:hover {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: underline;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.social-login {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding-top: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-top: 1px solid #eee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.social-login p {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #999;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.social-buttons {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  gap: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.social-buttons button {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  flex: 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: transform 0.2s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.social-buttons button:hover {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transform: translateY(-2px);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-google {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #db4437;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-github {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.social-buttons i {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-right: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="회원가입-페이지">회원가입 페이지<a href="#회원가입-페이지" class="hash-link" aria-label="회원가입 페이지에 대한 직접 링크" title="회원가입 페이지에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/src/views/RegisterView.vue</code>:</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class=&quot;register-container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;register-card&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;h1&gt;회원가입&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;form @submit.prevent=&quot;handleRegister&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;email&quot;&gt;이메일 *&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;email&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.email&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;email&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;example@email.com&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;username&quot;&gt;사용자명 *&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;text&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            minlength=&quot;3&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            maxlength=&quot;50&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;3-50자 사이&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;full_name&quot;&gt;이름&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;full_name&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.full_name&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;text&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;홍길동&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;password&quot;&gt;비밀번호 *&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            minlength=&quot;8&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;최소 8자 이상&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;div class=&quot;password-strength&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;div</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              class=&quot;strength-bar&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              :class=&quot;passwordStrength.class&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              :style=&quot;{ width: passwordStrength.width }&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;small&gt;{{ passwordStrength.text }}&lt;/small&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;confirm_password&quot;&gt;비밀번호 확인 *&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;confirm_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.confirm_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;비밀번호 재입력&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;small v-if=&quot;form.confirm_password &amp;&amp; form.password !== form.confirm_password&quot; class=&quot;error&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            비밀번호가 일치하지 않습니다</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/small&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div v-if=&quot;authStore.error&quot; class=&quot;error-message&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ authStore.error }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;submit&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          class=&quot;btn-primary&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          :disabled=&quot;authStore.loading || !isFormValid&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ authStore.loading ? &#x27;가입 중...&#x27; : &#x27;회원가입&#x27; }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/form&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;links&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;span&gt;이미 계정이 있으신가요?&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;router-link to=&quot;/login&quot;&gt;로그인&lt;/router-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { reactive, computed } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useRouter } from &#x27;vue-router&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useAuthStore } from &#x27;@/stores/auth&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const router = useRouter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const authStore = useAuthStore()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const form = reactive({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  email: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  username: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  full_name: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  password: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  confirm_password: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const passwordStrength = computed(() =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  const password = form.password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (!password) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return { class: &#x27;&#x27;, width: &#x27;0%&#x27;, text: &#x27;&#x27; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  let strength = 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // 길이</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (password.length &gt;= 8) strength++</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (password.length &gt;= 12) strength++</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // 복잡도</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (/[a-z]/.test(password)) strength++</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (/[A-Z]/.test(password)) strength++</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (/[0-9]/.test(password)) strength++</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (/[^a-zA-Z0-9]/.test(password)) strength++</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (strength &lt;= 2) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return { class: &#x27;weak&#x27;, width: &#x27;33%&#x27;, text: &#x27;약함&#x27; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } else if (strength &lt;= 4) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return { class: &#x27;medium&#x27;, width: &#x27;66%&#x27;, text: &#x27;보통&#x27; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return { class: &#x27;strong&#x27;, width: &#x27;100%&#x27;, text: &#x27;강함&#x27; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const isFormValid = computed(() =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    form.email &amp;&amp;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    form.username &amp;&amp;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    form.password.length &gt;= 8 &amp;&amp;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    form.password === form.confirm_password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function handleRegister() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  const success = await authStore.register({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    email: form.email,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    username: form.username,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    full_name: form.full_name,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    password: form.password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (success) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    alert(&#x27;회원가입이 완료되었습니다. 로그인해주세요.&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    router.push(&#x27;/login&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.register-container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  justify-content: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  align-items: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  min-height: 100vh;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.register-card {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 10px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-width: 500px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-height: 90vh;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  overflow-y: auto;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">h1 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.form-group {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">label {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #555;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 1px solid #ddd;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: border-color 0.3s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input:focus {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  outline: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">small {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #666;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.85rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">small.error {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.password-strength {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  height: 4px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #eee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 2px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  overflow: hidden;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.strength-bar {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  height: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: width 0.3s, background-color 0.3s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.strength-bar.weak {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #f44336;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.strength-bar.medium {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #ff9800;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.strength-bar.strong {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #4caf50;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.error-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #fee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: transform 0.2s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:hover:not(:disabled) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transform: translateY(-2px);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  opacity: 0.6;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links span {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #666;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-right: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links a {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links a:hover {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: underline;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="28-protected-routes-라우터-가드">2.8 Protected Routes (라우터 가드)<a href="#28-protected-routes-라우터-가드" class="hash-link" aria-label="2.8 Protected Routes (라우터 가드)에 대한 직접 링크" title="2.8 Protected Routes (라우터 가드)에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="라우터-가드-구현">라우터 가드 구현<a href="#라우터-가드-구현" class="hash-link" aria-label="라우터 가드 구현에 대한 직접 링크" title="라우터 가드 구현에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/src/router/index.js</code>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> createRouter</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> createWebHistory </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;vue-router&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useAuthStore </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/stores/auth&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> routes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Home&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/HomeView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/login&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Login&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/LoginView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">requiresGuest</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/register&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Register&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/RegisterView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">requiresGuest</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/dashboard&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Dashboard&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/DashboardView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/admin&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Admin&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/AdminView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token literal-property property">requiresAdmin</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/profile&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Profile&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/ProfileView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> router </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">history</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createWebHistory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  routes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// 전역 네비게이션 가드</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">beforeEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">to</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> </span><span class="token parameter keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> authStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useAuthStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 인증 상태 초기화 (앱 시작 시 한 번만)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">authStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">user</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> authStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> authStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fetchUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 인증이 필요한 페이지</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">requiresAuth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">authStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/login&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">query</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">fullPath</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// 관리자 권한이 필요한 페이지</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">requiresAdmin</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">authStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isAdmin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">alert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;관리자 권한이 필요합니다.&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 비로그인 사용자만 접근 가능한 페이지</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">requiresGuest</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> authStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">isAuthenticated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> router</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="appvue에서-초기화">App.vue에서 초기화<a href="#appvue에서-초기화" class="hash-link" aria-label="App.vue에서 초기화에 대한 직접 링크" title="App.vue에서 초기화에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/src/App.vue</code>:</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div id=&quot;app&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;NavBar v-if=&quot;!isAuthPage&quot; /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;router-view /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { computed, onMounted } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useRoute } from &#x27;vue-router&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useAuthStore } from &#x27;@/stores/auth&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import NavBar from &#x27;@/components/NavBar.vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const route = useRoute()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const authStore = useAuthStore()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const isAuthPage = computed(() =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return [&#x27;Login&#x27;, &#x27;Register&#x27;].includes(route.name)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">onMounted(async () =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // 앱 시작 시 사용자 정보 로드</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  await authStore.initialize()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="네비게이션-바-컴포넌트">네비게이션 바 컴포넌트<a href="#네비게이션-바-컴포넌트" class="hash-link" aria-label="네비게이션 바 컴포넌트에 대한 직접 링크" title="네비게이션 바 컴포넌트에 대한 직접 링크" translate="no">​</a></h3>
<p><code>frontend/src/components/NavBar.vue</code>:</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;nav class=&quot;navbar&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;router-link to=&quot;/&quot; class=&quot;logo&quot;&gt;MyApp&lt;/router-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;ul class=&quot;nav-links&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;li&gt;&lt;router-link to=&quot;/&quot;&gt;홈&lt;/router-link&gt;&lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;template v-if=&quot;authStore.isAuthenticated&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;li&gt;&lt;router-link to=&quot;/dashboard&quot;&gt;대시보드&lt;/router-link&gt;&lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;li v-if=&quot;authStore.isAdmin&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;router-link to=&quot;/admin&quot;&gt;관리자&lt;/router-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;li&gt;&lt;router-link to=&quot;/profile&quot;&gt;프로필&lt;/router-link&gt;&lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;button @click=&quot;handleLogout&quot; class=&quot;btn-logout&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              로그아웃</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;li class=&quot;user-info&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;span&gt;{{ authStore.user?.username }}&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;template v-else&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;li&gt;&lt;router-link to=&quot;/login&quot;&gt;로그인&lt;/router-link&gt;&lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;li&gt;&lt;router-link to=&quot;/register&quot;&gt;회원가입&lt;/router-link&gt;&lt;/li&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/nav&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useRouter } from &#x27;vue-router&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useAuthStore } from &#x27;@/stores/auth&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const router = useRouter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const authStore = useAuthStore()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function handleLogout() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  await authStore.logout()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  router.push(&#x27;/login&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.navbar {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 1rem 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-width: 1200px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin: 0 auto;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  justify-content: space-between;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  align-items: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.logo {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: bold;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.nav-links {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  list-style: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  gap: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin: 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  align-items: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.nav-links a {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: color 0.3s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.nav-links a:hover,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.nav-links a.router-link-active {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-logout {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 1px solid white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.5rem 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: all 0.3s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-logout:hover {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.user-info {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="29-oauth-20-소셜-로그인-google-github">2.9 OAuth 2.0 소셜 로그인 (Google, GitHub)<a href="#29-oauth-20-소셜-로그인-google-github" class="hash-link" aria-label="2.9 OAuth 2.0 소셜 로그인 (Google, GitHub)에 대한 직접 링크" title="2.9 OAuth 2.0 소셜 로그인 (Google, GitHub)에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="oauth-20-흐름">OAuth 2.0 흐름<a href="#oauth-20-흐름" class="hash-link" aria-label="OAuth 2.0 흐름에 대한 직접 링크" title="OAuth 2.0 흐름에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sequenceDiagram</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant U as User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant C as Client (Frontend)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant S as Server (Backend)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant P as Provider (Google/GitHub)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    U-&gt;&gt;C: 1. &quot;Google로 로그인&quot; 클릭</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    C-&gt;&gt;P: 2. 인증 요청 (Redirect)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    P-&gt;&gt;U: 3. 로그인 및 권한 동의</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    U-&gt;&gt;P: 4. 동의</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    P-&gt;&gt;C: 5. Authorization Code 반환</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    C-&gt;&gt;S: 6. Code 전달</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    S-&gt;&gt;P: 7. Code로 Access Token 요청</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    P-&gt;&gt;S: 8. Access Token 반환</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    S-&gt;&gt;P: 9. 사용자 정보 요청</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    P-&gt;&gt;S: 10. 사용자 정보 반환</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    S-&gt;&gt;C: 11. JWT 토큰 발급</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    C-&gt;&gt;U: 12. 로그인 완료</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="google-oauth-설정">Google OAuth 설정<a href="#google-oauth-설정" class="hash-link" aria-label="Google OAuth 설정에 대한 직접 링크" title="Google OAuth 설정에 대한 직접 링크" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-google-cloud-console-설정">1. Google Cloud Console 설정<a href="#1-google-cloud-console-설정" class="hash-link" aria-label="1. Google Cloud Console 설정에 대한 직접 링크" title="1. Google Cloud Console 설정에 대한 직접 링크" translate="no">​</a></h4>
<ol>
<li class=""><a href="https://console.cloud.google.com/" target="_blank" rel="noopener noreferrer" class="">Google Cloud Console</a> 접속</li>
<li class="">프로젝트 생성</li>
<li class="">&quot;API 및 서비스&quot; &gt; &quot;사용자 인증 정보&quot; &gt; &quot;사용자 인증 정보 만들기&quot; &gt; &quot;OAuth 클라이언트 ID&quot;</li>
<li class="">승인된 리디렉션 URI 추가:<!-- -->
<ul>
<li class=""><code>http://localhost:8000/api/auth/google/callback</code></li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-환경-변수-추가">2. 환경 변수 추가<a href="#2-환경-변수-추가" class="hash-link" aria-label="2. 환경 변수 추가에 대한 직접 링크" title="2. 환경 변수 추가에 대한 직접 링크" translate="no">​</a></h4>
<p><code>.env</code>:</p>
<div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">GOOGLE_CLIENT_ID=your-google-client-id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GOOGLE_CLIENT_SECRET=your-google-client-secret</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GOOGLE_REDIRECT_URI=http://localhost:8000/api/auth/google/callback</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-backend-구현">3. Backend 구현<a href="#3-backend-구현" class="hash-link" aria-label="3. Backend 구현에 대한 직접 링크" title="3. Backend 구현에 대한 직접 링크" translate="no">​</a></h4>
<p>필요한 패키지 설치:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pip install authlib httpx</span><br></span></code></pre></div></div>
<p><code>backend/app/routers/auth.py</code>에 추가:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> authlib</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">integrations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">starlette_client </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> OAuth</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> starlette</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">config </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Config</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">responses </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> RedirectResponse</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> httpx</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># OAuth 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">config </span><span class="token operator">=</span><span class="token plain"> Config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;.env&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oauth </span><span class="token operator">=</span><span class="token plain"> OAuth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oauth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;google&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    client_id</span><span class="token operator">=</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;GOOGLE_CLIENT_ID&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    client_secret</span><span class="token operator">=</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;GOOGLE_CLIENT_SECRET&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    server_metadata_url</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://accounts.google.com/.well-known/openid-configuration&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    client_kwargs</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;scope&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;openid email profile&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/google/login&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">google_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Google OAuth 로그인 시작</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    redirect_uri </span><span class="token operator">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;GOOGLE_REDIRECT_URI&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> oauth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">google</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">authorize_redirect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> redirect_uri</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/google/callback&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">google_callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Google OAuth 콜백 처리</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Access Token 획득</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        token </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> oauth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">google</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">authorize_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 사용자 정보 조회</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        user_info </span><span class="token operator">=</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;userinfo&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;사용자 정보를 가져올 수 없습니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        email </span><span class="token operator">=</span><span class="token plain"> user_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;email&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name </span><span class="token operator">=</span><span class="token plain"> user_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 기존 사용자 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email </span><span class="token operator">==</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)"># 신규 사용자 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            user </span><span class="token operator">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                email</span><span class="token operator">=</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                username</span><span class="token operator">=</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">split</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 이메일 앞부분을 사용자명으로</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                full_name</span><span class="token operator">=</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                hashed_password</span><span class="token operator">=</span><span class="token plain">get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">urandom</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">hex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># 랜덤 비밀번호</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                is_verified</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Google 인증 완료</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">refresh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># JWT 토큰 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        access_token </span><span class="token operator">=</span><span class="token plain"> create_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        refresh_token </span><span class="token operator">=</span><span class="token plain"> create_refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 프론트엔드로 리디렉션 (토큰을 쿼리 파라미터로 전달)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        frontend_url </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;http://localhost:5173/auth/callback?access_token=</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">access_token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&amp;refresh_token=</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">refresh_token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> RedirectResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">url</span><span class="token operator">=</span><span class="token plain">frontend_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;Google 로그인 실패: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(189, 147, 249)">str</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-frontend-구현">4. Frontend 구현<a href="#4-frontend-구현" class="hash-link" aria-label="4. Frontend 구현에 대한 직접 링크" title="4. Frontend 구현에 대한 직접 링크" translate="no">​</a></h4>
<p><code>frontend/src/views/AuthCallbackView.vue</code>:</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class=&quot;callback-container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;loading&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;spinner&quot;&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;p&gt;로그인 처리 중...&lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { onMounted } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useRouter, useRoute } from &#x27;vue-router&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useAuthStore } from &#x27;@/stores/auth&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const router = useRouter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const route = useRoute()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const authStore = useAuthStore()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">onMounted(async () =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  const { access_token, refresh_token } = route.query</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (access_token &amp;&amp; refresh_token) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 토큰 저장</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    localStorage.setItem(&#x27;access_token&#x27;, access_token)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    localStorage.setItem(&#x27;refresh_token&#x27;, refresh_token)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 사용자 정보 로드</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    await authStore.fetchUser()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 홈으로 이동</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    router.push(&#x27;/&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    alert(&#x27;로그인에 실패했습니다.&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    router.push(&#x27;/login&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.callback-container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  justify-content: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  align-items: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  min-height: 100vh;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.loading {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.spinner {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 4px solid #f3f3f3;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-top: 4px solid #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 50%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 40px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  height: 40px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  animation: spin 1s linear infinite;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin: 0 auto 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@keyframes spin {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  0% { transform: rotate(0deg); }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  100% { transform: rotate(360deg); }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div>
<p>라우터에 추가:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/auth/callback&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;AuthCallback&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/AuthCallbackView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p><code>LoginView.vue</code>의 Google 로그인 버튼 수정:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">loginWithGoogle</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">href</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;http://localhost:8000/api/auth/google/login&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="github-oauth-설정">GitHub OAuth 설정<a href="#github-oauth-설정" class="hash-link" aria-label="GitHub OAuth 설정에 대한 직접 링크" title="GitHub OAuth 설정에 대한 직접 링크" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-github-oauth-app-생성">1. GitHub OAuth App 생성<a href="#1-github-oauth-app-생성" class="hash-link" aria-label="1. GitHub OAuth App 생성에 대한 직접 링크" title="1. GitHub OAuth App 생성에 대한 직접 링크" translate="no">​</a></h4>
<ol>
<li class="">GitHub &gt; Settings &gt; Developer settings &gt; OAuth Apps &gt; New OAuth App</li>
<li class="">Authorization callback URL: <code>http://localhost:8000/api/auth/github/callback</code></li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-환경-변수-추가-1">2. 환경 변수 추가<a href="#2-환경-변수-추가-1" class="hash-link" aria-label="2. 환경 변수 추가에 대한 직접 링크" title="2. 환경 변수 추가에 대한 직접 링크" translate="no">​</a></h4>
<div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">GITHUB_CLIENT_ID=your-github-client-id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GITHUB_CLIENT_SECRET=your-github-client-secret</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GITHUB_REDIRECT_URI=http://localhost:8000/api/auth/github/callback</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-backend-구현-1">3. Backend 구현<a href="#3-backend-구현-1" class="hash-link" aria-label="3. Backend 구현에 대한 직접 링크" title="3. Backend 구현에 대한 직접 링크" translate="no">​</a></h4>
<p><code>backend/app/routers/auth.py</code>에 추가:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">oauth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">register</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;github&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    client_id</span><span class="token operator">=</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;GITHUB_CLIENT_ID&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    client_secret</span><span class="token operator">=</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;GITHUB_CLIENT_SECRET&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    authorize_url</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://github.com/login/oauth/authorize&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    access_token_url</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://github.com/login/oauth/access_token&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    api_base_url</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://api.github.com/&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    client_kwargs</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;scope&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;user:email&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/github/login&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">github_login</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    GitHub OAuth 로그인 시작</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    redirect_uri </span><span class="token operator">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;GITHUB_REDIRECT_URI&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> oauth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">github</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">authorize_redirect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> redirect_uri</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/github/callback&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">github_callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    GitHub OAuth 콜백 처리</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        token </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> oauth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">github</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">authorize_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># GitHub API로 사용자 정보 조회</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">with</span><span class="token plain"> httpx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">AsyncClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            headers </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Authorization&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;token </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string-interpolation interpolation string" style="color:rgb(255, 121, 198)">&#x27;access_token&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)"># 기본 사용자 정보</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            user_resp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://api.github.com/user&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> headers</span><span class="token operator">=</span><span class="token plain">headers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            user_data </span><span class="token operator">=</span><span class="token plain"> user_resp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)"># 이메일 정보 (private email일 수 있음)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            email_resp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://api.github.com/user/emails&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> headers</span><span class="token operator">=</span><span class="token plain">headers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            emails </span><span class="token operator">=</span><span class="token plain"> email_resp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)"># Primary 이메일 찾기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            primary_email </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">next</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;email&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> e </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> emails </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;primary&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;email&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> primary_email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;이메일 정보를 가져올 수 없습니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 기존 사용자 확인 또는 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email </span><span class="token operator">==</span><span class="token plain"> primary_email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            user </span><span class="token operator">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                email</span><span class="token operator">=</span><span class="token plain">primary_email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                username</span><span class="token operator">=</span><span class="token plain">user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;login&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                full_name</span><span class="token operator">=</span><span class="token plain">user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                hashed_password</span><span class="token operator">=</span><span class="token plain">get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">urandom</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">hex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                is_verified</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">refresh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># JWT 토큰 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        access_token </span><span class="token operator">=</span><span class="token plain"> create_access_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        refresh_token </span><span class="token operator">=</span><span class="token plain"> create_refresh_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            data</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        frontend_url </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;http://localhost:5173/auth/callback?access_token=</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">access_token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&amp;refresh_token=</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">refresh_token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> RedirectResponse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">url</span><span class="token operator">=</span><span class="token plain">frontend_url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;GitHub 로그인 실패: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(189, 147, 249)">str</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><code>LoginView.vue</code>의 GitHub 로그인 버튼 수정:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">loginWithGithub</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">window</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">href</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;http://localhost:8000/api/auth/github/login&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>OAuth 보안 주의사항</div><div class="admonitionContent_BuS1"><ol>
<li class=""><strong>State 파라미터 사용</strong>: CSRF 공격 방지를 위해 state 파라미터를 생성하고 검증하세요.</li>
<li class=""><strong>HTTPS 사용</strong>: 프로덕션에서는 반드시 HTTPS를 사용하세요.</li>
<li class=""><strong>Client Secret 보안</strong>: 클라이언트 시크릿은 절대 프론트엔드에 노출하지 마세요.</li>
<li class=""><strong>Redirect URI 검증</strong>: 허용된 리디렉션 URI만 사용하도록 제한하세요.</li>
</ol></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="210-비밀번호-재설정-기능">2.10 비밀번호 재설정 기능<a href="#210-비밀번호-재설정-기능" class="hash-link" aria-label="2.10 비밀번호 재설정 기능에 대한 직접 링크" title="2.10 비밀번호 재설정 기능에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="비밀번호-재설정-흐름">비밀번호 재설정 흐름<a href="#비밀번호-재설정-흐름" class="hash-link" aria-label="비밀번호 재설정 흐름에 대한 직접 링크" title="비밀번호 재설정 흐름에 대한 직접 링크" translate="no">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sequenceDiagram</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant U as User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant F as Frontend</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant B as Backend</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    participant E as Email Service</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    U-&gt;&gt;F: 1. 비밀번호 재설정 요청 (이메일 입력)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    F-&gt;&gt;B: 2. POST /forgot-password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    B-&gt;&gt;B: 3. 재설정 토큰 생성 (유효기간 1시간)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    B-&gt;&gt;E: 4. 이메일 전송 (토큰 포함 링크)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    E-&gt;&gt;U: 5. 이메일 수신</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    U-&gt;&gt;F: 6. 링크 클릭 (토큰 포함)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    F-&gt;&gt;F: 7. 새 비밀번호 입력 페이지</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    U-&gt;&gt;F: 8. 새 비밀번호 입력</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    F-&gt;&gt;B: 9. POST /reset-password (토큰 + 새 비밀번호)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    B-&gt;&gt;B: 10. 토큰 검증 및 비밀번호 업데이트</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    B-&gt;&gt;F: 11. 성공 응답</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    F-&gt;&gt;U: 12. 완료 메시지</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="backend-구현">Backend 구현<a href="#backend-구현" class="hash-link" aria-label="Backend 구현에 대한 직접 링크" title="Backend 구현에 대한 직접 링크" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-이메일-서비스-설정">1. 이메일 서비스 설정<a href="#1-이메일-서비스-설정" class="hash-link" aria-label="1. 이메일 서비스 설정에 대한 직접 링크" title="1. 이메일 서비스 설정에 대한 직접 링크" translate="no">​</a></h4>
<p>필요한 패키지 설치:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pip install fastapi-mail</span><br></span></code></pre></div></div>
<p><code>.env</code>에 추가:</p>
<div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MAIL_USERNAME=your-email@gmail.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MAIL_PASSWORD=your-app-password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MAIL_FROM=your-email@gmail.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MAIL_PORT=587</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MAIL_SERVER=smtp.gmail.com</span><br></span></code></pre></div></div>
<p><code>backend/app/core/email.py</code>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi_mail </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> FastMail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> MessageSchema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ConnectionConfig</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> EmailStr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> dotenv </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> load_dotenv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">load_dotenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">conf </span><span class="token operator">=</span><span class="token plain"> ConnectionConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MAIL_USERNAME</span><span class="token operator">=</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;MAIL_USERNAME&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MAIL_PASSWORD</span><span class="token operator">=</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;MAIL_PASSWORD&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MAIL_FROM</span><span class="token operator">=</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;MAIL_FROM&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MAIL_PORT</span><span class="token operator">=</span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;MAIL_PORT&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">587</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MAIL_SERVER</span><span class="token operator">=</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">getenv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;MAIL_SERVER&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MAIL_STARTTLS</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    MAIL_SSL_TLS</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    USE_CREDENTIALS</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fm </span><span class="token operator">=</span><span class="token plain"> FastMail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">conf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">send_reset_password_email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> EmailStr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    비밀번호 재설정 이메일 전송</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    reset_url </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;http://localhost:5173/reset-password?token=</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    html </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    &lt;html&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">        &lt;body&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;h2&gt;비밀번호 재설정&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;p&gt;비밀번호 재설정을 요청하셨습니다.&lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;p&gt;아래 링크를 클릭하여 새 비밀번호를 설정하세요.&lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">                &lt;a href=&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">reset_url</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot; style=&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">                    background-color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">                    color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">                    padding: 10px 20px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">                    text-decoration: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">                    border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">                    display: inline-block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">                &quot;&gt;비밀번호 재설정&lt;/a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;p&gt;이 링크는 1시간 동안 유효합니다.&lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;p&gt;요청하지 않으셨다면 이 이메일을 무시하세요.&lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">        &lt;/body&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    &lt;/html&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    message </span><span class="token operator">=</span><span class="token plain"> MessageSchema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        subject</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;비밀번호 재설정 요청&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        recipients</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        body</span><span class="token operator">=</span><span class="token plain">html</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        subtype</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;html&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> fm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">send_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-비밀번호-재설정-엔드포인트">2. 비밀번호 재설정 엔드포인트<a href="#2-비밀번호-재설정-엔드포인트" class="hash-link" aria-label="2. 비밀번호 재설정 엔드포인트에 대한 직접 링크" title="2. 비밀번호 재설정 엔드포인트에 대한 직접 링크" translate="no">​</a></h4>
<p><code>backend/app/routers/auth.py</code>에 추가:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> timedelta</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> send_reset_password_email</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> secrets</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 임시 저장소 (프로덕션에서는 Redis 사용 권장)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">password_reset_tokens </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/forgot-password&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">forgot_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> EmailStr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    비밀번호 재설정 요청</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email </span><span class="token operator">==</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 보안: 이메일이 없어도 동일한 응답 (사용자 존재 여부 노출 방지)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;비밀번호 재설정 이메일을 전송했습니다&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 재설정 토큰 생성 (32바이트 랜덤)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    token </span><span class="token operator">=</span><span class="token plain"> secrets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">token_urlsafe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 토큰 저장 (유효기간 1시간)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    password_reset_tokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user_id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;expires_at&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">utcnow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> timedelta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">hours</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 이메일 전송</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> send_reset_password_email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;비밀번호 재설정 이메일을 전송했습니다&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/reset-password&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">reset_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> min_length</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    비밀번호 재설정</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 토큰 검증</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> token </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> password_reset_tokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;유효하지 않은 토큰입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    token_data </span><span class="token operator">=</span><span class="token plain"> password_reset_tokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 만료 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">utcnow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> token_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;expires_at&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">del</span><span class="token plain"> password_reset_tokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;만료된 토큰입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 사용자 조회</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> token_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user_id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_404_NOT_FOUND</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;사용자를 찾을 수 없습니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 비밀번호 업데이트</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">hashed_password </span><span class="token operator">=</span><span class="token plain"> get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">new_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 토큰 삭제 (일회성)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">del</span><span class="token plain"> password_reset_tokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;비밀번호가 성공적으로 변경되었습니다&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Redis를 사용한 토큰 관리</div><div class="admonitionContent_BuS1"><p>프로덕션 환경에서는 토큰을 Redis에 저장하는 것이 좋습니다:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> redis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">r </span><span class="token operator">=</span><span class="token plain"> redis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Redis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">host</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> port</span><span class="token operator">=</span><span class="token number">6379</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> db</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 토큰 저장 (1시간 TTL)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">setex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;reset_token:</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3600</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> user_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 토큰 조회</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">user_id </span><span class="token operator">=</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;reset_token:</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 토큰 삭제</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">delete</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;reset_token:</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">token</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="frontend-구현">Frontend 구현<a href="#frontend-구현" class="hash-link" aria-label="Frontend 구현에 대한 직접 링크" title="Frontend 구현에 대한 직접 링크" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-비밀번호-찾기-페이지">1. 비밀번호 찾기 페이지<a href="#1-비밀번호-찾기-페이지" class="hash-link" aria-label="1. 비밀번호 찾기 페이지에 대한 직접 링크" title="1. 비밀번호 찾기 페이지에 대한 직접 링크" translate="no">​</a></h4>
<p><code>frontend/src/views/ForgotPasswordView.vue</code>:</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class=&quot;forgot-password-container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;forgot-password-card&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;h1&gt;비밀번호 찾기&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;p class=&quot;description&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        가입하신 이메일 주소를 입력하시면&lt;br&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        비밀번호 재설정 링크를 보내드립니다.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;form v-if=&quot;!submitted&quot; @submit.prevent=&quot;handleSubmit&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;email&quot;&gt;이메일&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;email&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;email&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;email&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;example@email.com&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            :disabled=&quot;loading&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div v-if=&quot;error&quot; class=&quot;error-message&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ error }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;submit&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          class=&quot;btn-primary&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          :disabled=&quot;loading&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ loading ? &#x27;전송 중...&#x27; : &#x27;재설정 링크 전송&#x27; }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/form&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div v-else class=&quot;success-message&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2&gt;이메일을 전송했습니다&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ email }}로 비밀번호 재설정 링크를 전송했습니다.&lt;br&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          이메일을 확인하여 비밀번호를 재설정하세요.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;p class=&quot;note&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          이메일이 도착하지 않았다면 스팸 메일함을 확인하세요.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;links&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;router-link to=&quot;/login&quot;&gt;로그인으로 돌아가기&lt;/router-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { ref } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import apiClient from &#x27;@/utils/axios&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const email = ref(&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const loading = ref(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const error = ref(null)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const submitted = ref(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function handleSubmit() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  loading.value = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  error.value = null</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    await apiClient.post(&#x27;/api/auth/forgot-password&#x27;, { email: email.value })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    submitted.value = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } catch (err) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error.value = err.response?.data?.detail || &#x27;오류가 발생했습니다&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } finally {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading.value = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.forgot-password-container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  justify-content: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  align-items: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  min-height: 100vh;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.forgot-password-card {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 10px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-width: 450px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">h1 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.description {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #666;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  line-height: 1.6;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.form-group {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">label {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #555;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 1px solid #ddd;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input:focus {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  outline: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #f5f5f5;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.error-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #fee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: transform 0.2s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:hover:not(:disabled) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transform: translateY(-2px);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  opacity: 0.6;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message i {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 4rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #4caf50;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message h2 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message p {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #666;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  line-height: 1.6;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message .note {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.9rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #999;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 1.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links a {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.links a:hover {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: underline;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-비밀번호-재설정-페이지">2. 비밀번호 재설정 페이지<a href="#2-비밀번호-재설정-페이지" class="hash-link" aria-label="2. 비밀번호 재설정 페이지에 대한 직접 링크" title="2. 비밀번호 재설정 페이지에 대한 직접 링크" translate="no">​</a></h4>
<p><code>frontend/src/views/ResetPasswordView.vue</code>:</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class=&quot;reset-password-container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div class=&quot;reset-password-card&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;h1&gt;비밀번호 재설정&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;form v-if=&quot;!submitted&quot; @submit.prevent=&quot;handleSubmit&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;password&quot;&gt;새 비밀번호&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            minlength=&quot;8&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;최소 8자 이상&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            :disabled=&quot;loading&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;label for=&quot;confirm_password&quot;&gt;비밀번호 확인&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id=&quot;confirm_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            v-model=&quot;form.confirm_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            type=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            placeholder=&quot;비밀번호 재입력&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            :disabled=&quot;loading&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;small v-if=&quot;form.confirm_password &amp;&amp; form.password !== form.confirm_password&quot; class=&quot;error&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            비밀번호가 일치하지 않습니다</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/small&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;div v-if=&quot;error&quot; class=&quot;error-message&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ error }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;submit&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          class=&quot;btn-primary&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          :disabled=&quot;loading || form.password !== form.confirm_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          {{ loading ? &#x27;변경 중...&#x27; : &#x27;비밀번호 변경&#x27; }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/form&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div v-else class=&quot;success-message&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;h2&gt;비밀번호가 변경되었습니다&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;p&gt;새 비밀번호로 로그인하세요.&lt;/p&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;router-link to=&quot;/login&quot; class=&quot;btn-primary&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          로그인 페이지로 이동</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/router-link&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { reactive, ref, onMounted } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useRoute } from &#x27;vue-router&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import apiClient from &#x27;@/utils/axios&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const route = useRoute()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const loading = ref(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const error = ref(null)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const submitted = ref(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const form = reactive({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  password: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  confirm_password: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const token = ref(&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">onMounted(() =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  token.value = route.query.token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (!token.value) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error.value = &#x27;유효하지 않은 링크입니다&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function handleSubmit() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  loading.value = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  error.value = null</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    await apiClient.post(&#x27;/api/auth/reset-password&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      token: token.value,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      new_password: form.password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    submitted.value = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } catch (err) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error.value = err.response?.data?.detail || &#x27;비밀번호 변경에 실패했습니다&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } finally {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading.value = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.reset-password-container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  justify-content: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  align-items: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  min-height: 100vh;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.reset-password-card {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 10px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-width: 450px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">h1 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.form-group {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">label {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #555;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 1px solid #ddd;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input:focus {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  outline: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #f5f5f5;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">small {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.85rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">small.error {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.error-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #fee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transition: transform 0.2s;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-decoration: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: inline-block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:hover:not(:disabled) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  transform: translateY(-2px);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  opacity: 0.6;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem 0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message i {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 4rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #4caf50;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message h2 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #333;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message p {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #666;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div>
<p>라우터에 추가:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/forgot-password&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ForgotPassword&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/ForgotPasswordView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/reset-password&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ResetPassword&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/ResetPasswordView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="211-실습-문제">2.11 실습 문제<a href="#211-실습-문제" class="hash-link" aria-label="2.11 실습 문제에 대한 직접 링크" title="2.11 실습 문제에 대한 직접 링크" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="문제-1-회원-프로필-수정-기능-구현">문제 1: 회원 프로필 수정 기능 구현<a href="#문제-1-회원-프로필-수정-기능-구현" class="hash-link" aria-label="문제 1: 회원 프로필 수정 기능 구현에 대한 직접 링크" title="문제 1: 회원 프로필 수정 기능 구현에 대한 직접 링크" translate="no">​</a></h3>
<p>현재 로그인한 사용자가 자신의 프로필(이름, 사용자명)을 수정할 수 있는 기능을 구현하세요.</p>
<p><strong>요구사항:</strong></p>
<ul>
<li class="">Backend: <code>PATCH /api/users/me</code> 엔드포인트 생성</li>
<li class="">Frontend: 프로필 수정 페이지 구현</li>
<li class="">수정 후 즉시 UI 업데이트</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>해답</summary><div><div class="collapsibleContent_i85q"><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="backend">Backend<a href="#backend" class="hash-link" aria-label="Backend에 대한 직접 링크" title="Backend에 대한 직접 링크" translate="no">​</a></h4><p><code>backend/app/routers/users.py</code>:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> APIRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">orm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Session</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> BaseModel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">database </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> get_db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">security </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> get_current_user</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router </span><span class="token operator">=</span><span class="token plain"> APIRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">prefix</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/api/users&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> tags</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;사용자&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserUpdate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    full_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">patch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/me&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">update_profile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> UserUpdate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> User </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    현재 사용자 프로필 수정</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 사용자명 중복 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">and</span><span class="token plain"> user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username </span><span class="token operator">!=</span><span class="token plain"> current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        existing_user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username </span><span class="token operator">==</span><span class="token plain"> user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> existing_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;이미 사용 중인 사용자명입니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username </span><span class="token operator">=</span><span class="token plain"> user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">username</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">full_name </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">is</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">full_name </span><span class="token operator">=</span><span class="token plain"> user_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">full_name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">refresh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> current_user</span><br></span></code></pre></div></div><p><code>main.py</code>에 라우터 등록:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">routers </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> users</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">include_router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">users</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="frontend">Frontend<a href="#frontend" class="hash-link" aria-label="Frontend에 대한 직접 링크" title="Frontend에 대한 직접 링크" translate="no">​</a></h4><p><code>frontend/src/views/ProfileView.vue</code>:</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class=&quot;profile-container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;h1&gt;프로필 수정&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;form @submit.prevent=&quot;handleSubmit&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;label&gt;이메일&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;input type=&quot;email&quot; :value=&quot;authStore.user?.email&quot; disabled /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;small&gt;이메일은 변경할 수 없습니다&lt;/small&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;label for=&quot;username&quot;&gt;사용자명&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          id=&quot;username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v-model=&quot;form.username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;text&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          minlength=&quot;3&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;label for=&quot;full_name&quot;&gt;이름&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          id=&quot;full_name&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v-model=&quot;form.full_name&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;text&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div v-if=&quot;error&quot; class=&quot;error-message&quot;&gt;{{ error }}&lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div v-if=&quot;success&quot; class=&quot;success-message&quot;&gt;{{ success }}&lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;button type=&quot;submit&quot; class=&quot;btn-primary&quot; :disabled=&quot;loading&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {{ loading ? &#x27;저장 중...&#x27; : &#x27;저장&#x27; }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/form&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { reactive, ref, onMounted } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useAuthStore } from &#x27;@/stores/auth&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import apiClient from &#x27;@/utils/axios&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const authStore = useAuthStore()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const loading = ref(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const error = ref(null)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const success = ref(null)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const form = reactive({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  username: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  full_name: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">onMounted(() =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (authStore.user) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    form.username = authStore.user.username</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    form.full_name = authStore.user.full_name || &#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function handleSubmit() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  loading.value = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  error.value = null</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  success.value = null</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    await apiClient.patch(&#x27;/api/users/me&#x27;, form)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 사용자 정보 다시 로드</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    await authStore.fetchUser()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    success.value = &#x27;프로필이 업데이트되었습니다&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } catch (err) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error.value = err.response?.data?.detail || &#x27;저장에 실패했습니다&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } finally {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading.value = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.profile-container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-width: 600px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin: 2rem auto;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">h1 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.form-group {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">label {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 1px solid #ddd;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #f5f5f5;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">small {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #666;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.85rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.error-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #fee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.success-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #efe;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #2a2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  opacity: 0.6;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div></div></div></details>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="문제-2-비밀번호-변경-기능">문제 2: 비밀번호 변경 기능<a href="#문제-2-비밀번호-변경-기능" class="hash-link" aria-label="문제 2: 비밀번호 변경 기능에 대한 직접 링크" title="문제 2: 비밀번호 변경 기능에 대한 직접 링크" translate="no">​</a></h3>
<p>로그인한 사용자가 현재 비밀번호를 입력하고 새 비밀번호로 변경할 수 있는 기능을 구현하세요.</p>
<p><strong>요구사항:</strong></p>
<ul>
<li class="">현재 비밀번호 확인 필수</li>
<li class="">새 비밀번호와 확인 입력 일치 검증</li>
<li class="">성공 시 로그아웃 처리</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>해답</summary><div><div class="collapsibleContent_i85q"><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="backend-1">Backend<a href="#backend-1" class="hash-link" aria-label="Backend에 대한 직접 링크" title="Backend에 대한 직접 링크" translate="no">​</a></h4><p><code>backend/app/routers/users.py</code>에 추가:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> pydantic </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">PasswordChange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    current_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> min_length</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">post</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/me/change-password&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">change_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    password_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> PasswordChange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> User </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    현재 사용자 비밀번호 변경</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">security </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> verify_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> get_password_hash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 현재 비밀번호 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> verify_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">current_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">hashed_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;현재 비밀번호가 올바르지 않습니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 새 비밀번호가 현재 비밀번호와 같은지 확인</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> verify_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">new_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">hashed_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;새 비밀번호는 현재 비밀번호와 달라야 합니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 비밀번호 업데이트</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    current_user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">hashed_password </span><span class="token operator">=</span><span class="token plain"> get_password_hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">password_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">new_password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;비밀번호가 변경되었습니다&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="frontend-1">Frontend<a href="#frontend-1" class="hash-link" aria-label="Frontend에 대한 직접 링크" title="Frontend에 대한 직접 링크" translate="no">​</a></h4><p><code>frontend/src/views/ChangePasswordView.vue</code>:</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class=&quot;change-password-container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;h1&gt;비밀번호 변경&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;form @submit.prevent=&quot;handleSubmit&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;label for=&quot;current_password&quot;&gt;현재 비밀번호&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          id=&quot;current_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v-model=&quot;form.current_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;label for=&quot;new_password&quot;&gt;새 비밀번호&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          id=&quot;new_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v-model=&quot;form.new_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          minlength=&quot;8&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;form-group&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;label for=&quot;confirm_password&quot;&gt;새 비밀번호 확인&lt;/label&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          id=&quot;confirm_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          v-model=&quot;form.confirm_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          type=&quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          required</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;small v-if=&quot;form.confirm_password &amp;&amp; form.new_password !== form.confirm_password&quot; class=&quot;error&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          비밀번호가 일치하지 않습니다</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/small&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div v-if=&quot;error&quot; class=&quot;error-message&quot;&gt;{{ error }}&lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        type=&quot;submit&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        class=&quot;btn-primary&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        :disabled=&quot;loading || form.new_password !== form.confirm_password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {{ loading ? &#x27;변경 중...&#x27; : &#x27;비밀번호 변경&#x27; }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/form&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { reactive, ref } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useRouter } from &#x27;vue-router&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useAuthStore } from &#x27;@/stores/auth&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import apiClient from &#x27;@/utils/axios&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const router = useRouter()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const authStore = useAuthStore()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const loading = ref(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const error = ref(null)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const form = reactive({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  current_password: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  new_password: &#x27;&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  confirm_password: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function handleSubmit() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  loading.value = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  error.value = null</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    await apiClient.post(&#x27;/api/users/me/change-password&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      current_password: form.current_password,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      new_password: form.new_password</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    alert(&#x27;비밀번호가 변경되었습니다. 다시 로그인해주세요.&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // 로그아웃 처리</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    await authStore.logout()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    router.push(&#x27;/login&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } catch (err) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error.value = err.response?.data?.detail || &#x27;비밀번호 변경에 실패했습니다&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } finally {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading.value = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.change-password-container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-width: 600px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin: 2rem auto;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">h1 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.form-group {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">label {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 1px solid #ddd;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">small {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: block;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.85rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">small.error {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.error-message {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #fee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.75rem 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-primary:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  opacity: 0.6;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div><p>라우터에 추가:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/change-password&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ChangePassword&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@/views/ChangePasswordView.vue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">requiresAuth</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div></div></div></details>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="문제-3-관리자-전용-사용자-목록-페이지">문제 3: 관리자 전용 사용자 목록 페이지<a href="#문제-3-관리자-전용-사용자-목록-페이지" class="hash-link" aria-label="문제 3: 관리자 전용 사용자 목록 페이지에 대한 직접 링크" title="문제 3: 관리자 전용 사용자 목록 페이지에 대한 직접 링크" translate="no">​</a></h3>
<p>관리자만 접근 가능한 사용자 목록 페이지를 구현하세요.</p>
<p><strong>요구사항:</strong></p>
<ul>
<li class="">모든 사용자 조회 (페이지네이션)</li>
<li class="">사용자 활성화/비활성화 토글</li>
<li class="">관리자 권한 확인</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>해답</summary><div><div class="collapsibleContent_i85q"><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="backend-2">Backend<a href="#backend-2" class="hash-link" aria-label="Backend에 대한 직접 링크" title="Backend에 대한 직접 링크" translate="no">​</a></h4><p><code>backend/app/routers/admin.py</code>:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> fastapi </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> APIRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Query</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> sqlalchemy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">orm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Session</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> List</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">database </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> get_db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">models</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> User</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">schemas</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">user </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> UserResponse</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">security </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> get_current_active_admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">router </span><span class="token operator">=</span><span class="token plain"> APIRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">prefix</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/api/admin&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> tags</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;관리자&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/users&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> response_model</span><span class="token operator">=</span><span class="token builtin" style="color:rgb(189, 147, 249)">dict</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get_users</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    skip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ge</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    limit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> Query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ge</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> le</span><span class="token operator">=</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    current_admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> User </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_current_active_admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    모든 사용자 조회 (관리자 전용)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    total </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    users </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">offset</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">skip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">limit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">limit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">all</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;total&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> total</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;skip&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> skip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;limit&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> limit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;users&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> users</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">@router</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token decorator annotation punctuation" style="color:rgb(248, 248, 242)">patch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/users/{user_id}/toggle-active&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">toggle_user_active</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    current_admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> User </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_current_active_admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Session </span><span class="token operator">=</span><span class="token plain"> Depends</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">get_db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    사용자 활성화 상태 토글</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user </span><span class="token operator">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> user_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_404_NOT_FOUND</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;사용자를 찾을 수 없습니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 본인은 비활성화할 수 없음</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> current_admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">raise</span><span class="token plain"> HTTPException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status_code</span><span class="token operator">=</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">HTTP_400_BAD_REQUEST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            detail</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;본인 계정은 비활성화할 수 없습니다&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">is_active </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">is_active</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">refresh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> user</span><br></span></code></pre></div></div><p><code>main.py</code>에 등록:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">routers </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">include_router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">admin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div><h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="frontend-2">Frontend<a href="#frontend-2" class="hash-link" aria-label="Frontend에 대한 직접 링크" title="Frontend에 대한 직접 링크" translate="no">​</a></h4><p><code>frontend/src/views/AdminView.vue</code>:</p><div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class=&quot;admin-container&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;h1&gt;사용자 관리&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div v-if=&quot;loading&quot; class=&quot;loading&quot;&gt;로딩 중...&lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;div v-else&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;table class=&quot;user-table&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;thead&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;th&gt;ID&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;th&gt;이메일&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;th&gt;사용자명&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;th&gt;이름&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;th&gt;역할&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;th&gt;활성화&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;th&gt;가입일&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;th&gt;작업&lt;/th&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/thead&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;tbody&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;tr v-for=&quot;user in users&quot; :key=&quot;user.id&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;td&gt;{{ user.id }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;td&gt;{{ user.email }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;td&gt;{{ user.username }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;td&gt;{{ user.full_name || &#x27;-&#x27; }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &lt;span :class=&quot;[&#x27;badge&#x27;, user.role]&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {{ user.role }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &lt;span :class=&quot;[&#x27;status&#x27;, user.is_active ? &#x27;active&#x27; : &#x27;inactive&#x27;]&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {{ user.is_active ? &#x27;활성&#x27; : &#x27;비활성&#x27; }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;td&gt;{{ formatDate(user.created_at) }}&lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &lt;button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                @click=&quot;toggleActive(user)&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                :disabled=&quot;user.id === authStore.user?.id&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                class=&quot;btn-toggle&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                {{ user.is_active ? &#x27;비활성화&#x27; : &#x27;활성화&#x27; }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/td&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;/tr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/tbody&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/table&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;div class=&quot;pagination&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;button @click=&quot;prevPage&quot; :disabled=&quot;skip === 0&quot;&gt;이전&lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;span&gt;페이지 {{ currentPage }} / {{ totalPages }}&lt;/span&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;button @click=&quot;nextPage&quot; :disabled=&quot;skip + limit &gt;= total&quot;&gt;다음&lt;/button&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script setup&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { ref, computed, onMounted } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useAuthStore } from &#x27;@/stores/auth&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import apiClient from &#x27;@/utils/axios&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const authStore = useAuthStore()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const loading = ref(false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const users = ref([])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const total = ref(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const skip = ref(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const limit = ref(10)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const currentPage = computed(() =&gt; Math.floor(skip.value / limit.value) + 1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const totalPages = computed(() =&gt; Math.ceil(total.value / limit.value))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">onMounted(() =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  fetchUsers()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function fetchUsers() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  loading.value = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const { data } = await apiClient.get(&#x27;/api/admin/users&#x27;, {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      params: { skip: skip.value, limit: limit.value }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    users.value = data.users</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    total.value = data.total</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } catch (err) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    console.error(&#x27;Failed to fetch users:&#x27;, err)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } finally {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading.value = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">async function toggleActive(user) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (confirm(`${user.username} 사용자를 ${user.is_active ? &#x27;비활성화&#x27; : &#x27;활성화&#x27;}하시겠습니까?`)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      await apiClient.patch(`/api/admin/users/${user.id}/toggle-active`)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      await fetchUsers()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    } catch (err) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      alert(&#x27;작업에 실패했습니다&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function prevPage() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (skip.value &gt;= limit.value) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    skip.value -= limit.value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fetchUsers()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function nextPage() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if (skip.value + limit.value &lt; total.value) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    skip.value += limit.value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    fetchUsers()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">function formatDate(dateString) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return new Date(dateString).toLocaleDateString(&#x27;ko-KR&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style scoped&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.admin-container {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  max-width: 1200px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin: 2rem auto;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">h1 {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-bottom: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.loading {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.user-table {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  width: 100%;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-collapse: collapse;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  box-shadow: 0 2px 4px rgba(0,0,0,0.1);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.user-table th,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.user-table td {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  text-align: left;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-bottom: 1px solid #eee;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.user-table th {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #f8f9fa;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.badge {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.25rem 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 3px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.85rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.badge.admin {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #ffe0e0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #c33;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.badge.user {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #e0f0ff;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #36c;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.status {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.25rem 0.5rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 3px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.85rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-weight: 600;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.status.active {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #e0ffe0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #2a2;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.status.inactive {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #f0f0f0;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #666;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-toggle {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.5rem 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #667eea;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: none;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 3px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-size: 0.85rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-toggle:hover:not(:disabled) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #5568d3;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.btn-toggle:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #ccc;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.pagination {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  display: flex;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  justify-content: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  align-items: center;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  gap: 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  margin-top: 2rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.pagination button {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  padding: 0.5rem 1rem;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: white;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border: 1px solid #ddd;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  border-radius: 5px;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: pointer;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.pagination button:hover:not(:disabled) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  background-color: #f8f9fa;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">.pagination button:disabled {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  opacity: 0.5;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cursor: not-allowed;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre></div></div></div></div></details>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="마치며">마치며<a href="#마치며" class="hash-link" aria-label="마치며에 대한 직접 링크" title="마치며에 대한 직접 링크" translate="no">​</a></h2>
<p>이 문서에서는 Vue 3와 FastAPI를 사용한 완전한 인증 및 인가 시스템을 구현하는 방법을 학습했습니다. JWT 기반 인증부터 OAuth 2.0 소셜 로그인, 비밀번호 재설정까지 실무에서 필요한 핵심 기능들을 다루었습니다.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="주요-학습-내용">주요 학습 내용<a href="#주요-학습-내용" class="hash-link" aria-label="주요 학습 내용에 대한 직접 링크" title="주요 학습 내용에 대한 직접 링크" translate="no">​</a></h3>
<ul>
<li class="">JWT의 구조와 동작 원리</li>
<li class="">FastAPI에서 python-jose와 passlib을 활용한 보안 구현</li>
<li class="">Axios 인터셉터를 통한 토큰 자동 관리</li>
<li class="">Vue Router 가드를 통한 접근 제어</li>
<li class="">OAuth 2.0 프로토콜과 소셜 로그인 통합</li>
<li class="">비밀번호 재설정 플로우 구현</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="보안-체크리스트">보안 체크리스트<a href="#보안-체크리스트" class="hash-link" aria-label="보안 체크리스트에 대한 직접 링크" title="보안 체크리스트에 대한 직접 링크" translate="no">​</a></h3>
<p>인증 시스템을 프로덕션에 배포하기 전 다음 사항을 확인하세요:</p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->HTTPS 사용 (모든 통신 암호화)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->강력한 SECRET_KEY 사용</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->환경 변수로 민감 정보 관리</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->비밀번호 복잡도 정책 적용</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Rate Limiting 설정 (브루트포스 공격 방지)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->CORS 정책 적절히 설정</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->XSS, CSRF 방어 구현</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->토큰 만료 시간 적절히 설정</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->로그 및 모니터링 시스템 구축</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->정기적인 보안 업데이트</li>
</ul>
<p>다음 챕터에서는 데이터베이스 설계와 ORM을 다룹니다.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/webapp/authentication.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/tobias-docs/comp-2/docs/webapp/setup"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">1. 프로젝트 설정</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tobias-docs/comp-2/docs/webapp/api-design"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">3. API 설계</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#21-인증-vs-인가-개념" class="table-of-contents__link toc-highlight">2.1 인증 vs 인가 개념</a><ul><li><a href="#인증-authentication" class="table-of-contents__link toc-highlight">인증 (Authentication)</a></li><li><a href="#인가-authorization" class="table-of-contents__link toc-highlight">인가 (Authorization)</a></li><li><a href="#인증과-인가의-차이" class="table-of-contents__link toc-highlight">인증과 인가의 차이</a></li></ul></li><li><a href="#22-jwt-json-web-token-이해하기" class="table-of-contents__link toc-highlight">2.2 JWT (JSON Web Token) 이해하기</a><ul><li><a href="#jwt란" class="table-of-contents__link toc-highlight">JWT란?</a></li><li><a href="#jwt-구조" class="table-of-contents__link toc-highlight">JWT 구조</a></li><li><a href="#jwt-동작-과정" class="table-of-contents__link toc-highlight">JWT 동작 과정</a></li><li><a href="#jwt-장단점" class="table-of-contents__link toc-highlight">JWT 장단점</a></li></ul></li><li><a href="#23-backend-fastapi에서-jwt-구현" class="table-of-contents__link toc-highlight">2.3 Backend: FastAPI에서 JWT 구현</a><ul><li><a href="#필요한-패키지-설치" class="table-of-contents__link toc-highlight">필요한 패키지 설치</a></li><li><a href="#환경-변수-설정" class="table-of-contents__link toc-highlight">환경 변수 설정</a></li><li><a href="#jwt-유틸리티-구현" class="table-of-contents__link toc-highlight">JWT 유틸리티 구현</a></li><li><a href="#사용자-모델-정의" class="table-of-contents__link toc-highlight">사용자 모델 정의</a></li><li><a href="#pydantic-스키마-정의" class="table-of-contents__link toc-highlight">Pydantic 스키마 정의</a></li></ul></li><li><a href="#24-backend-비밀번호-해싱-및-검증" class="table-of-contents__link toc-highlight">2.4 Backend: 비밀번호 해싱 및 검증</a><ul><li><a href="#비밀번호-해싱" class="table-of-contents__link toc-highlight">비밀번호 해싱</a></li><li><a href="#bcrypt의-동작-원리" class="table-of-contents__link toc-highlight">bcrypt의 동작 원리</a></li></ul></li><li><a href="#25-backend-로그인로그아웃-엔드포인트" class="table-of-contents__link toc-highlight">2.5 Backend: 로그인/로그아웃 엔드포인트</a><ul><li><a href="#인증-라우터-구현" class="table-of-contents__link toc-highlight">인증 라우터 구현</a></li><li><a href="#메인-앱에-라우터-등록" class="table-of-contents__link toc-highlight">메인 앱에 라우터 등록</a></li></ul></li><li><a href="#26-frontend-axios-인터셉터로-토큰-관리" class="table-of-contents__link toc-highlight">2.6 Frontend: Axios 인터셉터로 토큰 관리</a><ul><li><a href="#axios-인스턴스-설정" class="table-of-contents__link toc-highlight">Axios 인스턴스 설정</a></li><li><a href="#환경-변수-설정-1" class="table-of-contents__link toc-highlight">환경 변수 설정</a></li><li><a href="#인증-api-서비스" class="table-of-contents__link toc-highlight">인증 API 서비스</a></li></ul></li><li><a href="#27-frontend-로그인-페이지-구현" class="table-of-contents__link toc-highlight">2.7 Frontend: 로그인 페이지 구현</a><ul><li><a href="#pinia-스토어로-인증-상태-관리" class="table-of-contents__link toc-highlight">Pinia 스토어로 인증 상태 관리</a></li><li><a href="#로그인-페이지-컴포넌트" class="table-of-contents__link toc-highlight">로그인 페이지 컴포넌트</a></li><li><a href="#회원가입-페이지" class="table-of-contents__link toc-highlight">회원가입 페이지</a></li></ul></li><li><a href="#28-protected-routes-라우터-가드" class="table-of-contents__link toc-highlight">2.8 Protected Routes (라우터 가드)</a><ul><li><a href="#라우터-가드-구현" class="table-of-contents__link toc-highlight">라우터 가드 구현</a></li><li><a href="#appvue에서-초기화" class="table-of-contents__link toc-highlight">App.vue에서 초기화</a></li><li><a href="#네비게이션-바-컴포넌트" class="table-of-contents__link toc-highlight">네비게이션 바 컴포넌트</a></li></ul></li><li><a href="#29-oauth-20-소셜-로그인-google-github" class="table-of-contents__link toc-highlight">2.9 OAuth 2.0 소셜 로그인 (Google, GitHub)</a><ul><li><a href="#oauth-20-흐름" class="table-of-contents__link toc-highlight">OAuth 2.0 흐름</a></li><li><a href="#google-oauth-설정" class="table-of-contents__link toc-highlight">Google OAuth 설정</a></li><li><a href="#github-oauth-설정" class="table-of-contents__link toc-highlight">GitHub OAuth 설정</a></li></ul></li><li><a href="#210-비밀번호-재설정-기능" class="table-of-contents__link toc-highlight">2.10 비밀번호 재설정 기능</a><ul><li><a href="#비밀번호-재설정-흐름" class="table-of-contents__link toc-highlight">비밀번호 재설정 흐름</a></li><li><a href="#backend-구현" class="table-of-contents__link toc-highlight">Backend 구현</a></li><li><a href="#frontend-구현" class="table-of-contents__link toc-highlight">Frontend 구현</a></li></ul></li><li><a href="#211-실습-문제" class="table-of-contents__link toc-highlight">2.11 실습 문제</a><ul><li><a href="#문제-1-회원-프로필-수정-기능-구현" class="table-of-contents__link toc-highlight">문제 1: 회원 프로필 수정 기능 구현</a></li><li><a href="#문제-2-비밀번호-변경-기능" class="table-of-contents__link toc-highlight">문제 2: 비밀번호 변경 기능</a></li><li><a href="#문제-3-관리자-전용-사용자-목록-페이지" class="table-of-contents__link toc-highlight">문제 3: 관리자 전용 사용자 목록 페이지</a></li></ul></li><li><a href="#마치며" class="table-of-contents__link toc-highlight">마치며</a><ul><li><a href="#주요-학습-내용" class="table-of-contents__link toc-highlight">주요 학습 내용</a></li><li><a href="#보안-체크리스트" class="table-of-contents__link toc-highlight">보안 체크리스트</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">학습 가이드</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/github/intro">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/writing/intro">Writing</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/python/intro">Python</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/prometheus/intro">Prometheus</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/n8n/intro">n8n</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/pandas/intro">pandas</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/webapp/intro">Web App</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/dagster/intro">Dagster</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/apscheduler/intro">APScheduler</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/enterprise/intro">Enterprise App</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/webdev/intro">Web Dev</a></li><li class="footer__item"><a class="footer__link-item" href="/tobias-docs/comp-2/devops/intro">DevOps</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">리소스</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://git-scm.com/doc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Git 공식 문서<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">더 보기</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with Docusaurus</div></div></div></footer></div>
</body>
</html>