"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[9814],{7746:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"python/advanced/context-managers","title":"3. \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800","description":"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub294 \ub9ac\uc18c\uc2a4\ub97c \uc548\uc804\ud558\uac8c \uad00\ub9ac\ud558\uace0 \uc124\uc815 \ubc0f \uc815\ub9ac \uc791\uc5c5\uc744 \uc790\ub3d9\ud654\ud558\ub294 Python\uc758 \uac15\ub825\ud55c \uae30\ub2a5\uc785\ub2c8\ub2e4. with \ubb38\uacfc \ud568\uaed8 \uc0ac\uc6a9\ub418\uc5b4 \uc608\uc678\uac00 \ubc1c\uc0dd\ud558\ub354\ub77c\ub3c4 \ub9ac\uc18c\uc2a4\uac00 \uc62c\ubc14\ub974\uac8c \ud574\uc81c\ub418\ub3c4\ub85d \ubcf4\uc7a5\ud569\ub2c8\ub2e4.","source":"@site/docs/python/advanced/context-managers.md","sourceDirName":"python/advanced","slug":"/python/advanced/context-managers","permalink":"/docs/python/advanced/context-managers","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/python/advanced/context-managers.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"pythonSidebar","previous":{"title":"2. \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d","permalink":"/docs/python/advanced/async"},"next":{"title":"4. \uc131\ub2a5 \ucd5c\uc801\ud654","permalink":"/docs/python/advanced/performance"}}');var i=t(4848),a=t(8453);const l={sidebar_position:3},s="3. \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800",o={},c=[{value:"3.1 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub780?",id:"31-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800\ub780",level:2},{value:"\uae30\ubcf8 \uac1c\ub150",id:"\uae30\ubcf8-\uac1c\ub150",level:3},{value:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\uc758 \uc7a5\uc810",id:"\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800\uc758-\uc7a5\uc810",level:3},{value:"3.2 <code>__enter__</code>\uc640 <code>__exit__</code> \uba54\uc11c\ub4dc",id:"32-__enter__\uc640-__exit__-\uba54\uc11c\ub4dc",level:2},{value:"\uae30\ubcf8 \uad6c\uc870",id:"\uae30\ubcf8-\uad6c\uc870",level:3},{value:"\uc2e4\uc6a9\uc801\uc778 \uc608\uc81c: \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uad00\ub9ac",id:"\uc2e4\uc6a9\uc801\uc778-\uc608\uc81c-\ub370\uc774\ud130\ubca0\uc774\uc2a4-\uc5f0\uacb0-\uad00\ub9ac",level:3},{value:"\uc608\uc678 \ucc98\ub9ac \uc0c1\uc138 \uc608\uc81c",id:"\uc608\uc678-\ucc98\ub9ac-\uc0c1\uc138-\uc608\uc81c",level:3},{value:"3.3 \ub9ac\uc18c\uc2a4 \uad00\ub9ac",id:"33-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",level:2},{value:"\ud30c\uc77c \ub9ac\uc18c\uc2a4 \uad00\ub9ac",id:"\ud30c\uc77c-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",level:3},{value:"\ub124\ud2b8\uc6cc\ud06c \ub9ac\uc18c\uc2a4 \uad00\ub9ac",id:"\ub124\ud2b8\uc6cc\ud06c-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",level:3},{value:"\ub77d(Lock) \uad00\ub9ac",id:"\ub77dlock-\uad00\ub9ac",level:3},{value:"3.4 contextlib \ubaa8\ub4c8",id:"34-contextlib-\ubaa8\ub4c8",level:2},{value:"@contextmanager \ub370\ucf54\ub808\uc774\ud130",id:"contextmanager-\ub370\ucf54\ub808\uc774\ud130",level:3},{value:"yield \uc804\ud6c4 \ucf54\ub4dc",id:"yield-\uc804\ud6c4-\ucf54\ub4dc",level:3},{value:"\uc608\uc678 \ucc98\ub9ac",id:"\uc608\uc678-\ucc98\ub9ac",level:3},{value:"\uc2e4\uc6a9\uc801\uc778 \uc608\uc81c\ub4e4",id:"\uc2e4\uc6a9\uc801\uc778-\uc608\uc81c\ub4e4",level:3},{value:"3.5 ExitStack - \uc5ec\ub7ec \ucee8\ud14d\uc2a4\ud2b8 \uad00\ub9ac",id:"35-exitstack---\uc5ec\ub7ec-\ucee8\ud14d\uc2a4\ud2b8-\uad00\ub9ac",level:2},{value:"\uae30\ubcf8 \uc0ac\uc6a9\ubc95",id:"\uae30\ubcf8-\uc0ac\uc6a9\ubc95",level:3},{value:"\ub3d9\uc801 \ub9ac\uc18c\uc2a4 \uad00\ub9ac",id:"\ub3d9\uc801-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",level:3},{value:"\uc870\uac74\ubd80 \ub9ac\uc18c\uc2a4 \uad00\ub9ac",id:"\uc870\uac74\ubd80-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",level:3},{value:"\ucf5c\ubc31 \ub4f1\ub85d",id:"\ucf5c\ubc31-\ub4f1\ub85d",level:3},{value:"\uc911\ucca9\ub41c ExitStack",id:"\uc911\ucca9\ub41c-exitstack",level:3},{value:"3.6 \uc911\ucca9\ub41c \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800",id:"36-\uc911\ucca9\ub41c-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800",level:2},{value:"\uae30\ubcf8 \uc911\ucca9",id:"\uae30\ubcf8-\uc911\ucca9",level:3},{value:"\ubcf5\uc7a1\ud55c \uc911\ucca9 \uc608\uc81c",id:"\ubcf5\uc7a1\ud55c-\uc911\ucca9-\uc608\uc81c",level:3},{value:"\uc0ac\uc6a9\uc790 \uc815\uc758 \uc911\ucca9 \ucee8\ud14d\uc2a4\ud2b8",id:"\uc0ac\uc6a9\uc790-\uc815\uc758-\uc911\ucca9-\ucee8\ud14d\uc2a4\ud2b8",level:3},{value:"3.7 \uc608\uc678 \ucc98\ub9ac",id:"37-\uc608\uc678-\ucc98\ub9ac",level:2},{value:"\uc608\uc678 \uc804\ud30c\uc640 \uc5b5\uc81c",id:"\uc608\uc678-\uc804\ud30c\uc640-\uc5b5\uc81c",level:3},{value:"\uc120\ud0dd\uc801 \uc608\uc678 \ucc98\ub9ac",id:"\uc120\ud0dd\uc801-\uc608\uc678-\ucc98\ub9ac",level:3},{value:"contextlib.suppress",id:"contextlibsuppress",level:3},{value:"\uc608\uc678 \uc7ac\ubc1c\uc0dd",id:"\uc608\uc678-\uc7ac\ubc1c\uc0dd",level:3},{value:"\uc608\uc678 \ubcc0\ud658",id:"\uc608\uc678-\ubcc0\ud658",level:3},{value:"3.8 \uc2e4\uc6a9\uc801\uc778 \uc608\uc81c\ub4e4",id:"38-\uc2e4\uc6a9\uc801\uc778-\uc608\uc81c\ub4e4",level:2},{value:"\ud30c\uc77c \ucc98\ub9ac",id:"\ud30c\uc77c-\ucc98\ub9ac",level:3},{value:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0",id:"\ub370\uc774\ud130\ubca0\uc774\uc2a4-\uc5f0\uacb0",level:3},{value:"\ub77d \uad00\ub9ac",id:"\ub77d-\uad00\ub9ac",level:3},{value:"\ud0c0\uc774\uba38",id:"\ud0c0\uc774\uba38",level:3},{value:"\uc784\uc2dc \ub514\ub809\ud1a0\ub9ac",id:"\uc784\uc2dc-\ub514\ub809\ud1a0\ub9ac",level:3},{value:"HTTP \uc694\uccad \ucee8\ud14d\uc2a4\ud2b8",id:"http-\uc694\uccad-\ucee8\ud14d\uc2a4\ud2b8",level:3},{value:"\uc0c1\ud0dc \ubcf5\uc6d0",id:"\uc0c1\ud0dc-\ubcf5\uc6d0",level:3},{value:"3.9 \uc0ac\uc6a9\uc790 \uc815\uc758 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800",id:"39-\uc0ac\uc6a9\uc790-\uc815\uc758-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800",level:2},{value:"\ub9ac\uc18c\uc2a4 \ud480 \uad00\ub9ac",id:"\ub9ac\uc18c\uc2a4-\ud480-\uad00\ub9ac",level:3},{value:"\uc131\ub2a5 \ud504\ub85c\ud30c\uc77c\ub9c1",id:"\uc131\ub2a5-\ud504\ub85c\ud30c\uc77c\ub9c1",level:3},{value:"\ub85c\uae45 \ucee8\ud14d\uc2a4\ud2b8",id:"\ub85c\uae45-\ucee8\ud14d\uc2a4\ud2b8",level:3},{value:"\uc7ac\uc2dc\ub3c4 \uba54\ucee4\ub2c8\uc998",id:"\uc7ac\uc2dc\ub3c4-\uba54\ucee4\ub2c8\uc998",level:3},{value:"\uce90\uc2f1 \ucee8\ud14d\uc2a4\ud2b8",id:"\uce90\uc2f1-\ucee8\ud14d\uc2a4\ud2b8",level:3},{value:"3.10 \ubca0\uc2a4\ud2b8 \ud504\ub799\ud2f0\uc2a4",id:"310-\ubca0\uc2a4\ud2b8-\ud504\ub799\ud2f0\uc2a4",level:2},{value:"1. \ub9ac\uc18c\uc2a4\ub294 \ud56d\uc0c1 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub85c \uad00\ub9ac",id:"1-\ub9ac\uc18c\uc2a4\ub294-\ud56d\uc0c1-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800\ub85c-\uad00\ub9ac",level:3},{value:"2. \uc608\uc678\ub97c \uc2e0\uc911\ud558\uac8c \uc5b5\uc81c",id:"2-\uc608\uc678\ub97c-\uc2e0\uc911\ud558\uac8c-\uc5b5\uc81c",level:3},{value:"3. __enter__\uc758 \ubc18\ud658\uac12 \ud65c\uc6a9",id:"3-__enter__\uc758-\ubc18\ud658\uac12-\ud65c\uc6a9",level:3},{value:"4. contextlib \ud65c\uc6a9\uc73c\ub85c \uac04\uacb0\uc131 \ud5a5\uc0c1",id:"4-contextlib-\ud65c\uc6a9\uc73c\ub85c-\uac04\uacb0\uc131-\ud5a5\uc0c1",level:3},{value:"5. \uc7ac\uc9c4\uc785 \ubd88\uac00\ub2a5\uc131 \uace0\ub824",id:"5-\uc7ac\uc9c4\uc785-\ubd88\uac00\ub2a5\uc131-\uace0\ub824",level:3},{value:"6. \ud0c0\uc785 \ud78c\ud2b8 \uc0ac\uc6a9",id:"6-\ud0c0\uc785-\ud78c\ud2b8-\uc0ac\uc6a9",level:3},{value:"7. \ubb38\uc11c\ud654",id:"7-\ubb38\uc11c\ud654",level:3},{value:"8. \uccb4\uc774\ub2dd\uacfc \uc870\ud569",id:"8-\uccb4\uc774\ub2dd\uacfc-\uc870\ud569",level:3},{value:"3.11 \uccb4\ud06c\ub9ac\uc2a4\ud2b8\uc640 \ud301",id:"311-\uccb4\ud06c\ub9ac\uc2a4\ud2b8\uc640-\ud301",level:2},{value:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800 \uad6c\ud604 \uccb4\ud06c\ub9ac\uc2a4\ud2b8",id:"\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800-\uad6c\ud604-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",level:3},{value:"\uc77c\ubc18\uc801\uc778 \ud568\uc815",id:"\uc77c\ubc18\uc801\uc778-\ud568\uc815",level:3},{value:"\uc131\ub2a5 \ud301",id:"\uc131\ub2a5-\ud301",level:3},{value:"\ub514\ubc84\uae45 \ud301",id:"\ub514\ubc84\uae45-\ud301",level:3},{value:"3.12 \uc5f0\uc2b5 \ubb38\uc81c",id:"312-\uc5f0\uc2b5-\ubb38\uc81c",level:2},{value:"\ubb38\uc81c 1: \ud2b8\ub79c\uc7ad\uc158 \ub9e4\ub2c8\uc800",id:"\ubb38\uc81c-1-\ud2b8\ub79c\uc7ad\uc158-\ub9e4\ub2c8\uc800",level:3},{value:"\ubb38\uc81c 2: \uc124\uc815 \uad00\ub9ac\uc790",id:"\ubb38\uc81c-2-\uc124\uc815-\uad00\ub9ac\uc790",level:3},{value:"\ubb38\uc81c 3: \ub9ac\uc18c\uc2a4 \ubaa8\ub2c8\ud130",id:"\ubb38\uc81c-3-\ub9ac\uc18c\uc2a4-\ubaa8\ub2c8\ud130",level:3},{value:"\ubb38\uc81c 4: \uc7ac\uc2dc\ub3c4 \ucee8\ud14d\uc2a4\ud2b8",id:"\ubb38\uc81c-4-\uc7ac\uc2dc\ub3c4-\ucee8\ud14d\uc2a4\ud2b8",level:3},{value:"\ubb38\uc81c 5: \ud30c\uc77c \ubc31\uc5c5 \ub9e4\ub2c8\uc800",id:"\ubb38\uc81c-5-\ud30c\uc77c-\ubc31\uc5c5-\ub9e4\ub2c8\uc800",level:3},{value:"3.13 \uc694\uc57d",id:"313-\uc694\uc57d",level:2},{value:"\ud575\uc2ec \ud3ec\uc778\ud2b8",id:"\ud575\uc2ec-\ud3ec\uc778\ud2b8",level:3},{value:"\uc5b8\uc81c \uc0ac\uc6a9\ud558\ub098\uc694?",id:"\uc5b8\uc81c-\uc0ac\uc6a9\ud558\ub098\uc694",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"3-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800",children:"3. \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"})}),"\n",(0,i.jsxs)(n.p,{children:["\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub294 \ub9ac\uc18c\uc2a4\ub97c \uc548\uc804\ud558\uac8c \uad00\ub9ac\ud558\uace0 \uc124\uc815 \ubc0f \uc815\ub9ac \uc791\uc5c5\uc744 \uc790\ub3d9\ud654\ud558\ub294 Python\uc758 \uac15\ub825\ud55c \uae30\ub2a5\uc785\ub2c8\ub2e4. ",(0,i.jsx)(n.code,{children:"with"})," \ubb38\uacfc \ud568\uaed8 \uc0ac\uc6a9\ub418\uc5b4 \uc608\uc678\uac00 \ubc1c\uc0dd\ud558\ub354\ub77c\ub3c4 \ub9ac\uc18c\uc2a4\uac00 \uc62c\ubc14\ub974\uac8c \ud574\uc81c\ub418\ub3c4\ub85d \ubcf4\uc7a5\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.h2,{id:"31-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800\ub780",children:"3.1 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub780?"}),"\n",(0,i.jsxs)(n.p,{children:["\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub294 ",(0,i.jsx)(n.code,{children:"with"})," \ubb38\uacfc \ud568\uaed8 \uc0ac\uc6a9\ub418\ub294 \uac1d\uccb4\ub85c, \ub9ac\uc18c\uc2a4 \ud560\ub2f9\uacfc \ud574\uc81c\ub97c \uc790\ub3d9\uc73c\ub85c \ucc98\ub9ac\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.h3,{id:"\uae30\ubcf8-\uac1c\ub150",children:"\uae30\ubcf8 \uac1c\ub150"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \uc804\ud1b5\uc801\uc778 \ubc29\uc2dd - \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uba74 \ud30c\uc77c\uc774 \ub2eb\ud788\uc9c0 \uc54a\uc744 \uc218 \uc788\uc74c\nfile = open('example.txt', 'w')\ntry:\n    file.write('Hello, World!')\nfinally:\n    file.close()\n\n# \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800 \uc0ac\uc6a9 - \uc790\ub3d9\uc73c\ub85c \ud30c\uc77c \ub2eb\ud798 \ubcf4\uc7a5\nwith open('example.txt', 'w') as file:\n    file.write('Hello, World!')\n# \ube14\ub85d\uc744 \ubc97\uc5b4\ub098\uba74 \uc790\ub3d9\uc73c\ub85c file.close() \ud638\ucd9c\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800\uc758-\uc7a5\uc810",children:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\uc758 \uc7a5\uc810"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# 1. \uc790\ub3d9 \ub9ac\uc18c\uc2a4 \uad00\ub9ac\nwith open('data.txt', 'r') as f:\n    data = f.read()\n# \ud30c\uc77c\uc774 \uc790\ub3d9\uc73c\ub85c \ub2eb\ud798\n\n# 2. \uc608\uc678 \uc548\uc804\uc131\nwith open('data.txt', 'w') as f:\n    f.write('data')\n    raise ValueError(\"Something went wrong!\")\n    # \uc608\uc678\uac00 \ubc1c\uc0dd\ud574\ub3c4 \ud30c\uc77c\uc740 \uc62c\ubc14\ub974\uac8c \ub2eb\ud798\n\n# 3. \ucf54\ub4dc \uac00\ub3c5\uc131 \ud5a5\uc0c1\n# \uc124\uc815\uacfc \uc815\ub9ac \ub85c\uc9c1\uc774 \uba85\ud655\ud558\uac8c \uad6c\ubd84\ub428\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub294 \ud30c\uc77c, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0, \ub124\ud2b8\uc6cc\ud06c \uc18c\ucf13, \ub77d(lock) \ub4f1 \uc0ac\uc6a9 \ud6c4 \ubc18\ub4dc\uc2dc \ud574\uc81c\ud574\uc57c \ud558\ub294 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\uc5d0 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})}),"\n",(0,i.jsxs)(n.h2,{id:"32-__enter__\uc640-__exit__-\uba54\uc11c\ub4dc",children:["3.2 ",(0,i.jsx)(n.code,{children:"__enter__"}),"\uc640 ",(0,i.jsx)(n.code,{children:"__exit__"})," \uba54\uc11c\ub4dc"]}),"\n",(0,i.jsxs)(n.p,{children:["\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800 \ud504\ub85c\ud1a0\ucf5c\uc744 \uad6c\ud604\ud558\ub824\uba74 ",(0,i.jsx)(n.code,{children:"__enter__"}),"\uc640 ",(0,i.jsx)(n.code,{children:"__exit__"})," \uba54\uc11c\ub4dc\ub97c \uc815\uc758\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.h3,{id:"\uae30\ubcf8-\uad6c\uc870",children:"\uae30\ubcf8 \uad6c\uc870"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class MyContextManager:\n    def __enter__(self):\n        """\n        with \ube14\ub85d \uc9c4\uc785 \uc2dc \ud638\ucd9c\ub428\n        \ubc18\ud658\uac12\uc774 \'as\' \uc808\uc758 \ubcc0\uc218\uc5d0 \ud560\ub2f9\ub428\n        """\n        print("Entering context")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        """\n        with \ube14\ub85d \uc885\ub8cc \uc2dc \ud638\ucd9c\ub428 (\uc608\uc678 \ubc1c\uc0dd \uc5ec\ubd80\uc640 \ubb34\uad00)\n\n        \ub9e4\uac1c\ubcc0\uc218:\n        - exc_type: \uc608\uc678 \ud0c0\uc785 (\uc608\uc678\uac00 \uc5c6\uc73c\uba74 None)\n        - exc_value: \uc608\uc678 \uac12 (\uc608\uc678\uac00 \uc5c6\uc73c\uba74 None)\n        - traceback: \ud2b8\ub808\uc774\uc2a4\ubc31 \uac1d\uccb4 (\uc608\uc678\uac00 \uc5c6\uc73c\uba74 None)\n\n        \ubc18\ud658\uac12:\n        - True: \uc608\uc678\ub97c \uc5b5\uc81c (\uc608\uc678\uac00 \uc804\ud30c\ub418\uc9c0 \uc54a\uc74c)\n        - False/None: \uc608\uc678\ub97c \uc804\ud30c\n        """\n        print("Exiting context")\n        return False  # \uc608\uc678\ub97c \uc804\ud30c\n\n# \uc0ac\uc6a9 \uc608\uc2dc\nwith MyContextManager() as manager:\n    print("Inside context")\n# \ucd9c\ub825:\n# Entering context\n# Inside context\n# Exiting context\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc2e4\uc6a9\uc801\uc778-\uc608\uc81c-\ub370\uc774\ud130\ubca0\uc774\uc2a4-\uc5f0\uacb0-\uad00\ub9ac",children:"\uc2e4\uc6a9\uc801\uc778 \uc608\uc81c: \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import sqlite3\n\nclass DatabaseConnection:\n    def __init__(self, db_name):\n        self.db_name = db_name\n        self.connection = None\n\n    def __enter__(self):\n        self.connection = sqlite3.connect(self.db_name)\n        print(f"Connected to {self.db_name}")\n        return self.connection\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if exc_type is None:\n            # \uc608\uc678\uac00 \uc5c6\uc73c\uba74 \ucee4\ubc0b\n            self.connection.commit()\n            print("Changes committed")\n        else:\n            # \uc608\uc678\uac00 \uc788\uc73c\uba74 \ub864\ubc31\n            self.connection.rollback()\n            print(f"Changes rolled back due to {exc_type.__name__}")\n\n        self.connection.close()\n        print("Connection closed")\n        return False  # \uc608\uc678\ub97c \uc804\ud30c\n\n# \uc0ac\uc6a9\nwith DatabaseConnection(\'example.db\') as conn:\n    cursor = conn.cursor()\n    cursor.execute(\'CREATE TABLE IF NOT EXISTS users (id INTEGER, name TEXT)\')\n    cursor.execute(\'INSERT INTO users VALUES (1, "Alice")\')\n# \uc790\ub3d9\uc73c\ub85c \ucee4\ubc0b\ub418\uace0 \uc5f0\uacb0\uc774 \ub2eb\ud798\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc608\uc678-\ucc98\ub9ac-\uc0c1\uc138-\uc608\uc81c",children:"\uc608\uc678 \ucc98\ub9ac \uc0c1\uc138 \uc608\uc81c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class ExceptionHandler:\n    def __enter__(self):\n        print("Setting up")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if exc_type is None:\n            print("No exception occurred")\n        else:\n            print(f"Exception caught: {exc_type.__name__}: {exc_value}")\n            print(f"Traceback: {traceback}")\n            # True\ub97c \ubc18\ud658\ud558\uba74 \uc608\uc678\ub97c \uc5b5\uc81c\n            return True  # \uc608\uc678\ub97c \uc0bc\ud0b4\n        return False\n\n# \uc608\uc678\uac00 \ubc1c\uc0dd\ud558\uc9c0\ub9cc \uc5b5\uc81c\ub428\nwith ExceptionHandler() as handler:\n    print("Doing something")\n    raise ValueError("Oops!")\n    print("This won\'t be printed")\n\nprint("Program continues")\n# \ucd9c\ub825:\n# Setting up\n# Doing something\n# Exception caught: ValueError: Oops!\n# Traceback: <traceback object at ...>\n# Program continues\n'})}),"\n",(0,i.jsx)(n.h2,{id:"33-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",children:"3.3 \ub9ac\uc18c\uc2a4 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.p,{children:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub294 \ub2e4\uc591\ud55c \ub9ac\uc18c\uc2a4\ub97c \uc548\uc804\ud558\uac8c \uad00\ub9ac\ud558\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"\ud30c\uc77c-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",children:"\ud30c\uc77c \ub9ac\uc18c\uc2a4 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"class FileManager:\n    def __init__(self, filename, mode):\n        self.filename = filename\n        self.mode = mode\n        self.file = None\n\n    def __enter__(self):\n        self.file = open(self.filename, self.mode)\n        return self.file\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if self.file:\n            self.file.close()\n        return False\n\n# \uc0ac\uc6a9\nwith FileManager('test.txt', 'w') as f:\n    f.write('Hello from custom file manager!')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ub124\ud2b8\uc6cc\ud06c-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",children:"\ub124\ud2b8\uc6cc\ud06c \ub9ac\uc18c\uc2a4 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import socket\n\nclass SocketConnection:\n    def __init__(self, host, port):\n        self.host = host\n        self.port = port\n        self.socket = None\n\n    def __enter__(self):\n        self.socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.socket.connect((self.host, self.port))\n        print(f\"Connected to {self.host}:{self.port}\")\n        return self.socket\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if self.socket:\n            self.socket.close()\n            print(\"Socket closed\")\n        return False\n\n# \uc0ac\uc6a9 \uc608\uc2dc (\uc2e4\uc81c\ub85c\ub294 \uc11c\ubc84\uac00 \uc2e4\ud589 \uc911\uc774\uc5b4\uc57c \ud568)\n# with SocketConnection('localhost', 8080) as sock:\n#     sock.send(b'GET / HTTP/1.1\\r\\n\\r\\n')\n#     response = sock.recv(1024)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ub77dlock-\uad00\ub9ac",children:"\ub77d(Lock) \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import threading\nimport time\n\nclass LockManager:\n    def __init__(self, lock):\n        self.lock = lock\n\n    def __enter__(self):\n        self.lock.acquire()\n        print(f"Lock acquired by {threading.current_thread().name}")\n        return self.lock\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        self.lock.release()\n        print(f"Lock released by {threading.current_thread().name}")\n        return False\n\n# \uc0ac\uc6a9\nlock = threading.Lock()\nshared_resource = []\n\ndef worker(worker_id):\n    with LockManager(lock):\n        print(f"Worker {worker_id} accessing shared resource")\n        shared_resource.append(worker_id)\n        time.sleep(0.1)\n\nthreads = [threading.Thread(target=worker, args=(i,)) for i in range(3)]\nfor t in threads:\n    t.start()\nfor t in threads:\n    t.join()\n\nprint(f"Shared resource: {shared_resource}")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"34-contextlib-\ubaa8\ub4c8",children:"3.4 contextlib \ubaa8\ub4c8"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"contextlib"})," \ubaa8\ub4c8\uc740 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \uc27d\uac8c \uc0dd\uc131\ud560 \uc218 \uc788\ub294 \uc720\ud2f8\ub9ac\ud2f0\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.h3,{id:"contextmanager-\ub370\ucf54\ub808\uc774\ud130",children:"@contextmanager \ub370\ucf54\ub808\uc774\ud130"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from contextlib import contextmanager\n\n@contextmanager\ndef file_manager(filename, mode):\n    \"\"\"\uac04\ub2e8\ud55c \ud30c\uc77c \ub9e4\ub2c8\uc800\"\"\"\n    file = open(filename, mode)\n    try:\n        yield file  # __enter__\uac00 \ubc18\ud658\ud558\ub294 \uac12\n    finally:\n        file.close()  # __exit__\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \ucf54\ub4dc\n\n# \uc0ac\uc6a9\nwith file_manager('test.txt', 'w') as f:\n    f.write('Using @contextmanager decorator!')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"yield-\uc804\ud6c4-\ucf54\ub4dc",children:"yield \uc804\ud6c4 \ucf54\ub4dc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'@contextmanager\ndef timing_context(name):\n    """\ucf54\ub4dc \uc2e4\ud589 \uc2dc\uac04 \uce21\uc815"""\n    import time\n    start = time.time()\n    print(f"{name} started")\n\n    try:\n        yield  # with \ube14\ub85d\uc758 \ucf54\ub4dc\uac00 \uc2e4\ud589\ub418\ub294 \uc9c0\uc810\n    finally:\n        end = time.time()\n        print(f"{name} finished in {end - start:.4f} seconds")\n\n# \uc0ac\uc6a9\nwith timing_context("Data processing"):\n    import time\n    time.sleep(0.5)\n    print("Processing data...")\n# \ucd9c\ub825:\n# Data processing started\n# Processing data...\n# Data processing finished in 0.5001 seconds\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc608\uc678-\ucc98\ub9ac",children:"\uc608\uc678 \ucc98\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'@contextmanager\ndef error_handler(operation_name):\n    """\uc608\uc678\ub97c \uc7a1\uc544\uc11c \ub85c\uae45\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    try:\n        yield\n    except Exception as e:\n        print(f"Error in {operation_name}: {type(e).__name__}: {e}")\n        # \uc608\uc678\ub97c \ub2e4\uc2dc \ubc1c\uc0dd\uc2dc\ud0a4\ub824\uba74 raise \uc0ac\uc6a9\n        # \uc608\uc678\ub97c \uc5b5\uc81c\ud558\ub824\uba74 \uc544\ubb34\uac83\ub3c4 \ud558\uc9c0 \uc54a\uc74c\n\n# \uc0ac\uc6a9\nwith error_handler("database operation"):\n    raise ValueError("Invalid data")\n# \ucd9c\ub825: Error in database operation: ValueError: Invalid data\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc2e4\uc6a9\uc801\uc778-\uc608\uc81c\ub4e4",children:"\uc2e4\uc6a9\uc801\uc778 \uc608\uc81c\ub4e4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import contextmanager\nimport sys\nimport os\n\n@contextmanager\ndef temporary_directory_change(path):\n    """\uc77c\uc2dc\uc801\uc73c\ub85c \uc791\uc5c5 \ub514\ub809\ud1a0\ub9ac \ubcc0\uacbd"""\n    original_dir = os.getcwd()\n    try:\n        os.chdir(path)\n        yield path\n    finally:\n        os.chdir(original_dir)\n\n@contextmanager\ndef suppress_stdout():\n    """\ud45c\uc900 \ucd9c\ub825 \uc5b5\uc81c"""\n    original_stdout = sys.stdout\n    try:\n        sys.stdout = open(os.devnull, \'w\')\n        yield\n    finally:\n        sys.stdout.close()\n        sys.stdout = original_stdout\n\n@contextmanager\ndef environment_variable(key, value):\n    """\uc77c\uc2dc\uc801\uc73c\ub85c \ud658\uacbd \ubcc0\uc218 \uc124\uc815"""\n    original_value = os.environ.get(key)\n    os.environ[key] = value\n    try:\n        yield\n    finally:\n        if original_value is None:\n            del os.environ[key]\n        else:\n            os.environ[key] = original_value\n\n# \uc0ac\uc6a9 \uc608\uc2dc\nwith temporary_directory_change(\'/tmp\'):\n    print(f"Current directory: {os.getcwd()}")\n\nwith suppress_stdout():\n    print("This won\'t be printed")\nprint("This will be printed")\n\nwith environment_variable(\'MY_VAR\', \'test_value\'):\n    print(f"MY_VAR: {os.environ[\'MY_VAR\']}")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"35-exitstack---\uc5ec\ub7ec-\ucee8\ud14d\uc2a4\ud2b8-\uad00\ub9ac",children:"3.5 ExitStack - \uc5ec\ub7ec \ucee8\ud14d\uc2a4\ud2b8 \uad00\ub9ac"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ExitStack"}),"\uc740 \uc5ec\ub7ec \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \ub3d9\uc801\uc73c\ub85c \uad00\ub9ac\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.h3,{id:"\uae30\ubcf8-\uc0ac\uc6a9\ubc95",children:"\uae30\ubcf8 \uc0ac\uc6a9\ubc95"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from contextlib import ExitStack\n\n# \uc5ec\ub7ec \ud30c\uc77c\uc744 \ub3d9\uc2dc\uc5d0 \uc5f4\uae30\nfilenames = ['file1.txt', 'file2.txt', 'file3.txt']\n\nwith ExitStack() as stack:\n    files = [stack.enter_context(open(fname, 'w')) for fname in filenames]\n\n    for i, f in enumerate(files):\n        f.write(f'Content for file {i+1}\\n')\n# \ubaa8\ub4e0 \ud30c\uc77c\uc774 \uc790\ub3d9\uc73c\ub85c \ub2eb\ud798\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ub3d9\uc801-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",children:"\ub3d9\uc801 \ub9ac\uc18c\uc2a4 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import ExitStack\n\ndef process_files(filenames):\n    """\ub3d9\uc801\uc73c\ub85c \uc5ec\ub7ec \ud30c\uc77c \ucc98\ub9ac"""\n    with ExitStack() as stack:\n        files = []\n        for filename in filenames:\n            try:\n                f = stack.enter_context(open(filename, \'r\'))\n                files.append(f)\n            except FileNotFoundError:\n                print(f"Warning: {filename} not found, skipping")\n\n        # \uc5f4\ub9b0 \ubaa8\ub4e0 \ud30c\uc77c \ucc98\ub9ac\n        for f in files:\n            print(f"Processing {f.name}")\n            content = f.read()\n            print(f"  Lines: {len(content.splitlines())}")\n    # \ubaa8\ub4e0 \ud30c\uc77c\uc774 \uc790\ub3d9\uc73c\ub85c \ub2eb\ud798\n\n# \uc0ac\uc6a9\nfilenames = [\'test.txt\', \'missing.txt\', \'another.txt\']\nprocess_files(filenames)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc870\uac74\ubd80-\ub9ac\uc18c\uc2a4-\uad00\ub9ac",children:"\uc870\uac74\ubd80 \ub9ac\uc18c\uc2a4 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import ExitStack\nimport tempfile\n\ndef process_with_optional_logging(data, enable_logging=False):\n    """\ub85c\uae45\uc744 \uc120\ud0dd\uc801\uc73c\ub85c \ud65c\uc131\ud654\ud558\uc5ec \ub370\uc774\ud130 \ucc98\ub9ac"""\n    with ExitStack() as stack:\n        if enable_logging:\n            log_file = stack.enter_context(\n                open(\'processing.log\', \'a\')\n            )\n            log = lambda msg: log_file.write(f"{msg}\\n")\n        else:\n            log = lambda msg: None\n\n        log("Processing started")\n        result = sum(data)\n        log(f"Processing completed: result = {result}")\n\n        return result\n\n# \uc0ac\uc6a9\nresult1 = process_with_optional_logging([1, 2, 3], enable_logging=True)\nresult2 = process_with_optional_logging([4, 5, 6], enable_logging=False)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\ucf5c\ubc31-\ub4f1\ub85d",children:"\ucf5c\ubc31 \ub4f1\ub85d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import ExitStack\n\ndef complex_operation():\n    """\uc5ec\ub7ec \uc815\ub9ac \uc791\uc5c5\uc774 \ud544\uc694\ud55c \ubcf5\uc7a1\ud55c \uc791\uc5c5"""\n    with ExitStack() as stack:\n        # \uc815\ub9ac \ucf5c\ubc31 \ub4f1\ub85d\n        stack.callback(print, "Cleanup step 1")\n        stack.callback(print, "Cleanup step 2")\n        stack.callback(print, "Cleanup step 3")\n\n        print("Performing operation")\n\n        # \uc870\uac74\ubd80 \ucf5c\ubc31\n        if True:\n            stack.callback(lambda: print("Conditional cleanup"))\n\n        return "Done"\n# \uc885\ub8cc \uc2dc \ucf5c\ubc31\uc774 \uc5ed\uc21c\uc73c\ub85c \uc2e4\ud589\ub428\n# \ucd9c\ub825:\n# Performing operation\n# Conditional cleanup\n# Cleanup step 3\n# Cleanup step 2\n# Cleanup step 1\n\nresult = complex_operation()\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc911\ucca9\ub41c-exitstack",children:"\uc911\ucca9\ub41c ExitStack"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import ExitStack\nimport tempfile\n\ndef nested_resource_management():\n    """\uc911\ucca9\ub41c \ub9ac\uc18c\uc2a4 \uad00\ub9ac"""\n    with ExitStack() as outer_stack:\n        # \uc784\uc2dc \ub514\ub809\ud1a0\ub9ac \uc0dd\uc131\n        temp_dir = outer_stack.enter_context(\n            tempfile.TemporaryDirectory()\n        )\n        print(f"Temporary directory: {temp_dir}")\n\n        # \ub0b4\ubd80 \uc2a4\ud0dd\uc73c\ub85c \ud30c\uc77c\ub4e4 \uad00\ub9ac\n        with ExitStack() as inner_stack:\n            files = []\n            for i in range(3):\n                f = inner_stack.enter_context(\n                    open(f\'{temp_dir}/file{i}.txt\', \'w\')\n                )\n                files.append(f)\n                f.write(f\'Content {i}\')\n\n            print(f"Created {len(files)} files")\n        # \ub0b4\ubd80 \uc2a4\ud0dd \uc885\ub8cc \uc2dc \ud30c\uc77c\ub4e4 \ub2eb\ud798\n\n        # \uc678\ubd80 \uc2a4\ud0dd\uc758 \ub2e4\ub978 \uc791\uc5c5\n        outer_stack.callback(print, "Outer stack cleanup")\n    # \uc678\ubd80 \uc2a4\ud0dd \uc885\ub8cc \uc2dc \uc784\uc2dc \ub514\ub809\ud1a0\ub9ac \uc0ad\uc81c\n\nnested_resource_management()\n'})}),"\n",(0,i.jsx)(n.h2,{id:"36-\uc911\ucca9\ub41c-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800",children:"3.6 \uc911\ucca9\ub41c \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"}),"\n",(0,i.jsx)(n.p,{children:"\uc5ec\ub7ec \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \uc911\ucca9\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"\uae30\ubcf8-\uc911\ucca9",children:"\uae30\ubcf8 \uc911\ucca9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \ubc29\ubc95 1: \uc5ec\ub7ec \uc904\ub85c \uc911\ucca9\nwith open('input.txt', 'r') as infile:\n    with open('output.txt', 'w') as outfile:\n        content = infile.read()\n        outfile.write(content.upper())\n\n# \ubc29\ubc95 2: \ud55c \uc904\ub85c \uc791\uc131 (Python 3.1+)\nwith open('input.txt', 'r') as infile, open('output.txt', 'w') as outfile:\n    content = infile.read()\n    outfile.write(content.upper())\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ubcf5\uc7a1\ud55c-\uc911\ucca9-\uc608\uc81c",children:"\ubcf5\uc7a1\ud55c \uc911\ucca9 \uc608\uc81c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import threading\nfrom contextlib import contextmanager\nimport time\n\n@contextmanager\ndef timer(name):\n    start = time.time()\n    try:\n        yield\n    finally:\n        print(f"{name}: {time.time() - start:.4f}s")\n\n@contextmanager\ndef lock_manager(lock, name):\n    print(f"{name}: Acquiring lock")\n    lock.acquire()\n    try:\n        yield\n    finally:\n        lock.release()\n        print(f"{name}: Released lock")\n\n# \uc911\ucca9 \uc0ac\uc6a9\nlock = threading.Lock()\n\nwith timer("Total operation"):\n    with lock_manager(lock, "Critical section"):\n        with open(\'data.txt\', \'w\') as f:\n            f.write("Processing data")\n            time.sleep(0.1)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc0ac\uc6a9\uc790-\uc815\uc758-\uc911\ucca9-\ucee8\ud14d\uc2a4\ud2b8",children:"\uc0ac\uc6a9\uc790 \uc815\uc758 \uc911\ucca9 \ucee8\ud14d\uc2a4\ud2b8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class TransactionManager:\n    def __init__(self, name):\n        self.name = name\n\n    def __enter__(self):\n        print(f"  {\'  \' * TransactionManager.depth}BEGIN {self.name}")\n        TransactionManager.depth += 1\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        TransactionManager.depth -= 1\n        if exc_type is None:\n            print(f"  {\'  \' * TransactionManager.depth}COMMIT {self.name}")\n        else:\n            print(f"  {\'  \' * TransactionManager.depth}ROLLBACK {self.name}")\n        return False\n\nTransactionManager.depth = 0\n\n# \uc911\ucca9\ub41c \ud2b8\ub79c\uc7ad\uc158 \uc2dc\ubbac\ub808\uc774\uc158\nwith TransactionManager("Outer transaction"):\n    print("    Doing outer work")\n    with TransactionManager("Inner transaction 1"):\n        print("      Doing inner work 1")\n    with TransactionManager("Inner transaction 2"):\n        print("      Doing inner work 2")\n    print("    Outer work complete")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"37-\uc608\uc678-\ucc98\ub9ac",children:"3.7 \uc608\uc678 \ucc98\ub9ac"}),"\n",(0,i.jsx)(n.p,{children:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\uc5d0\uc11c \uc608\uc678\ub97c \ucc98\ub9ac\ud558\ub294 \ub2e4\uc591\ud55c \ubc29\ubc95\uc744 \uc54c\uc544\ubd05\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"\uc608\uc678-\uc804\ud30c\uc640-\uc5b5\uc81c",children:"\uc608\uc678 \uc804\ud30c\uc640 \uc5b5\uc81c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class ExceptionPropagator:\n    """\uc608\uc678\ub97c \uc804\ud30c\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    def __enter__(self):\n        print("Entering")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print(f"Exception: {exc_type}")\n        return False  # \uc608\uc678 \uc804\ud30c\n\nclass ExceptionSuppressor:\n    """\uc608\uc678\ub97c \uc5b5\uc81c\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    def __enter__(self):\n        print("Entering")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if exc_type is not None:\n            print(f"Suppressing exception: {exc_type.__name__}")\n            return True  # \uc608\uc678 \uc5b5\uc81c\n        return False\n\n# \uc608\uc678 \uc804\ud30c\ntry:\n    with ExceptionPropagator():\n        raise ValueError("Error!")\nexcept ValueError as e:\n    print(f"Caught: {e}")\n\n# \uc608\uc678 \uc5b5\uc81c\nwith ExceptionSuppressor():\n    raise ValueError("This will be suppressed")\nprint("Execution continues")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc120\ud0dd\uc801-\uc608\uc678-\ucc98\ub9ac",children:"\uc120\ud0dd\uc801 \uc608\uc678 \ucc98\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class SelectiveExceptionHandler:\n    def __init__(self, suppress_types=()):\n        self.suppress_types = suppress_types\n\n    def __enter__(self):\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if exc_type is None:\n            return False\n\n        if isinstance(exc_value, self.suppress_types):\n            print(f"Suppressed {exc_type.__name__}: {exc_value}")\n            return True  # \uc9c0\uc815\ub41c \uc608\uc678\ub9cc \uc5b5\uc81c\n\n        return False  # \ub2e4\ub978 \uc608\uc678\ub294 \uc804\ud30c\n\n# \uc0ac\uc6a9\nwith SelectiveExceptionHandler(suppress_types=(ValueError, TypeError)):\n    raise ValueError("This will be suppressed")\n\ntry:\n    with SelectiveExceptionHandler(suppress_types=(ValueError,)):\n        raise KeyError("This will propagate")\nexcept KeyError as e:\n    print(f"Caught KeyError: {e}")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"contextlibsuppress",children:"contextlib.suppress"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from contextlib import suppress\n\n# \ud2b9\uc815 \uc608\uc678\ub97c \uc870\uc6a9\ud788 \ubb34\uc2dc\nwith suppress(FileNotFoundError):\n    os.remove('nonexistent_file.txt')\nprint(\"File removal attempted\")\n\n# \uc5ec\ub7ec \uc608\uc678 \ud0c0\uc785 \ubb34\uc2dc\nwith suppress(ValueError, TypeError, KeyError):\n    risky_operation()\n\n# \uc2e4\uc6a9\uc801\uc778 \uc608\uc81c: \uc635\uc158 \ud30c\uc77c \uc77d\uae30\nconfig = {}\nwith suppress(FileNotFoundError):\n    with open('config.json', 'r') as f:\n        import json\n        config = json.load(f)\n# \ud30c\uc77c\uc774 \uc5c6\uc5b4\ub3c4 \ud504\ub85c\uadf8\ub7a8 \uacc4\uc18d \uc2e4\ud589\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\uc608\uc678-\uc7ac\ubc1c\uc0dd",children:"\uc608\uc678 \uc7ac\ubc1c\uc0dd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import contextmanager\n\n@contextmanager\ndef logged_errors(operation):\n    """\uc608\uc678\ub97c \ub85c\uae45\ud55c \ud6c4 \uc7ac\ubc1c\uc0dd"""\n    try:\n        yield\n    except Exception as e:\n        print(f"Error in {operation}: {type(e).__name__}: {e}")\n        # \uc608\uc678\ub97c \ub85c\uae45\ud55c \ud6c4 \ub2e4\uc2dc \ubc1c\uc0dd\n        raise\n\n# \uc0ac\uc6a9\ntry:\n    with logged_errors("data processing"):\n        result = 10 / 0\nexcept ZeroDivisionError:\n    print("Handled division by zero")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc608\uc678-\ubcc0\ud658",children:"\uc608\uc678 \ubcc0\ud658"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'@contextmanager\ndef exception_transformer():\n    """\uc608\uc678\ub97c \ub2e4\ub978 \ud0c0\uc785\uc73c\ub85c \ubcc0\ud658"""\n    try:\n        yield\n    except ValueError as e:\n        # ValueError\ub97c \ub354 \uad6c\uccb4\uc801\uc778 \uc608\uc678\ub85c \ubcc0\ud658\n        raise RuntimeError(f"Configuration error: {e}") from e\n\n# \uc0ac\uc6a9\ntry:\n    with exception_transformer():\n        raise ValueError("Invalid value")\nexcept RuntimeError as e:\n    print(f"Caught: {e}")\n    print(f"Original: {e.__cause__}")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"38-\uc2e4\uc6a9\uc801\uc778-\uc608\uc81c\ub4e4",children:"3.8 \uc2e4\uc6a9\uc801\uc778 \uc608\uc81c\ub4e4"}),"\n",(0,i.jsx)(n.h3,{id:"\ud30c\uc77c-\ucc98\ub9ac",children:"\ud30c\uc77c \ucc98\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"@contextmanager\ndef atomic_write(filename, mode='w'):\n    \"\"\"\uc6d0\uc790\uc801 \ud30c\uc77c \uc4f0\uae30 (\uc2e4\ud328 \uc2dc \ub864\ubc31)\"\"\"\n    temp_filename = filename + '.tmp'\n    try:\n        with open(temp_filename, mode) as f:\n            yield f\n        # \uc131\uacf5 \uc2dc \uc784\uc2dc \ud30c\uc77c\uc744 \uc6d0\ubcf8\uc73c\ub85c \uc774\ub3d9\n        os.replace(temp_filename, filename)\n    except Exception:\n        # \uc2e4\ud328 \uc2dc \uc784\uc2dc \ud30c\uc77c \uc0ad\uc81c\n        if os.path.exists(temp_filename):\n            os.remove(temp_filename)\n        raise\n\n# \uc0ac\uc6a9\nwith atomic_write('important_data.txt') as f:\n    f.write('Critical data')\n    # \uc608\uc678\uac00 \ubc1c\uc0dd\ud558\uba74 \ud30c\uc77c\uc774 \uc190\uc0c1\ub418\uc9c0 \uc54a\uc74c\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ub370\uc774\ud130\ubca0\uc774\uc2a4-\uc5f0\uacb0",children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import sqlite3\nfrom contextlib import contextmanager\n\n@contextmanager\ndef database_transaction(db_path):\n    \"\"\"\ud2b8\ub79c\uc7ad\uc158\uc744 \uc9c0\uc6d0\ud558\ub294 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0\"\"\"\n    conn = sqlite3.connect(db_path)\n    try:\n        yield conn\n        conn.commit()\n    except Exception:\n        conn.rollback()\n        raise\n    finally:\n        conn.close()\n\n# \uc0ac\uc6a9\nwith database_transaction('app.db') as conn:\n    cursor = conn.cursor()\n    cursor.execute('INSERT INTO users (name) VALUES (?)', ('Alice',))\n    cursor.execute('INSERT INTO users (name) VALUES (?)', ('Bob',))\n# \ubaa8\ub450 \uc131\uacf5\ud558\uba74 \ucee4\ubc0b, \ud558\ub098\ub77c\ub3c4 \uc2e4\ud328\ud558\uba74 \ub864\ubc31\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ub77d-\uad00\ub9ac",children:"\ub77d \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import threading\nimport time\nfrom contextlib import contextmanager\n\n@contextmanager\ndef timed_lock(lock, timeout=None):\n    """\ud0c0\uc784\uc544\uc6c3\uc774 \uc788\ub294 \ub77d"""\n    acquired = lock.acquire(timeout=timeout)\n    if not acquired:\n        raise TimeoutError(f"Could not acquire lock within {timeout} seconds")\n    try:\n        yield lock\n    finally:\n        lock.release()\n\n# \uc0ac\uc6a9\nlock = threading.Lock()\n\ndef worker(worker_id, delay):\n    try:\n        with timed_lock(lock, timeout=1.0):\n            print(f"Worker {worker_id} acquired lock")\n            time.sleep(delay)\n    except TimeoutError:\n        print(f"Worker {worker_id} timed out")\n\n# \uc5ec\ub7ec \uc2a4\ub808\ub4dc \uc2e4\ud589\nthreads = [\n    threading.Thread(target=worker, args=(1, 0.5)),\n    threading.Thread(target=worker, args=(2, 2.0)),  # \ud0c0\uc784\uc544\uc6c3 \ubc1c\uc0dd\n]\nfor t in threads:\n    t.start()\nfor t in threads:\n    t.join()\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\ud0c0\uc774\uba38",children:"\ud0c0\uc774\uba38"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import time\nfrom contextlib import contextmanager\n\n@contextmanager\ndef timer(description="Operation"):\n    """\ucf54\ub4dc \ube14\ub85d \uc2e4\ud589 \uc2dc\uac04 \uce21\uc815"""\n    start = time.perf_counter()\n    try:\n        yield\n    finally:\n        elapsed = time.perf_counter() - start\n        print(f"{description} took {elapsed:.4f} seconds")\n\n@contextmanager\ndef timeout_timer(max_seconds, description="Operation"):\n    """\ud0c0\uc784\uc544\uc6c3 \uccb4\ud06c\ub97c \ud3ec\ud568\ud55c \ud0c0\uc774\uba38"""\n    start = time.perf_counter()\n\n    class TimeoutChecker:\n        def check(self):\n            if time.perf_counter() - start > max_seconds:\n                raise TimeoutError(\n                    f"{description} exceeded {max_seconds} seconds"\n                )\n\n    checker = TimeoutChecker()\n    try:\n        yield checker\n    finally:\n        elapsed = time.perf_counter() - start\n        print(f"{description} took {elapsed:.4f} seconds")\n\n# \uc0ac\uc6a9\nwith timer("Data processing"):\n    time.sleep(0.5)\n    # \ub370\uc774\ud130 \ucc98\ub9ac \ucf54\ub4dc\n\nwith timeout_timer(2.0, "Batch job") as checker:\n    for i in range(10):\n        time.sleep(0.1)\n        checker.check()  # \uc815\uae30\uc801\uc73c\ub85c \ud0c0\uc784\uc544\uc6c3 \uccb4\ud06c\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc784\uc2dc-\ub514\ub809\ud1a0\ub9ac",children:"\uc784\uc2dc \ub514\ub809\ud1a0\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import tempfile\nimport shutil\nfrom contextlib import contextmanager\n\n@contextmanager\ndef temporary_directory(prefix=\'tmp_\'):\n    """\uc0ac\uc6a9 \ud6c4 \uc790\ub3d9 \uc0ad\uc81c\ub418\ub294 \uc784\uc2dc \ub514\ub809\ud1a0\ub9ac"""\n    temp_dir = tempfile.mkdtemp(prefix=prefix)\n    try:\n        yield temp_dir\n    finally:\n        shutil.rmtree(temp_dir)\n\n@contextmanager\ndef working_directory(path):\n    """\uc791\uc5c5 \ub514\ub809\ud1a0\ub9ac\ub97c \uc77c\uc2dc\uc801\uc73c\ub85c \ubcc0\uacbd"""\n    original_dir = os.getcwd()\n    os.makedirs(path, exist_ok=True)\n    os.chdir(path)\n    try:\n        yield path\n    finally:\n        os.chdir(original_dir)\n\n# \uc0ac\uc6a9\nwith temporary_directory(prefix=\'test_\') as temp_dir:\n    print(f"Working in {temp_dir}")\n    # \uc784\uc2dc \ud30c\uc77c \uc0dd\uc131 \ubc0f \uc791\uc5c5\n    with open(f\'{temp_dir}/temp_file.txt\', \'w\') as f:\n        f.write(\'Temporary data\')\n# \ube14\ub85d \uc885\ub8cc \uc2dc \ub514\ub809\ud1a0\ub9ac\uc640 \ubaa8\ub4e0 \ub0b4\uc6a9 \uc0ad\uc81c\n'})}),"\n",(0,i.jsx)(n.h3,{id:"http-\uc694\uccad-\ucee8\ud14d\uc2a4\ud2b8",children:"HTTP \uc694\uccad \ucee8\ud14d\uc2a4\ud2b8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import urllib.request\nfrom contextlib import contextmanager\n\n@contextmanager\ndef http_request(url, timeout=10):\n    """HTTP \uc694\uccad\uc744 \uc704\ud55c \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    response = None\n    try:\n        response = urllib.request.urlopen(url, timeout=timeout)\n        yield response\n    except urllib.error.URLError as e:\n        print(f"Request failed: {e}")\n        raise\n    finally:\n        if response:\n            response.close()\n\n# \uc0ac\uc6a9\n# with http_request(\'https://api.example.com/data\') as response:\n#     data = response.read()\n#     print(f"Status: {response.status}")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc0c1\ud0dc-\ubcf5\uc6d0",children:"\uc0c1\ud0dc \ubcf5\uc6d0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'@contextmanager\ndef preserve_state(obj, *attributes):\n    """\uac1d\uccb4\uc758 \uc0c1\ud0dc\ub97c \ubcf4\uc874\ud558\uace0 \ubcf5\uc6d0"""\n    original_values = {attr: getattr(obj, attr) for attr in attributes}\n    try:\n        yield obj\n    finally:\n        for attr, value in original_values.items():\n            setattr(obj, attr, value)\n\n# \uc0ac\uc6a9 \uc608\uc2dc\nclass Config:\n    def __init__(self):\n        self.debug = False\n        self.verbose = False\n\nconfig = Config()\nprint(f"Before: debug={config.debug}, verbose={config.verbose}")\n\nwith preserve_state(config, \'debug\', \'verbose\'):\n    config.debug = True\n    config.verbose = True\n    print(f"Inside: debug={config.debug}, verbose={config.verbose}")\n\nprint(f"After: debug={config.debug}, verbose={config.verbose}")\n# \ucd9c\ub825:\n# Before: debug=False, verbose=False\n# Inside: debug=True, verbose=True\n# After: debug=False, verbose=False\n'})}),"\n",(0,i.jsx)(n.h2,{id:"39-\uc0ac\uc6a9\uc790-\uc815\uc758-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800",children:"3.9 \uc0ac\uc6a9\uc790 \uc815\uc758 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"}),"\n",(0,i.jsx)(n.p,{children:"\uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc720\uc6a9\ud55c \uc0ac\uc6a9\uc790 \uc815\uc758 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800 \uc608\uc81c\ub4e4\uc785\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"\ub9ac\uc18c\uc2a4-\ud480-\uad00\ub9ac",children:"\ub9ac\uc18c\uc2a4 \ud480 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import contextmanager\nimport queue\nimport threading\n\nclass ResourcePool:\n    """\uc7ac\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub9ac\uc18c\uc2a4 \ud480"""\n    def __init__(self, create_resource, max_size=10):\n        self.create_resource = create_resource\n        self.max_size = max_size\n        self.pool = queue.Queue(maxsize=max_size)\n        self.lock = threading.Lock()\n        self.size = 0\n\n    @contextmanager\n    def acquire(self):\n        """\ub9ac\uc18c\uc2a4\ub97c \ud480\uc5d0\uc11c \uac00\uc838\uc624\uae30"""\n        resource = self._get_resource()\n        try:\n            yield resource\n        finally:\n            self._return_resource(resource)\n\n    def _get_resource(self):\n        try:\n            return self.pool.get_nowait()\n        except queue.Empty:\n            with self.lock:\n                if self.size < self.max_size:\n                    self.size += 1\n                    return self.create_resource()\n            # \ud480\uc774 \uac00\ub4dd \ucc3c\uc73c\uba74 \ub300\uae30\n            return self.pool.get()\n\n    def _return_resource(self, resource):\n        try:\n            self.pool.put_nowait(resource)\n        except queue.Full:\n            pass\n\n# \uc0ac\uc6a9 \uc608\uc2dc\ndef create_connection():\n    """\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uc0dd\uc131 (\uc2dc\ubbac\ub808\uc774\uc158)"""\n    print("Creating new connection")\n    return {"connection_id": id(object())}\n\n# \uc5f0\uacb0 \ud480 \uc0dd\uc131\nconnection_pool = ResourcePool(create_connection, max_size=3)\n\n# \uc5f0\uacb0 \uc0ac\uc6a9\nwith connection_pool.acquire() as conn:\n    print(f"Using connection: {conn[\'connection_id\']}")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc131\ub2a5-\ud504\ub85c\ud30c\uc77c\ub9c1",children:"\uc131\ub2a5 \ud504\ub85c\ud30c\uc77c\ub9c1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import time\nimport functools\nfrom contextlib import contextmanager\n\nclass PerformanceProfiler:\n    """\uc131\ub2a5 \uce21\uc815 \ubc0f \ud1b5\uacc4 \uc218\uc9d1"""\n    def __init__(self):\n        self.measurements = {}\n\n    @contextmanager\n    def measure(self, name):\n        """\ud2b9\uc815 \uc791\uc5c5\uc758 \uc2e4\ud589 \uc2dc\uac04 \uce21\uc815"""\n        start = time.perf_counter()\n        try:\n            yield\n        finally:\n            elapsed = time.perf_counter() - start\n            if name not in self.measurements:\n                self.measurements[name] = []\n            self.measurements[name].append(elapsed)\n\n    def report(self):\n        """\uce21\uc815 \uacb0\uacfc \ubcf4\uace0"""\n        print("\\nPerformance Report:")\n        print("-" * 60)\n        for name, times in sorted(self.measurements.items()):\n            avg = sum(times) / len(times)\n            total = sum(times)\n            count = len(times)\n            print(f"{name:30s} | Avg: {avg:.4f}s | Total: {total:.4f}s | Count: {count}")\n\n# \uc0ac\uc6a9\nprofiler = PerformanceProfiler()\n\nwith profiler.measure("Database query"):\n    time.sleep(0.1)\n\nwith profiler.measure("Data processing"):\n    time.sleep(0.05)\n\nwith profiler.measure("Database query"):\n    time.sleep(0.12)\n\nprofiler.report()\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\ub85c\uae45-\ucee8\ud14d\uc2a4\ud2b8",children:"\ub85c\uae45 \ucee8\ud14d\uc2a4\ud2b8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import logging\nfrom contextlib import contextmanager\n\n@contextmanager\ndef log_context(logger, level=logging.INFO, prefix=""):\n    """\ub85c\uae45 \ucee8\ud14d\uc2a4\ud2b8\ub97c \uc81c\uacf5\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    logger.log(level, f"{prefix}Starting")\n    start = time.time()\n    try:\n        yield logger\n    except Exception as e:\n        logger.error(f"{prefix}Failed with error: {e}")\n        raise\n    else:\n        elapsed = time.time() - start\n        logger.log(level, f"{prefix}Completed in {elapsed:.4f}s")\n\n@contextmanager\ndef nested_log_context(logger, operation):\n    """\uc911\ucca9 \uac00\ub2a5\ud55c \ub85c\uae45 \ucee8\ud14d\uc2a4\ud2b8"""\n    indent = getattr(logger, \'indent_level\', 0)\n    logger.indent_level = indent + 1\n    prefix = "  " * indent\n\n    logger.info(f"{prefix}> {operation}")\n    start = time.time()\n    try:\n        yield logger\n    finally:\n        elapsed = time.time() - start\n        logger.info(f"{prefix}< {operation} ({elapsed:.4f}s)")\n        logger.indent_level = indent\n\n# \uc0ac\uc6a9\nlogging.basicConfig(level=logging.INFO, format=\'%(message)s\')\nlogger = logging.getLogger(__name__)\n\nwith nested_log_context(logger, "Main operation"):\n    time.sleep(0.1)\n    with nested_log_context(logger, "Sub-operation 1"):\n        time.sleep(0.05)\n    with nested_log_context(logger, "Sub-operation 2"):\n        time.sleep(0.05)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc7ac\uc2dc\ub3c4-\uba54\ucee4\ub2c8\uc998",children:"\uc7ac\uc2dc\ub3c4 \uba54\ucee4\ub2c8\uc998"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import time\nfrom contextlib import contextmanager\n\n@contextmanager\ndef retry_context(max_attempts=3, delay=1.0, backoff=2.0):\n    """\uc7ac\uc2dc\ub3c4 \uba54\ucee4\ub2c8\uc998\uc744 \uc81c\uacf5\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    class RetryManager:\n        def __init__(self):\n            self.attempt = 0\n            self.max_attempts = max_attempts\n            self.current_delay = delay\n            self.backoff = backoff\n\n        def should_retry(self, exception):\n            self.attempt += 1\n            if self.attempt >= self.max_attempts:\n                print(f"Max attempts ({self.max_attempts}) reached")\n                return False\n\n            print(f"Attempt {self.attempt} failed: {exception}")\n            print(f"Retrying in {self.current_delay:.2f} seconds...")\n            time.sleep(self.current_delay)\n            self.current_delay *= self.backoff\n            return True\n\n    manager = RetryManager()\n\n    while True:\n        try:\n            yield manager\n            break  # \uc131\uacf5\ud558\uba74 \uc885\ub8cc\n        except Exception as e:\n            if not manager.should_retry(e):\n                raise\n\n# \uc0ac\uc6a9\ndef unreliable_operation(attempt_counter=[0]):\n    """\uc2e4\ud328\ud560 \uc218 \uc788\ub294 \uc791\uc5c5 \uc2dc\ubbac\ub808\uc774\uc158"""\n    attempt_counter[0] += 1\n    if attempt_counter[0] < 3:\n        raise ConnectionError("Network unavailable")\n    return "Success!"\n\nwith retry_context(max_attempts=5, delay=0.5):\n    result = unreliable_operation()\n    print(f"Result: {result}")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uce90\uc2f1-\ucee8\ud14d\uc2a4\ud2b8",children:"\uce90\uc2f1 \ucee8\ud14d\uc2a4\ud2b8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import contextmanager\nimport hashlib\nimport pickle\n\nclass CacheManager:\n    """\ucee8\ud14d\uc2a4\ud2b8 \uae30\ubc18 \uce90\uc2f1"""\n    def __init__(self):\n        self.cache = {}\n        self.enabled = True\n\n    @contextmanager\n    def cache_context(self, key):\n        """\uce90\uc2dc\ub41c \uacb0\uacfc\ub97c \ubc18\ud658\ud558\uac70\ub098 \uc0c8\ub85c \uacc4\uc0b0"""\n        if self.enabled and key in self.cache:\n            print(f"Cache hit: {key}")\n            yield self.cache[key]\n        else:\n            print(f"Cache miss: {key}")\n            result = {}\n            yield result\n            if self.enabled:\n                self.cache[key] = result\n\n    @contextmanager\n    def disabled(self):\n        """\uc77c\uc2dc\uc801\uc73c\ub85c \uce90\uc2f1 \ube44\ud65c\uc131\ud654"""\n        original = self.enabled\n        self.enabled = False\n        try:\n            yield\n        finally:\n            self.enabled = original\n\n# \uc0ac\uc6a9\ncache = CacheManager()\n\nwith cache.cache_context("user_data") as result:\n    if not result:\n        result.update({"name": "Alice", "age": 30})\n\nwith cache.cache_context("user_data") as result:\n    print(f"Cached data: {result}")\n\n# \uce90\uc2f1 \uc77c\uc2dc \ube44\ud65c\uc131\ud654\nwith cache.disabled():\n    with cache.cache_context("user_data") as result:\n        if not result:\n            result.update({"name": "Updated", "age": 31})\n'})}),"\n",(0,i.jsx)(n.h2,{id:"310-\ubca0\uc2a4\ud2b8-\ud504\ub799\ud2f0\uc2a4",children:"3.10 \ubca0\uc2a4\ud2b8 \ud504\ub799\ud2f0\uc2a4"}),"\n",(0,i.jsx)(n.h3,{id:"1-\ub9ac\uc18c\uc2a4\ub294-\ud56d\uc0c1-\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800\ub85c-\uad00\ub9ac",children:"1. \ub9ac\uc18c\uc2a4\ub294 \ud56d\uc0c1 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub85c \uad00\ub9ac"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \ub098\uc05c \uc608\ndef process_file_bad():\n    f = open('data.txt', 'r')\n    data = f.read()\n    f.close()  # \uc608\uc678 \ubc1c\uc0dd \uc2dc \uc2e4\ud589\ub418\uc9c0 \uc54a\uc74c\n    return data\n\n# \uc88b\uc740 \uc608\ndef process_file_good():\n    with open('data.txt', 'r') as f:\n        data = f.read()\n    return data  # \ud30c\uc77c\uc774 \ud56d\uc0c1 \ub2eb\ud798\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-\uc608\uc678\ub97c-\uc2e0\uc911\ud558\uac8c-\uc5b5\uc81c",children:"2. \uc608\uc678\ub97c \uc2e0\uc911\ud558\uac8c \uc5b5\uc81c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# \ub098\uc05c \uc608 - \ubaa8\ub4e0 \uc608\uc678\ub97c \ubb34\uc2dc\nclass BadContextManager:\n    def __exit__(self, exc_type, exc_value, traceback):\n        return True  # \ubaa8\ub4e0 \uc608\uc678\ub97c \uc5b5\uc81c (\uc704\ud5d8!)\n\n# \uc88b\uc740 \uc608 - \ud2b9\uc815 \uc608\uc678\ub9cc \ucc98\ub9ac\nclass GoodContextManager:\n    def __exit__(self, exc_type, exc_value, traceback):\n        if exc_type is None:\n            return False\n        # \ud2b9\uc815 \uc608\uc678\ub9cc \uc5b5\uc81c\n        if isinstance(exc_value, (ValueError, TypeError)):\n            print(f"Handled: {exc_value}")\n            return True\n        return False  # \ub2e4\ub978 \uc608\uc678\ub294 \uc804\ud30c\n'})}),"\n",(0,i.jsx)(n.h3,{id:"3-__enter__\uc758-\ubc18\ud658\uac12-\ud65c\uc6a9",children:"3. __enter__\uc758 \ubc18\ud658\uac12 \ud65c\uc6a9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# \uc720\uc6a9\ud55c \uac1d\uccb4 \ubc18\ud658\nclass DatabaseConnection:\n    def __enter__(self):\n        self.connect()\n        return self  # \ub610\ub294 \uc720\uc6a9\ud55c \ub2e4\ub978 \uac1d\uccb4 (\ucee4\uc11c \ub4f1)\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        self.close()\n        return False\n\n# \uc0ac\uc6a9\nwith DatabaseConnection() as conn:\n    conn.execute("SELECT * FROM users")  # conn \ud65c\uc6a9\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-contextlib-\ud65c\uc6a9\uc73c\ub85c-\uac04\uacb0\uc131-\ud5a5\uc0c1",children:"4. contextlib \ud65c\uc6a9\uc73c\ub85c \uac04\uacb0\uc131 \ud5a5\uc0c1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import contextmanager\n\n# \uac04\uacb0\ud55c \uad6c\ud604\n@contextmanager\ndef simple_manager():\n    print("Setup")\n    try:\n        yield\n    finally:\n        print("Cleanup")\n\n# \ud074\ub798\uc2a4\ub85c \uad6c\ud604\ud558\ub294 \uac83\ubcf4\ub2e4 \uac04\ub2e8\n'})}),"\n",(0,i.jsx)(n.h3,{id:"5-\uc7ac\uc9c4\uc785-\ubd88\uac00\ub2a5\uc131-\uace0\ub824",children:"5. \uc7ac\uc9c4\uc785 \ubd88\uac00\ub2a5\uc131 \uace0\ub824"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \uc7ac\uc9c4\uc785 \ubd88\uac00\ub2a5 (\uc77c\ubc18\uc801\uc778 \uacbd\uc6b0)\nmanager = MyContextManager()\nwith manager:\n    with manager:  # \ubb38\uc81c \ubc1c\uc0dd \uac00\ub2a5!\n        pass\n\n# \uc7ac\uc9c4\uc785\uc774 \ud544\uc694\ud558\uba74 \uba85\uc2dc\uc801\uc73c\ub85c \uad6c\ud604\nclass ReentrantContextManager:\n    def __init__(self):\n        self.level = 0\n\n    def __enter__(self):\n        self.level += 1\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        self.level -= 1\n        if self.level == 0:\n            # \ucd5c\uc0c1\uc704 \ub808\ubca8\uc5d0\uc11c\ub9cc \uc815\ub9ac\n            self.cleanup()\n        return False\n"})}),"\n",(0,i.jsx)(n.h3,{id:"6-\ud0c0\uc785-\ud78c\ud2b8-\uc0ac\uc6a9",children:"6. \ud0c0\uc785 \ud78c\ud2b8 \uc0ac\uc6a9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import contextmanager\nfrom typing import Iterator, Any\n\n@contextmanager\ndef typed_manager() -> Iterator[Any]:\n    """\ud0c0\uc785 \ud78c\ud2b8\ub97c \ud3ec\ud568\ud55c \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    resource = acquire_resource()\n    try:\n        yield resource\n    finally:\n        release_resource(resource)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"7-\ubb38\uc11c\ud654",children:"7. \ubb38\uc11c\ud654"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'@contextmanager\ndef well_documented_manager(param: str) -> Iterator[dict]:\n    """\n    \ub9ac\uc18c\uc2a4\ub97c \uad00\ub9ac\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\n\n    Args:\n        param: \uc124\uc815 \ub9e4\uac1c\ubcc0\uc218\n\n    Yields:\n        dict: \ub9ac\uc18c\uc2a4 \uc815\ubcf4\ub97c \ub2f4\uc740 \ub515\uc154\ub108\ub9ac\n\n    Example:\n        >>> with well_documented_manager("config") as resource:\n        ...     print(resource["status"])\n\n    Note:\n        \uc774 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub294 \uc7ac\uc9c4\uc785 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.\n    """\n    resource = {"status": "active", "param": param}\n    try:\n        yield resource\n    finally:\n        resource["status"] = "closed"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"8-\uccb4\uc774\ub2dd\uacfc-\uc870\ud569",children:"8. \uccb4\uc774\ub2dd\uacfc \uc870\ud569"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import contextmanager, ExitStack\n\ndef process_multiple_resources(resources):\n    """\uc5ec\ub7ec \ub9ac\uc18c\uc2a4\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \ucc98\ub9ac"""\n    with ExitStack() as stack:\n        # \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\ub97c \uc2a4\ud0dd\uc5d0 \ucd94\uac00\n        opened_resources = [\n            stack.enter_context(open_resource(r))\n            for r in resources\n        ]\n\n        # \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\n        for resource in opened_resources:\n            process(resource)\n    # \uc790\ub3d9\uc73c\ub85c \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \uc815\ub9ac\n'})}),"\n",(0,i.jsx)(n.h2,{id:"311-\uccb4\ud06c\ub9ac\uc2a4\ud2b8\uc640-\ud301",children:"3.11 \uccb4\ud06c\ub9ac\uc2a4\ud2b8\uc640 \ud301"}),"\n",(0,i.jsx)(n.h3,{id:"\ucee8\ud14d\uc2a4\ud2b8-\ub9e4\ub2c8\uc800-\uad6c\ud604-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",children:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800 \uad6c\ud604 \uccb4\ud06c\ub9ac\uc2a4\ud2b8"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.code,{children:"__enter__"})," \uba54\uc11c\ub4dc\uac00 \uc801\uc808\ud55c \uac1d\uccb4\ub97c \ubc18\ud658\ud558\ub294\uac00?"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,i.jsx)(n.code,{children:"__exit__"})," \uba54\uc11c\ub4dc\uac00 \ud56d\uc0c1 \uc815\ub9ac \uc791\uc5c5\uc744 \uc218\ud589\ud558\ub294\uac00?"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\uc608\uc678 \ucc98\ub9ac\uac00 \uc801\uc808\ud55c\uac00? (\uc804\ud30c vs \uc5b5\uc81c)"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\uc7ac\uc9c4\uc785 \uac00\ub2a5\uc131\uc744 \uace0\ub824\ud588\ub294\uac00?"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\uc2a4\ub808\ub4dc \uc548\uc804\uc131\uc774 \ud544\uc694\ud55c\uac00?"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\ubb38\uc11c\ud654\uac00 \ucda9\ubd84\ud55c\uac00?"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\ud0c0\uc785 \ud78c\ud2b8\ub97c \ucd94\uac00\ud588\ub294\uac00?"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\ud14c\uc2a4\ud2b8 \ucf54\ub4dc\ub97c \uc791\uc131\ud588\ub294\uac00?"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\uc77c\ubc18\uc801\uc778-\ud568\uc815",children:"\uc77c\ubc18\uc801\uc778 \ud568\uc815"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# \ud568\uc815 1: __exit__\uc5d0\uc11c \uc608\uc678 \ubc1c\uc0dd\nclass BadExit:\n    def __exit__(self, exc_type, exc_value, traceback):\n        risky_cleanup()  # \uc608\uc678 \ubc1c\uc0dd \uac00\ub2a5\n        return False\n\n# \ud574\uacb0\ucc45: try-except\ub85c \ubcf4\ud638\nclass GoodExit:\n    def __exit__(self, exc_type, exc_value, traceback):\n        try:\n            risky_cleanup()\n        except Exception as e:\n            print(f"Cleanup failed: {e}")\n        return False\n\n# \ud568\uc815 2: __enter__\uc5d0\uc11c \ub9ac\uc18c\uc2a4 \ud560\ub2f9 \uc2e4\ud328\nclass BadEnter:\n    def __enter__(self):\n        self.resource = acquire()  # \uc2e4\ud328\ud558\uba74 __exit__ \ud638\ucd9c \uc548 \ub428\n        return self.resource\n\n# \ud574\uacb0\ucc45: __init__\uc5d0\uc11c \ud560\ub2f9\ud558\uac70\ub098 \uc608\uc678 \ucc98\ub9ac\nclass GoodEnter:\n    def __enter__(self):\n        try:\n            self.resource = acquire()\n        except Exception:\n            self.resource = None\n            raise\n        return self.resource\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        if self.resource is not None:\n            release(self.resource)\n        return False\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc131\ub2a5-\ud301",children:"\uc131\ub2a5 \ud301"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# \ud301 1: \uac00\ubcbc\uc6b4 \uc791\uc5c5\uc5d0\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800 \uc624\ubc84\ud5e4\ub4dc \uace0\ub824\n# \ubc18\ubcf5\ubb38\uc5d0\uc11c \ub9e4\ubc88 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \uc0dd\uc131\ud558\uc9c0 \ub9d0 \uac83\n\n# \ube44\ud6a8\uc728\uc801\nfor i in range(1000000):\n    with some_context_manager():\n        quick_operation()\n\n# \ud6a8\uc728\uc801\nwith some_context_manager():\n    for i in range(1000000):\n        quick_operation()\n\n# \ud301 2: \ubb34\uac70\uc6b4 \ub9ac\uc18c\uc2a4\ub294 \ud480\ub9c1 \uace0\ub824\nconnection_pool = ResourcePool(create_connection, max_size=10)\nfor task in tasks:\n    with connection_pool.acquire() as conn:\n        process_task(task, conn)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\ub514\ubc84\uae45-\ud301",children:"\ub514\ubc84\uae45 \ud301"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'# \ub514\ubc84\uae45\uc6a9 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\n@contextmanager\ndef debug_context(name):\n    """\ub514\ubc84\uae45 \uc815\ubcf4\ub97c \ucd9c\ub825\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    print(f"[DEBUG] Entering {name}")\n    import traceback\n    print(f"[DEBUG] Called from:")\n    for line in traceback.format_stack()[:-1]:\n        print(line.strip())\n\n    start = time.time()\n    try:\n        yield\n    finally:\n        elapsed = time.time() - start\n        print(f"[DEBUG] Exiting {name} (took {elapsed:.4f}s)")\n\n# \uc0ac\uc6a9\nwith debug_context("data processing"):\n    process_data()\n'})}),"\n",(0,i.jsx)(n.h2,{id:"312-\uc5f0\uc2b5-\ubb38\uc81c",children:"3.12 \uc5f0\uc2b5 \ubb38\uc81c"}),"\n",(0,i.jsx)(n.h3,{id:"\ubb38\uc81c-1-\ud2b8\ub79c\uc7ad\uc158-\ub9e4\ub2c8\uc800",children:"\ubb38\uc81c 1: \ud2b8\ub79c\uc7ad\uc158 \ub9e4\ub2c8\uc800"}),"\n",(0,i.jsx)(n.p,{children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc2dc\ubbac\ub808\uc774\uc158\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \ub9cc\ub4dc\uc138\uc694. \uc131\uacf5 \uc2dc \ucee4\ubc0b, \uc2e4\ud328 \uc2dc \ub864\ubc31\uc744 \uc218\ud589\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"\ud574\ub2f5 \ubcf4\uae30"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from contextlib import contextmanager\n\nclass Transaction:\n    def __init__(self):\n        self.changes = []\n        self.committed = False\n\n    def add_change(self, change):\n        """\ubcc0\uacbd\uc0ac\ud56d \ucd94\uac00"""\n        if self.committed:\n            raise RuntimeError("Transaction already committed")\n        self.changes.append(change)\n\n    def commit(self):\n        """\ubcc0\uacbd\uc0ac\ud56d \ucee4\ubc0b"""\n        print(f"Committing {len(self.changes)} changes")\n        for change in self.changes:\n            print(f"  - {change}")\n        self.committed = True\n\n    def rollback(self):\n        """\ubcc0\uacbd\uc0ac\ud56d \ub864\ubc31"""\n        print(f"Rolling back {len(self.changes)} changes")\n        self.changes.clear()\n\n@contextmanager\ndef transaction_manager():\n    """\ud2b8\ub79c\uc7ad\uc158 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    trans = Transaction()\n    try:\n        yield trans\n        trans.commit()\n    except Exception as e:\n        trans.rollback()\n        print(f"Transaction failed: {e}")\n        raise\n\n# \ud14c\uc2a4\ud2b8\n# \uc131\uacf5 \ucf00\uc774\uc2a4\nwith transaction_manager() as trans:\n    trans.add_change("INSERT user Alice")\n    trans.add_change("INSERT user Bob")\n\n# \uc2e4\ud328 \ucf00\uc774\uc2a4\ntry:\n    with transaction_manager() as trans:\n        trans.add_change("INSERT user Charlie")\n        raise ValueError("Database error!")\n        trans.add_change("INSERT user Dave")  # \uc2e4\ud589\ub418\uc9c0 \uc54a\uc74c\nexcept ValueError:\n    print("Exception handled")\n'})})]}),"\n",(0,i.jsx)(n.h3,{id:"\ubb38\uc81c-2-\uc124\uc815-\uad00\ub9ac\uc790",children:"\ubb38\uc81c 2: \uc124\uc815 \uad00\ub9ac\uc790"}),"\n",(0,i.jsx)(n.p,{children:"\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc124\uc815\uc744 \uc784\uc2dc\ub85c \ubcc0\uacbd\ud588\ub2e4\uac00 \ubcf5\uc6d0\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \uc791\uc131\ud558\uc138\uc694."}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"\ud574\ub2f5 \ubcf4\uae30"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from contextlib import contextmanager\n\nclass AppConfig:\n    def __init__(self):\n        self.settings = {\n            'debug': False,\n            'log_level': 'INFO',\n            'max_connections': 10\n        }\n\n    def get(self, key):\n        return self.settings.get(key)\n\n    def set(self, key, value):\n        self.settings[key] = value\n\n@contextmanager\ndef temporary_config(config, **overrides):\n    \"\"\"\uc124\uc815\uc744 \uc784\uc2dc\ub85c \ubcc0\uacbd\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\"\"\"\n    # \uc6d0\ubcf8 \uac12 \uc800\uc7a5\n    original_values = {}\n    for key, value in overrides.items():\n        original_values[key] = config.get(key)\n        config.set(key, value)\n\n    try:\n        yield config\n    finally:\n        # \uc6d0\ubcf8 \uac12 \ubcf5\uc6d0\n        for key, value in original_values.items():\n            config.set(key, value)\n\n# \ud14c\uc2a4\ud2b8\nconfig = AppConfig()\nprint(f\"Original debug: {config.get('debug')}\")\n\nwith temporary_config(config, debug=True, log_level='DEBUG'):\n    print(f\"Inside context debug: {config.get('debug')}\")\n    print(f\"Inside context log_level: {config.get('log_level')}\")\n\nprint(f\"After context debug: {config.get('debug')}\")\nprint(f\"After context log_level: {config.get('log_level')}\")\n"})})]}),"\n",(0,i.jsx)(n.h3,{id:"\ubb38\uc81c-3-\ub9ac\uc18c\uc2a4-\ubaa8\ub2c8\ud130",children:"\ubb38\uc81c 3: \ub9ac\uc18c\uc2a4 \ubaa8\ub2c8\ud130"}),"\n",(0,i.jsx)(n.p,{children:"\ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub7c9(\uba54\ubaa8\ub9ac, \uc2dc\uac04)\uc744 \uce21\uc815\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \ub9cc\ub4dc\uc138\uc694."}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"\ud574\ub2f5 \ubcf4\uae30"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import time\nimport tracemalloc\nfrom contextlib import contextmanager\n\n@contextmanager\ndef resource_monitor(name="Operation"):\n    """\ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub7c9\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    # \uc2dc\uc791 \uc2dc\uac04\uacfc \uba54\ubaa8\ub9ac \uce21\uc815 \uc2dc\uc791\n    start_time = time.perf_counter()\n    tracemalloc.start()\n\n    print(f"\\n{\'=\'*60}")\n    print(f"Starting: {name}")\n    print(f"{\'=\'*60}")\n\n    try:\n        yield\n    finally:\n        # \uc885\ub8cc \uc2dc\uac04\uacfc \uba54\ubaa8\ub9ac \uce21\uc815\n        end_time = time.perf_counter()\n        current, peak = tracemalloc.get_traced_memory()\n        tracemalloc.stop()\n\n        elapsed = end_time - start_time\n\n        print(f"\\n{\'=\'*60}")\n        print(f"Finished: {name}")\n        print(f"{\'-\'*60}")\n        print(f"Time elapsed:     {elapsed:.4f} seconds")\n        print(f"Current memory:   {current / 1024 / 1024:.2f} MB")\n        print(f"Peak memory:      {peak / 1024 / 1024:.2f} MB")\n        print(f"{\'=\'*60}\\n")\n\n# \ud14c\uc2a4\ud2b8\nwith resource_monitor("List creation"):\n    large_list = [i ** 2 for i in range(1000000)]\n    time.sleep(0.1)\n\nwith resource_monitor("Dictionary creation"):\n    large_dict = {i: i ** 2 for i in range(500000)}\n    time.sleep(0.05)\n'})})]}),"\n",(0,i.jsx)(n.h3,{id:"\ubb38\uc81c-4-\uc7ac\uc2dc\ub3c4-\ucee8\ud14d\uc2a4\ud2b8",children:"\ubb38\uc81c 4: \uc7ac\uc2dc\ub3c4 \ucee8\ud14d\uc2a4\ud2b8"}),"\n",(0,i.jsx)(n.p,{children:"\uc2e4\ud328 \uc2dc \uc790\ub3d9\uc73c\ub85c \uc7ac\uc2dc\ub3c4\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \uad6c\ud604\ud558\uc138\uc694."}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"\ud574\ub2f5 \ubcf4\uae30"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import time\nfrom contextlib import contextmanager\n\n@contextmanager\ndef auto_retry(max_attempts=3, delay=1.0, exceptions=(Exception,)):\n    """\uc790\ub3d9 \uc7ac\uc2dc\ub3c4 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800"""\n    attempt = 0\n\n    while attempt < max_attempts:\n        try:\n            attempt += 1\n            print(f"Attempt {attempt}/{max_attempts}")\n            yield attempt\n            # \uc131\uacf5\ud558\uba74 \uc885\ub8cc\n            break\n        except exceptions as e:\n            if attempt >= max_attempts:\n                print(f"All {max_attempts} attempts failed")\n                raise\n            print(f"Attempt {attempt} failed: {e}")\n            print(f"Retrying in {delay} seconds...")\n            time.sleep(delay)\n\n# \ud14c\uc2a4\ud2b8\uc6a9 \ubd88\uc548\uc815\ud55c \ud568\uc218\nclass UnstableService:\n    def __init__(self, fail_times=2):\n        self.fail_times = fail_times\n        self.call_count = 0\n\n    def call(self):\n        self.call_count += 1\n        if self.call_count <= self.fail_times:\n            raise ConnectionError(f"Connection failed (call {self.call_count})")\n        return f"Success on call {self.call_count}"\n\n# \ud14c\uc2a4\ud2b8\nservice = UnstableService(fail_times=2)\n\nwith auto_retry(max_attempts=5, delay=0.5, exceptions=(ConnectionError,)):\n    result = service.call()\n    print(f"Result: {result}")\n'})})]}),"\n",(0,i.jsx)(n.h3,{id:"\ubb38\uc81c-5-\ud30c\uc77c-\ubc31\uc5c5-\ub9e4\ub2c8\uc800",children:"\ubb38\uc81c 5: \ud30c\uc77c \ubc31\uc5c5 \ub9e4\ub2c8\uc800"}),"\n",(0,i.jsx)(n.p,{children:"\ud30c\uc77c\uc744 \uc218\uc815\ud558\uae30 \uc804\uc5d0 \ubc31\uc5c5\uc744 \ub9cc\ub4e4\uace0, \uc624\ub958 \ubc1c\uc0dd \uc2dc \ubcf5\uc6d0\ud558\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \uc791\uc131\ud558\uc138\uc694."}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"\ud574\ub2f5 \ubcf4\uae30"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import shutil\nimport os\nfrom contextlib import contextmanager\n\n@contextmanager\ndef backup_file(filename):\n    \"\"\"\ud30c\uc77c \ubc31\uc5c5 \ubc0f \ubcf5\uc6d0 \ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\"\"\"\n    backup_name = f\"{filename}.backup\"\n    backup_created = False\n\n    # \ud30c\uc77c\uc774 \uc874\uc7ac\ud558\uba74 \ubc31\uc5c5 \uc0dd\uc131\n    if os.path.exists(filename):\n        shutil.copy2(filename, backup_name)\n        backup_created = True\n        print(f\"Backup created: {backup_name}\")\n\n    try:\n        yield filename\n        # \uc131\uacf5\ud558\uba74 \ubc31\uc5c5 \uc0ad\uc81c\n        if backup_created:\n            os.remove(backup_name)\n            print(f\"Backup removed: {backup_name}\")\n    except Exception as e:\n        # \uc2e4\ud328\ud558\uba74 \ubc31\uc5c5\uc5d0\uc11c \ubcf5\uc6d0\n        if backup_created:\n            shutil.copy2(backup_name, filename)\n            os.remove(backup_name)\n            print(f\"File restored from backup: {filename}\")\n        raise\n\n# \ud14c\uc2a4\ud2b8\n# \uc131\uacf5 \ucf00\uc774\uc2a4\nwith open('test_file.txt', 'w') as f:\n    f.write('Original content\\n')\n\nwith backup_file('test_file.txt'):\n    with open('test_file.txt', 'a') as f:\n        f.write('New content\\n')\nprint(\"File modified successfully\\n\")\n\n# \uc2e4\ud328 \ucf00\uc774\uc2a4\ntry:\n    with backup_file('test_file.txt'):\n        with open('test_file.txt', 'w') as f:\n            f.write('This will be reverted\\n')\n        raise ValueError(\"Something went wrong!\")\nexcept ValueError:\n    print(\"Exception handled\\n\")\n\n# \ud30c\uc77c \ub0b4\uc6a9 \ud655\uc778\nwith open('test_file.txt', 'r') as f:\n    print(\"Final file contents:\")\n    print(f.read())\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"313-\uc694\uc57d",children:"3.13 \uc694\uc57d"}),"\n",(0,i.jsx)(n.p,{children:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub294 Python\uc5d0\uc11c \ub9ac\uc18c\uc2a4\ub97c \uc548\uc804\ud558\uac8c \uad00\ub9ac\ud558\ub294 \ud544\uc218\uc801\uc778 \ub3c4\uad6c\uc785\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"\ud575\uc2ec-\ud3ec\uc778\ud2b8",children:"\ud575\uc2ec \ud3ec\uc778\ud2b8"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"with"})," \ubb38\uacfc \ud568\uaed8 \uc0ac\uc6a9\ud558\uc5ec \uc790\ub3d9 \ub9ac\uc18c\uc2a4 \uad00\ub9ac"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"__enter__"}),"\uc640 ",(0,i.jsx)(n.code,{children:"__exit__"})," \uba54\uc11c\ub4dc\ub85c \ud504\ub85c\ud1a0\ucf5c \uad6c\ud604"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@contextmanager"})," \ub370\ucf54\ub808\uc774\ud130\ub85c \uac04\ub2e8\ud558\uac8c \uc0dd\uc131"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ExitStack"}),"\uc73c\ub85c \ub3d9\uc801 \ub9ac\uc18c\uc2a4 \uad00\ub9ac"]}),"\n",(0,i.jsx)(n.li,{children:"\uc608\uc678 \uc548\uc804\uc131 \ubcf4\uc7a5"}),"\n",(0,i.jsx)(n.li,{children:"\ub2e4\uc591\ud55c \uc2e4\uc6a9\uc801 \ud65c\uc6a9 (\ud30c\uc77c, DB, \ub77d, \ud0c0\uc774\uba38 \ub4f1)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\uc5b8\uc81c-\uc0ac\uc6a9\ud558\ub098\uc694",children:"\uc5b8\uc81c \uc0ac\uc6a9\ud558\ub098\uc694?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\ud30c\uc77c, \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \ub4f1 \ub9ac\uc18c\uc2a4 \uad00\ub9ac"}),"\n",(0,i.jsx)(n.li,{children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud2b8\ub79c\uc7ad\uc158"}),"\n",(0,i.jsx)(n.li,{children:"\ub77d(lock) \uad00\ub9ac"}),"\n",(0,i.jsx)(n.li,{children:"\uc784\uc2dc \uc0c1\ud0dc \ubcc0\uacbd"}),"\n",(0,i.jsx)(n.li,{children:"\uc131\ub2a5 \uce21\uc815"}),"\n",(0,i.jsx)(n.li,{children:"\ub85c\uae45 \ucee8\ud14d\uc2a4\ud2b8"}),"\n",(0,i.jsx)(n.li,{children:"\uc608\uc678 \ucc98\ub9ac \ubc0f \uc815\ub9ac \uc791\uc5c5"}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{title:"\ub2e4\uc74c \ub2e8\uacc4",type:"tip",children:[(0,i.jsx)(n.p,{children:"\ucee8\ud14d\uc2a4\ud2b8 \ub9e4\ub2c8\uc800\ub97c \ub9c8\uc2a4\ud130\ud588\ub2e4\uba74, \uc774\uc81c Python \ucf54\ub4dc\uc758 \uc131\ub2a5\uc744 \ucd5c\uc801\ud654\ud558\ub294 \ubc29\ubc95\uc744 \ubc30\uc6b8 \ucc28\ub840\uc785\ub2c8\ub2e4."}),(0,i.jsxs)(n.p,{children:["\ub2e4\uc74c: ",(0,i.jsx)(n.a,{href:"./performance",children:"\uc131\ub2a5 \ucd5c\uc801\ud654"})]})]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var r=t(6540);const i={},a=r.createContext(i);function l(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);