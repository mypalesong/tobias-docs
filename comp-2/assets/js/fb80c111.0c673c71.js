"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[5861],{7680:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"webapp/state-management","title":"6. \uc0c1\ud0dc \uad00\ub9ac","description":"Vue \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c Pinia\ub97c \uc0ac\uc6a9\ud55c \ud6a8\uc728\uc801\uc778 \uc0c1\ud0dc \uad00\ub9ac \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.","source":"@site/docs/webapp/state-management.md","sourceDirName":"webapp","slug":"/webapp/state-management","permalink":"/docs/webapp/state-management","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/webapp/state-management.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"webappSidebar","previous":{"title":"5. Frontend \uae30\ucd08","permalink":"/docs/webapp/frontend-basics"},"next":{"title":"7. \ud3fc \ucc98\ub9ac \ubc0f \uac80\uc99d","permalink":"/docs/webapp/forms-validation"}}');var r=t(4848),i=t(8453);const s={sidebar_position:7},a="6. \uc0c1\ud0dc \uad00\ub9ac",c={},l=[{value:"6.1 \uc0c1\ud0dc \uad00\ub9ac\uac00 \ud544\uc694\ud55c \uc774\uc720",id:"61-\uc0c1\ud0dc-\uad00\ub9ac\uac00-\ud544\uc694\ud55c-\uc774\uc720",level:2},{value:"\ucef4\ud3ec\ub10c\ud2b8 \uac04 \uc0c1\ud0dc \uacf5\uc720\uc758 \uc5b4\ub824\uc6c0",id:"\ucef4\ud3ec\ub10c\ud2b8-\uac04-\uc0c1\ud0dc-\uacf5\uc720\uc758-\uc5b4\ub824\uc6c0",level:3},{value:"\uc0c1\ud0dc \uad00\ub9ac \ub77c\uc774\ube0c\ub7ec\ub9ac\uc758 \ud544\uc694\uc131",id:"\uc0c1\ud0dc-\uad00\ub9ac-\ub77c\uc774\ube0c\ub7ec\ub9ac\uc758-\ud544\uc694\uc131",level:3},{value:"6.2 Pinia vs Vuex",id:"62-pinia-vs-vuex",level:2},{value:"\uc8fc\uc694 \ucc28\uc774\uc810",id:"\uc8fc\uc694-\ucc28\uc774\uc810",level:3},{value:"Pinia\uc758 \uc7a5\uc810",id:"pinia\uc758-\uc7a5\uc810",level:3},{value:"6.3 Pinia \uc124\uce58 \ubc0f \uc124\uc815",id:"63-pinia-\uc124\uce58-\ubc0f-\uc124\uc815",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:3},{value:"\uae30\ubcf8 \uc124\uc815",id:"\uae30\ubcf8-\uc124\uc815",level:3},{value:"\ub514\ub809\ud1a0\ub9ac \uad6c\uc870",id:"\ub514\ub809\ud1a0\ub9ac-\uad6c\uc870",level:3},{value:"6.4 Store \uc815\uc758 (state, getters, actions)",id:"64-store-\uc815\uc758-state-getters-actions",level:2},{value:"Options API \uc2a4\ud0c0\uc77c",id:"options-api-\uc2a4\ud0c0\uc77c",level:3},{value:"Composition API \uc2a4\ud0c0\uc77c",id:"composition-api-\uc2a4\ud0c0\uc77c",level:3},{value:"TypeScript \ud0c0\uc785 \uc815\uc758",id:"typescript-\ud0c0\uc785-\uc815\uc758",level:3},{value:"6.5 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c Store \uc0ac\uc6a9",id:"65-\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c-store-\uc0ac\uc6a9",level:2},{value:"\uae30\ubcf8 \uc0ac\uc6a9\ubc95",id:"\uae30\ubcf8-\uc0ac\uc6a9\ubc95",level:3},{value:"\uad6c\uc870 \ubd84\ud574 \ud560\ub2f9 (Reactivity \uc720\uc9c0)",id:"\uad6c\uc870-\ubd84\ud574-\ud560\ub2f9-reactivity-\uc720\uc9c0",level:3},{value:"Computed\uc5d0\uc11c \uc0ac\uc6a9",id:"computed\uc5d0\uc11c-\uc0ac\uc6a9",level:3},{value:"6.6 \uc778\uc99d \uc0c1\ud0dc \uad00\ub9ac \ud328\ud134",id:"66-\uc778\uc99d-\uc0c1\ud0dc-\uad00\ub9ac-\ud328\ud134",level:2},{value:"Auth Store \uad6c\ud604",id:"auth-store-\uad6c\ud604",level:3},{value:"\uc778\uc99d \uac00\ub4dc \uad6c\ud604",id:"\uc778\uc99d-\uac00\ub4dc-\uad6c\ud604",level:3},{value:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc778\uc99d \uc0c1\ud0dc \uc0ac\uc6a9",id:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c-\uc778\uc99d-\uc0c1\ud0dc-\uc0ac\uc6a9",level:3},{value:"6.7 API \ub370\uc774\ud130 \uce90\uc2f1",id:"67-api-\ub370\uc774\ud130-\uce90\uc2f1",level:2},{value:"Posts Store \uad6c\ud604",id:"posts-store-\uad6c\ud604",level:3},{value:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uce90\uc2f1\ub41c \ub370\uc774\ud130 \uc0ac\uc6a9",id:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c-\uce90\uc2f1\ub41c-\ub370\uc774\ud130-\uc0ac\uc6a9",level:3},{value:"6.8 \ub85c\ub529 \ubc0f \uc5d0\ub7ec \uc0c1\ud0dc \uad00\ub9ac",id:"68-\ub85c\ub529-\ubc0f-\uc5d0\ub7ec-\uc0c1\ud0dc-\uad00\ub9ac",level:2},{value:"\ud1b5\ud569 UI \uc0c1\ud0dc Store",id:"\ud1b5\ud569-ui-\uc0c1\ud0dc-store",level:3},{value:"Composable\ub85c \ub85c\ub529/\uc5d0\ub7ec \ucc98\ub9ac \ucd94\uc0c1\ud654",id:"composable\ub85c-\ub85c\ub529\uc5d0\ub7ec-\ucc98\ub9ac-\ucd94\uc0c1\ud654",level:3},{value:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc0ac\uc6a9",id:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c-\uc0ac\uc6a9",level:3},{value:"Toast \uc54c\ub9bc \ucef4\ud3ec\ub10c\ud2b8",id:"toast-\uc54c\ub9bc-\ucef4\ud3ec\ub10c\ud2b8",level:3},{value:"6.9 Store \ubaa8\ub4c8\ud654",id:"69-store-\ubaa8\ub4c8\ud654",level:2},{value:"Store \uad6c\uc870\ud654",id:"store-\uad6c\uc870\ud654",level:3},{value:"User Store (Auth\uc640 \ubd84\ub9ac)",id:"user-store-auth\uc640-\ubd84\ub9ac",level:3},{value:"Comments Store (Posts\uc640 \uc5f0\uacb0)",id:"comments-store-posts\uc640-\uc5f0\uacb0",level:3},{value:"\uc5ec\ub7ec Store \ud568\uaed8 \uc0ac\uc6a9",id:"\uc5ec\ub7ec-store-\ud568\uaed8-\uc0ac\uc6a9",level:3},{value:"6.10 Pinia \ud50c\ub7ec\uadf8\uc778 (\uc9c0\uc18d\uc131)",id:"610-pinia-\ud50c\ub7ec\uadf8\uc778-\uc9c0\uc18d\uc131",level:2},{value:"Pinia Persist Plugin",id:"pinia-persist-plugin",level:3},{value:"Store\uc5d0\uc11c \uc9c0\uc18d\uc131 \uc124\uc815",id:"store\uc5d0\uc11c-\uc9c0\uc18d\uc131-\uc124\uc815",level:3},{value:"\uc120\ud0dd\uc801 \uc9c0\uc18d\uc131",id:"\uc120\ud0dd\uc801-\uc9c0\uc18d\uc131",level:3},{value:"SessionStorage \uc0ac\uc6a9",id:"sessionstorage-\uc0ac\uc6a9",level:3},{value:"\ucee4\uc2a4\ud140 \uc9c0\uc18d\uc131 \ud50c\ub7ec\uadf8\uc778",id:"\ucee4\uc2a4\ud140-\uc9c0\uc18d\uc131-\ud50c\ub7ec\uadf8\uc778",level:3},{value:"\uc554\ud638\ud654\ub41c \uc9c0\uc18d\uc131",id:"\uc554\ud638\ud654\ub41c-\uc9c0\uc18d\uc131",level:3},{value:"6.11 \uc2e4\uc2b5 \ubb38\uc81c",id:"611-\uc2e4\uc2b5-\ubb38\uc81c",level:2},{value:"\ubb38\uc81c 1: Todo Store \uad6c\ud604",id:"\ubb38\uc81c-1-todo-store-\uad6c\ud604",level:3},{value:"\ubb38\uc81c 2: Shopping Cart Store",id:"\ubb38\uc81c-2-shopping-cart-store",level:3},{value:"\ubb38\uc81c 3: Notification Store",id:"\ubb38\uc81c-3-notification-store",level:3}];function d(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components},{Details:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"6-\uc0c1\ud0dc-\uad00\ub9ac",children:"6. \uc0c1\ud0dc \uad00\ub9ac"})}),"\n",(0,r.jsx)(e.p,{children:"Vue \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c Pinia\ub97c \uc0ac\uc6a9\ud55c \ud6a8\uc728\uc801\uc778 \uc0c1\ud0dc \uad00\ub9ac \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(e.h2,{id:"61-\uc0c1\ud0dc-\uad00\ub9ac\uac00-\ud544\uc694\ud55c-\uc774\uc720",children:"6.1 \uc0c1\ud0dc \uad00\ub9ac\uac00 \ud544\uc694\ud55c \uc774\uc720"}),"\n",(0,r.jsx)(e.h3,{id:"\ucef4\ud3ec\ub10c\ud2b8-\uac04-\uc0c1\ud0dc-\uacf5\uc720\uc758-\uc5b4\ub824\uc6c0",children:"\ucef4\ud3ec\ub10c\ud2b8 \uac04 \uc0c1\ud0dc \uacf5\uc720\uc758 \uc5b4\ub824\uc6c0"}),"\n",(0,r.jsx)(e.p,{children:"Vue \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \ucee4\uc9c8\uc218\ub85d \uc5ec\ub7ec \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \ub3d9\uc77c\ud55c \uc0c1\ud0dc\ub97c \uacf5\uc720\ud574\uc57c \ud558\ub294 \uacbd\uc6b0\uac00 \uc99d\uac00\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:"\x3c!-- Props Drilling \ubb38\uc81c --\x3e\n<template>\n  <div>\n    \x3c!-- \uae4a\uc774 \uc911\ucca9\ub41c \ucef4\ud3ec\ub10c\ud2b8\uc5d0 props \uc804\ub2ec --\x3e\n    <GrandParent :user=\"user\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst user = ref({\n  id: 1,\n  name: 'John Doe',\n  email: 'john@example.com'\n})\n<\/script>\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'\x3c!-- GrandParent.vue --\x3e\n<template>\n  <Parent :user="user" />\n</template>\n\n<script setup lang="ts">\ndefineProps<{ user: User }>()\n<\/script>\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'\x3c!-- Parent.vue --\x3e\n<template>\n  <Child :user="user" />\n</template>\n\n<script setup lang="ts">\ndefineProps<{ user: User }>()\n<\/script>\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'\x3c!-- Child.vue --\x3e\n<template>\n  <div>{{ user.name }}</div>\n</template>\n\n<script setup lang="ts">\ndefineProps<{ user: User }>()\n<\/script>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\uc0c1\ud0dc-\uad00\ub9ac-\ub77c\uc774\ube0c\ub7ec\ub9ac\uc758-\ud544\uc694\uc131",children:"\uc0c1\ud0dc \uad00\ub9ac \ub77c\uc774\ube0c\ub7ec\ub9ac\uc758 \ud544\uc694\uc131"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\uc911\uc559 \uc9d1\uc911\uc2dd \uc0c1\ud0dc \uad00\ub9ac"}),": \ubaa8\ub4e0 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc811\uadfc \uac00\ub2a5\ud55c \uc804\uc5ed \uc0c1\ud0dc"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\uc608\uce21 \uac00\ub2a5\ud55c \uc0c1\ud0dc \ubcc0\uacbd"}),": \uba85\ud655\ud55c \uaddc\uce59\uc73c\ub85c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\uac1c\ubc1c\uc790 \ub3c4\uad6c \uc9c0\uc6d0"}),": \uc0c1\ud0dc \ubcc0\uacbd \ucd94\uc801 \ubc0f \ub514\ubc84\uae45"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ud0c0\uc785 \uc548\uc815\uc131"}),": TypeScript\uc640\uc758 \uc644\ubcbd\ud55c \ud1b5\ud569"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"62-pinia-vs-vuex",children:"6.2 Pinia vs Vuex"}),"\n",(0,r.jsx)(e.h3,{id:"\uc8fc\uc694-\ucc28\uc774\uc810",children:"\uc8fc\uc694 \ucc28\uc774\uc810"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"\ud2b9\uc9d5"}),(0,r.jsx)(e.th,{children:"Pinia"}),(0,r.jsx)(e.th,{children:"Vuex"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\uad6c\uc870"})}),(0,r.jsx)(e.td,{children:"\ub2e8\uc21c\ud568 (state, getters, actions)"}),(0,r.jsx)(e.td,{children:"\ubcf5\uc7a1\ud568 (state, getters, mutations, actions)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"TypeScript"})}),(0,r.jsx)(e.td,{children:"\uc644\ubcbd\ud55c \ud0c0\uc785 \ucd94\ub860"}),(0,r.jsx)(e.td,{children:"\ubcf5\uc7a1\ud55c \ud0c0\uc785 \uc124\uc815 \ud544\uc694"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\ubaa8\ub4c8\ud654"})}),(0,r.jsx)(e.td,{children:"\uc790\ub3d9\uc73c\ub85c \ubaa8\ub4c8\ud654\ub428"}),(0,r.jsx)(e.td,{children:"\uc218\ub3d9\uc73c\ub85c \ubaa8\ub4c8 \uc124\uc815 \ud544\uc694"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"DevTools"})}),(0,r.jsx)(e.td,{children:"Vue DevTools \uc9c0\uc6d0"}),(0,r.jsx)(e.td,{children:"Vue DevTools \uc9c0\uc6d0"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\ubc88\ub4e4 \ud06c\uae30"})}),(0,r.jsx)(e.td,{children:"\uc57d 1KB"}),(0,r.jsx)(e.td,{children:"\uc57d 2KB"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\ud559\uc2b5 \uace1\uc120"})}),(0,r.jsx)(e.td,{children:"\ub0ae\uc74c"}),(0,r.jsx)(e.td,{children:"\ub192\uc74c"})]})]})]}),"\n",(0,r.jsx)(e.h3,{id:"pinia\uc758-\uc7a5\uc810",children:"Pinia\uc758 \uc7a5\uc810"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// Pinia - \uac04\ub2e8\ud558\uace0 \uc9c1\uad00\uc801\nexport const useUserStore = defineStore('user', {\n  state: () => ({\n    user: null as User | null\n  }),\n  actions: {\n    async fetchUser() {\n      this.user = await api.getUser()\n    }\n  }\n})\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// Vuex - \ub354 \ub9ce\uc740 \ubcf4\uc77c\ub7ec\ud50c\ub808\uc774\ud2b8\nexport default {\n  state: () => ({\n    user: null\n  }),\n  mutations: {\n    SET_USER(state, user) {\n      state.user = user\n    }\n  },\n  actions: {\n    async fetchUser({ commit }) {\n      const user = await api.getUser()\n      commit('SET_USER', user)\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.admonition,{type:"tip",children:(0,r.jsx)(e.p,{children:"Pinia\ub294 Vue 3\uc758 \uacf5\uc2dd \uc0c1\ud0dc \uad00\ub9ac \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c, Vuex\uc758 \ud6c4\uc18d \ubc84\uc804\uc73c\ub85c \uad8c\uc7a5\ub429\ub2c8\ub2e4."})}),"\n",(0,r.jsx)(e.h2,{id:"63-pinia-\uc124\uce58-\ubc0f-\uc124\uc815",children:"6.3 Pinia \uc124\uce58 \ubc0f \uc124\uc815"}),"\n",(0,r.jsx)(e.h3,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"npm install pinia\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uae30\ubcf8-\uc124\uc815",children:"\uae30\ubcf8 \uc124\uc815"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/main.ts\nimport { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport App from './App.vue'\n\nconst app = createApp(App)\nconst pinia = createPinia()\n\napp.use(pinia)\napp.mount('#app')\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ub514\ub809\ud1a0\ub9ac-\uad6c\uc870",children:"\ub514\ub809\ud1a0\ub9ac \uad6c\uc870"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"src/\n\u251c\u2500\u2500 stores/\n\u2502   \u251c\u2500\u2500 index.ts          # Store \ub0b4\ubcf4\ub0b4\uae30\n\u2502   \u251c\u2500\u2500 auth.ts           # \uc778\uc99d Store\n\u2502   \u251c\u2500\u2500 user.ts           # \uc0ac\uc6a9\uc790 Store\n\u2502   \u2514\u2500\u2500 posts.ts          # \uac8c\uc2dc\ubb3c Store\n\u251c\u2500\u2500 types/\n\u2502   \u2514\u2500\u2500 store.ts          # Store \ud0c0\uc785 \uc815\uc758\n\u2514\u2500\u2500 main.ts\n"})}),"\n",(0,r.jsx)(e.h2,{id:"64-store-\uc815\uc758-state-getters-actions",children:"6.4 Store \uc815\uc758 (state, getters, actions)"}),"\n",(0,r.jsx)(e.h3,{id:"options-api-\uc2a4\ud0c0\uc77c",children:"Options API \uc2a4\ud0c0\uc77c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/counter.ts\nimport { defineStore } from 'pinia'\n\nexport const useCounterStore = defineStore('counter', {\n  // State\n  state: () => ({\n    count: 0,\n    name: 'Counter'\n  }),\n\n  // Getters (computed)\n  getters: {\n    doubleCount: (state) => state.count * 2,\n\n    // \ub2e4\ub978 getter \uc0ac\uc6a9\n    doubleCountPlusOne(): number {\n      return this.doubleCount + 1\n    },\n\n    // \ub9e4\uac1c\ubcc0\uc218\ub97c \ubc1b\ub294 getter\n    getCountMultipliedBy: (state) => {\n      return (multiplier: number) => state.count * multiplier\n    }\n  },\n\n  // Actions (methods)\n  actions: {\n    increment() {\n      this.count++\n    },\n\n    decrement() {\n      this.count--\n    },\n\n    async incrementAsync() {\n      await new Promise(resolve => setTimeout(resolve, 1000))\n      this.count++\n    },\n\n    setCount(value: number) {\n      this.count = value\n    }\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"composition-api-\uc2a4\ud0c0\uc77c",children:"Composition API \uc2a4\ud0c0\uc77c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/counter.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\n\nexport const useCounterStore = defineStore('counter', () => {\n  // State\n  const count = ref(0)\n  const name = ref('Counter')\n\n  // Getters\n  const doubleCount = computed(() => count.value * 2)\n  const doubleCountPlusOne = computed(() => doubleCount.value + 1)\n\n  // Actions\n  function increment() {\n    count.value++\n  }\n\n  function decrement() {\n    count.value--\n  }\n\n  async function incrementAsync() {\n    await new Promise(resolve => setTimeout(resolve, 1000))\n    count.value++\n  }\n\n  function setCount(value: number) {\n    count.value = value\n  }\n\n  return {\n    count,\n    name,\n    doubleCount,\n    doubleCountPlusOne,\n    increment,\n    decrement,\n    incrementAsync,\n    setCount\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"typescript-\ud0c0\uc785-\uc815\uc758",children:"TypeScript \ud0c0\uc785 \uc815\uc758"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/types/store.ts\nexport interface User {\n  id: number\n  email: string\n  name: string\n  role: 'admin' | 'user'\n  avatar?: string\n}\n\nexport interface Post {\n  id: number\n  title: string\n  content: string\n  authorId: number\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface AuthState {\n  token: string | null\n  user: User | null\n  isAuthenticated: boolean\n}\n\nexport interface LoadingState {\n  [key: string]: boolean\n}\n\nexport interface ErrorState {\n  [key: string]: string | null\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"65-\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c-store-\uc0ac\uc6a9",children:"6.5 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c Store \uc0ac\uc6a9"}),"\n",(0,r.jsx)(e.h3,{id:"\uae30\ubcf8-\uc0ac\uc6a9\ubc95",children:"\uae30\ubcf8 \uc0ac\uc6a9\ubc95"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'<template>\n  <div>\n    <p>Count: {{ counter.count }}</p>\n    <p>Double: {{ counter.doubleCount }}</p>\n    <p>Double + 1: {{ counter.doubleCountPlusOne }}</p>\n\n    <button @click="counter.increment()">+</button>\n    <button @click="counter.decrement()">-</button>\n    <button @click="counter.incrementAsync()">+ (Async)</button>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { useCounterStore } from \'@/stores/counter\'\n\nconst counter = useCounterStore()\n<\/script>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\uad6c\uc870-\ubd84\ud574-\ud560\ub2f9-reactivity-\uc720\uc9c0",children:"\uad6c\uc870 \ubd84\ud574 \ud560\ub2f9 (Reactivity \uc720\uc9c0)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'<template>\n  <div>\n    <p>Count: {{ count }}</p>\n    <p>Double: {{ doubleCount }}</p>\n\n    <button @click="increment()">+</button>\n    <button @click="decrement()">-</button>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { storeToRefs } from \'pinia\'\nimport { useCounterStore } from \'@/stores/counter\'\n\nconst counter = useCounterStore()\n\n// State\uc640 Getters\ub294 storeToRefs\ub85c \uad6c\uc870 \ubd84\ud574\nconst { count, doubleCount } = storeToRefs(counter)\n\n// Actions\ub294 \uc9c1\uc811 \uad6c\uc870 \ubd84\ud574 \uac00\ub2a5\nconst { increment, decrement } = counter\n<\/script>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"computed\uc5d0\uc11c-\uc0ac\uc6a9",children:"Computed\uc5d0\uc11c \uc0ac\uc6a9"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:"<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useCounterStore } from '@/stores/counter'\n\nconst counter = useCounterStore()\n\nconst message = computed(() => {\n  return `Count is ${counter.count}`\n})\n<\/script>\n"})}),"\n",(0,r.jsx)(e.admonition,{type:"tip",children:(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"storeToRefs"}),"\ub97c \uc0ac\uc6a9\ud558\uba74 state\uc640 getters\uc758 \ubc18\uc751\uc131\uc744 \uc720\uc9c0\ud558\uba74\uc11c \uad6c\uc870 \ubd84\ud574 \ud560\ub2f9\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,r.jsx)(e.h2,{id:"66-\uc778\uc99d-\uc0c1\ud0dc-\uad00\ub9ac-\ud328\ud134",children:"6.6 \uc778\uc99d \uc0c1\ud0dc \uad00\ub9ac \ud328\ud134"}),"\n",(0,r.jsx)(e.h3,{id:"auth-store-\uad6c\ud604",children:"Auth Store \uad6c\ud604"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/auth.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport type { User } from '@/types/store'\nimport { authAPI } from '@/api/auth'\n\nexport const useAuthStore = defineStore('auth', () => {\n  // State\n  const token = ref<string | null>(localStorage.getItem('token'))\n  const user = ref<User | null>(null)\n  const loading = ref(false)\n  const error = ref<string | null>(null)\n\n  // Getters\n  const isAuthenticated = computed(() => !!token.value && !!user.value)\n  const isAdmin = computed(() => user.value?.role === 'admin')\n  const userName = computed(() => user.value?.name ?? 'Guest')\n\n  // Actions\n  async function login(email: string, password: string) {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await authAPI.login({ email, password })\n\n      token.value = response.token\n      user.value = response.user\n\n      // \ud1a0\ud070\uc744 localStorage\uc5d0 \uc800\uc7a5\n      localStorage.setItem('token', response.token)\n\n      return true\n    } catch (err: any) {\n      error.value = err.message || '\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      return false\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function register(email: string, password: string, name: string) {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await authAPI.register({ email, password, name })\n\n      token.value = response.token\n      user.value = response.user\n\n      localStorage.setItem('token', response.token)\n\n      return true\n    } catch (err: any) {\n      error.value = err.message || '\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      return false\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function logout() {\n    try {\n      await authAPI.logout()\n    } catch (err) {\n      console.error('Logout error:', err)\n    } finally {\n      // \ub85c\uceec \uc0c1\ud0dc \ucd08\uae30\ud654\n      token.value = null\n      user.value = null\n      localStorage.removeItem('token')\n    }\n  }\n\n  async function fetchUser() {\n    if (!token.value) return\n\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await authAPI.me()\n      user.value = response.user\n    } catch (err: any) {\n      // \ud1a0\ud070\uc774 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0\n      if (err.status === 401) {\n        await logout()\n      }\n      error.value = err.message\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function updateProfile(data: Partial<User>) {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await authAPI.updateProfile(data)\n      user.value = response.user\n      return true\n    } catch (err: any) {\n      error.value = err.message || '\ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      return false\n    } finally {\n      loading.value = false\n    }\n  }\n\n  function clearError() {\n    error.value = null\n  }\n\n  return {\n    // State\n    token,\n    user,\n    loading,\n    error,\n    // Getters\n    isAuthenticated,\n    isAdmin,\n    userName,\n    // Actions\n    login,\n    register,\n    logout,\n    fetchUser,\n    updateProfile,\n    clearError\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc778\uc99d-\uac00\ub4dc-\uad6c\ud604",children:"\uc778\uc99d \uac00\ub4dc \uad6c\ud604"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/router/guards/auth.ts\nimport { useAuthStore } from '@/stores/auth'\nimport type { RouteLocationNormalized, NavigationGuardNext } from 'vue-router'\n\nexport async function authGuard(\n  to: RouteLocationNormalized,\n  from: RouteLocationNormalized,\n  next: NavigationGuardNext\n) {\n  const authStore = useAuthStore()\n\n  // \uc778\uc99d\uc774 \ud544\uc694\ud55c \ud398\uc774\uc9c0\n  if (to.meta.requiresAuth) {\n    if (!authStore.isAuthenticated) {\n      // \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \ub9ac\ub2e4\uc774\ub809\ud2b8\n      next({\n        name: 'login',\n        query: { redirect: to.fullPath }\n      })\n      return\n    }\n\n    // \uc0ac\uc6a9\uc790 \uc815\ubcf4\uac00 \uc5c6\uc73c\uba74 \uac00\uc838\uc624\uae30\n    if (!authStore.user) {\n      try {\n        await authStore.fetchUser()\n      } catch (err) {\n        next({ name: 'login' })\n        return\n      }\n    }\n\n    // \uad00\ub9ac\uc790 \uad8c\ud55c\uc774 \ud544\uc694\ud55c \ud398\uc774\uc9c0\n    if (to.meta.requiresAdmin && !authStore.isAdmin) {\n      next({ name: 'forbidden' })\n      return\n    }\n  }\n\n  // \ub85c\uadf8\uc778\ud55c \uc0ac\uc6a9\uc790\ub294 \ub85c\uadf8\uc778/\ud68c\uc6d0\uac00\uc785 \ud398\uc774\uc9c0 \uc811\uadfc \ubd88\uac00\n  if (to.meta.requiresGuest && authStore.isAuthenticated) {\n    next({ name: 'home' })\n    return\n  }\n\n  next()\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/router/index.ts\nimport { createRouter, createWebHistory } from 'vue-router'\nimport { authGuard } from './guards/auth'\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [\n    {\n      path: '/login',\n      name: 'login',\n      component: () => import('@/views/Login.vue'),\n      meta: { requiresGuest: true }\n    },\n    {\n      path: '/dashboard',\n      name: 'dashboard',\n      component: () => import('@/views/Dashboard.vue'),\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/admin',\n      name: 'admin',\n      component: () => import('@/views/Admin.vue'),\n      meta: { requiresAuth: true, requiresAdmin: true }\n    }\n  ]\n})\n\nrouter.beforeEach(authGuard)\n\nexport default router\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c-\uc778\uc99d-\uc0c1\ud0dc-\uc0ac\uc6a9",children:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc778\uc99d \uc0c1\ud0dc \uc0ac\uc6a9"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'<template>\n  <div>\n    <template v-if="auth.isAuthenticated">\n      <p>\ud658\uc601\ud569\ub2c8\ub2e4, {{ auth.userName }}\ub2d8!</p>\n      <button @click="handleLogout">\ub85c\uadf8\uc544\uc6c3</button>\n    </template>\n\n    <template v-else>\n      <RouterLink to="/login">\ub85c\uadf8\uc778</RouterLink>\n    </template>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { useAuthStore } from \'@/stores/auth\'\nimport { useRouter } from \'vue-router\'\n\nconst auth = useAuthStore()\nconst router = useRouter()\n\nasync function handleLogout() {\n  await auth.logout()\n  router.push(\'/login\')\n}\n<\/script>\n'})}),"\n",(0,r.jsx)(e.admonition,{title:"\uc778\uc99d \uc0c1\ud0dc \uad00\ub9ac \ud328\ud134",type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\ud1a0\ud070\uc740 localStorage\uc5d0 \uc800\uc7a5\ud558\uc5ec \uc0c8\ub85c\uace0\uce68 \uc2dc\uc5d0\ub3c4 \uc720\uc9c0"}),"\n",(0,r.jsx)(e.li,{children:"\ubbfc\uac10\ud55c \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub294 \uba54\ubaa8\ub9ac(store)\uc5d0\ub9cc \uc800\uc7a5"}),"\n",(0,r.jsx)(e.li,{children:"API \uc694\uccad \uc2e4\ud328 \uc2dc \ud1a0\ud070 \ub9cc\ub8cc \ucc98\ub9ac"}),"\n",(0,r.jsx)(e.li,{children:"\ub85c\uadf8\uc544\uc6c3 \uc2dc \ubaa8\ub4e0 \uc778\uc99d \uc815\ubcf4 \ucd08\uae30\ud654"}),"\n"]})}),"\n",(0,r.jsx)(e.h2,{id:"67-api-\ub370\uc774\ud130-\uce90\uc2f1",children:"6.7 API \ub370\uc774\ud130 \uce90\uc2f1"}),"\n",(0,r.jsx)(e.h3,{id:"posts-store-\uad6c\ud604",children:"Posts Store \uad6c\ud604"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/posts.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport type { Post } from '@/types/store'\nimport { postsAPI } from '@/api/posts'\n\nexport const usePostsStore = defineStore('posts', () => {\n  // State\n  const posts = ref<Post[]>([])\n  const currentPost = ref<Post | null>(null)\n  const loading = ref(false)\n  const error = ref<string | null>(null)\n  const lastFetched = ref<number | null>(null)\n\n  // \uce90\uc2dc \uc720\ud6a8 \uc2dc\uac04 (5\ubd84)\n  const CACHE_DURATION = 5 * 60 * 1000\n\n  // Getters\n  const sortedPosts = computed(() => {\n    return [...posts.value].sort((a, b) => {\n      return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n    })\n  })\n\n  const getPostById = computed(() => {\n    return (id: number) => posts.value.find(post => post.id === id)\n  })\n\n  const isCacheValid = computed(() => {\n    if (!lastFetched.value) return false\n    return Date.now() - lastFetched.value < CACHE_DURATION\n  })\n\n  // Actions\n  async function fetchPosts(forceRefresh = false) {\n    // \uce90\uc2dc\uac00 \uc720\ud6a8\ud558\uace0 \uac15\uc81c \uc0c8\ub85c\uace0\uce68\uc774 \uc544\ub2c8\uba74 \uc2a4\ud0b5\n    if (!forceRefresh && isCacheValid.value && posts.value.length > 0) {\n      return\n    }\n\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await postsAPI.getAll()\n      posts.value = response.data\n      lastFetched.value = Date.now()\n    } catch (err: any) {\n      error.value = err.message || '\uac8c\uc2dc\ubb3c\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function fetchPost(id: number) {\n    loading.value = true\n    error.value = null\n\n    try {\n      // \uce90\uc2dc\uc5d0 \uc788\uc73c\uba74 \uc0ac\uc6a9\n      const cached = getPostById.value(id)\n      if (cached) {\n        currentPost.value = cached\n        loading.value = false\n        return cached\n      }\n\n      // \uc5c6\uc73c\uba74 API \ud638\ucd9c\n      const response = await postsAPI.getById(id)\n      currentPost.value = response.data\n\n      // posts \ubc30\uc5f4\uc5d0\ub3c4 \ucd94\uac00\n      const index = posts.value.findIndex(p => p.id === id)\n      if (index === -1) {\n        posts.value.push(response.data)\n      } else {\n        posts.value[index] = response.data\n      }\n\n      return response.data\n    } catch (err: any) {\n      error.value = err.message || '\uac8c\uc2dc\ubb3c\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function createPost(data: Omit<Post, 'id' | 'createdAt' | 'updatedAt'>) {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await postsAPI.create(data)\n      posts.value.unshift(response.data)\n      return response.data\n    } catch (err: any) {\n      error.value = err.message || '\uac8c\uc2dc\ubb3c \uc791\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function updatePost(id: number, data: Partial<Post>) {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await postsAPI.update(id, data)\n\n      // Store \uc5c5\ub370\uc774\ud2b8\n      const index = posts.value.findIndex(p => p.id === id)\n      if (index !== -1) {\n        posts.value[index] = response.data\n      }\n\n      if (currentPost.value?.id === id) {\n        currentPost.value = response.data\n      }\n\n      return response.data\n    } catch (err: any) {\n      error.value = err.message || '\uac8c\uc2dc\ubb3c \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function deletePost(id: number) {\n    loading.value = true\n    error.value = null\n\n    try {\n      await postsAPI.delete(id)\n\n      // Store\uc5d0\uc11c \uc81c\uac70\n      posts.value = posts.value.filter(p => p.id !== id)\n\n      if (currentPost.value?.id === id) {\n        currentPost.value = null\n      }\n    } catch (err: any) {\n      error.value = err.message || '\uac8c\uc2dc\ubb3c \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  function clearCache() {\n    posts.value = []\n    currentPost.value = null\n    lastFetched.value = null\n  }\n\n  return {\n    // State\n    posts,\n    currentPost,\n    loading,\n    error,\n    // Getters\n    sortedPosts,\n    getPostById,\n    isCacheValid,\n    // Actions\n    fetchPosts,\n    fetchPost,\n    createPost,\n    updatePost,\n    deletePost,\n    clearCache\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c-\uce90\uc2f1\ub41c-\ub370\uc774\ud130-\uc0ac\uc6a9",children:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uce90\uc2f1\ub41c \ub370\uc774\ud130 \uc0ac\uc6a9"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'<template>\n  <div>\n    <button @click="refresh" :disabled="postsStore.loading">\n      {{ postsStore.loading ? \'\ub85c\ub529 \uc911...\' : \'\uc0c8\ub85c\uace0\uce68\' }}\n    </button>\n\n    <p v-if="postsStore.isCacheValid" class="cache-status">\n      \uce90\uc2dc\ub41c \ub370\uc774\ud130 ({{ timeSinceLastFetch }}\ucd08 \uc804)\n    </p>\n\n    <div v-if="postsStore.error" class="error">\n      {{ postsStore.error }}\n    </div>\n\n    <div v-for="post in postsStore.sortedPosts" :key="post.id">\n      <h3>{{ post.title }}</h3>\n      <p>{{ post.content }}</p>\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { ref, computed, onMounted } from \'vue\'\nimport { usePostsStore } from \'@/stores/posts\'\n\nconst postsStore = usePostsStore()\n\nconst timeSinceLastFetch = computed(() => {\n  if (!postsStore.lastFetched) return 0\n  return Math.floor((Date.now() - postsStore.lastFetched) / 1000)\n})\n\nonMounted(async () => {\n  // \uce90\uc2dc\uac00 \uc720\ud6a8\ud558\uba74 API \ud638\ucd9c \uc548 \ud568\n  await postsStore.fetchPosts()\n})\n\nasync function refresh() {\n  // \uac15\uc81c \uc0c8\ub85c\uace0\uce68\n  await postsStore.fetchPosts(true)\n}\n<\/script>\n'})}),"\n",(0,r.jsx)(e.admonition,{title:"\uce90\uc2f1 \uc804\ub7b5",type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Time-based \uce90\uc2f1"}),": \uc77c\uc815 \uc2dc\uac04 \ub3d9\uc548 \uce90\uc2dc \uc720\ud6a8"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Force refresh"}),": \uc0ac\uc6a9\uc790\uac00 \uba85\uc2dc\uc801\uc73c\ub85c \uc0c8\ub85c\uace0\uce68 \uac00\ub2a5"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Optimistic updates"}),": \ub099\uad00\uc801 \uc5c5\ub370\uc774\ud2b8\ub85c UX \uac1c\uc120"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Cache invalidation"}),": \ub370\uc774\ud130 \ubcc0\uacbd \uc2dc \uce90\uc2dc \ubb34\ud6a8\ud654"]}),"\n"]})}),"\n",(0,r.jsx)(e.h2,{id:"68-\ub85c\ub529-\ubc0f-\uc5d0\ub7ec-\uc0c1\ud0dc-\uad00\ub9ac",children:"6.8 \ub85c\ub529 \ubc0f \uc5d0\ub7ec \uc0c1\ud0dc \uad00\ub9ac"}),"\n",(0,r.jsx)(e.h3,{id:"\ud1b5\ud569-ui-\uc0c1\ud0dc-store",children:"\ud1b5\ud569 UI \uc0c1\ud0dc Store"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/ui.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\n\ninterface Toast {\n  id: string\n  message: string\n  type: 'success' | 'error' | 'warning' | 'info'\n  duration?: number\n}\n\nexport const useUIStore = defineStore('ui', () => {\n  // Loading states\n  const loadingStates = ref<Record<string, boolean>>({})\n\n  // Error states\n  const errorStates = ref<Record<string, string | null>>({})\n\n  // Toast notifications\n  const toasts = ref<Toast[]>([])\n\n  // Modal state\n  const isModalOpen = ref(false)\n  const modalComponent = ref<string | null>(null)\n  const modalProps = ref<Record<string, any>>({})\n\n  // Sidebar state\n  const isSidebarOpen = ref(true)\n\n  // Getters\n  const isLoading = computed(() => {\n    return (key: string) => loadingStates.value[key] || false\n  })\n\n  const getError = computed(() => {\n    return (key: string) => errorStates.value[key] || null\n  })\n\n  const hasAnyLoading = computed(() => {\n    return Object.values(loadingStates.value).some(loading => loading)\n  })\n\n  // Loading actions\n  function setLoading(key: string, value: boolean) {\n    loadingStates.value[key] = value\n  }\n\n  function startLoading(key: string) {\n    setLoading(key, true)\n  }\n\n  function stopLoading(key: string) {\n    setLoading(key, false)\n  }\n\n  function clearAllLoading() {\n    loadingStates.value = {}\n  }\n\n  // Error actions\n  function setError(key: string, message: string | null) {\n    errorStates.value[key] = message\n  }\n\n  function clearError(key: string) {\n    errorStates.value[key] = null\n  }\n\n  function clearAllErrors() {\n    errorStates.value = {}\n  }\n\n  // Toast actions\n  function showToast(\n    message: string,\n    type: Toast['type'] = 'info',\n    duration = 3000\n  ) {\n    const id = `toast-${Date.now()}-${Math.random()}`\n    const toast: Toast = { id, message, type, duration }\n\n    toasts.value.push(toast)\n\n    if (duration > 0) {\n      setTimeout(() => {\n        removeToast(id)\n      }, duration)\n    }\n\n    return id\n  }\n\n  function removeToast(id: string) {\n    const index = toasts.value.findIndex(t => t.id === id)\n    if (index !== -1) {\n      toasts.value.splice(index, 1)\n    }\n  }\n\n  function clearAllToasts() {\n    toasts.value = []\n  }\n\n  // Modal actions\n  function openModal(component: string, props: Record<string, any> = {}) {\n    modalComponent.value = component\n    modalProps.value = props\n    isModalOpen.value = true\n  }\n\n  function closeModal() {\n    isModalOpen.value = false\n    modalComponent.value = null\n    modalProps.value = {}\n  }\n\n  // Sidebar actions\n  function toggleSidebar() {\n    isSidebarOpen.value = !isSidebarOpen.value\n  }\n\n  function setSidebarOpen(value: boolean) {\n    isSidebarOpen.value = value\n  }\n\n  return {\n    // State\n    loadingStates,\n    errorStates,\n    toasts,\n    isModalOpen,\n    modalComponent,\n    modalProps,\n    isSidebarOpen,\n    // Getters\n    isLoading,\n    getError,\n    hasAnyLoading,\n    // Actions\n    setLoading,\n    startLoading,\n    stopLoading,\n    clearAllLoading,\n    setError,\n    clearError,\n    clearAllErrors,\n    showToast,\n    removeToast,\n    clearAllToasts,\n    openModal,\n    closeModal,\n    toggleSidebar,\n    setSidebarOpen\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"composable\ub85c-\ub85c\ub529\uc5d0\ub7ec-\ucc98\ub9ac-\ucd94\uc0c1\ud654",children:"Composable\ub85c \ub85c\ub529/\uc5d0\ub7ec \ucc98\ub9ac \ucd94\uc0c1\ud654"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/composables/useAsyncAction.ts\nimport { ref } from 'vue'\nimport { useUIStore } from '@/stores/ui'\n\nexport function useAsyncAction(key?: string) {\n  const uiStore = useUIStore()\n  const loading = ref(false)\n  const error = ref<string | null>(null)\n\n  async function execute<T>(\n    action: () => Promise<T>,\n    options: {\n      showToast?: boolean\n      successMessage?: string\n      errorMessage?: string\n    } = {}\n  ): Promise<T | null> {\n    loading.value = true\n    error.value = null\n\n    if (key) {\n      uiStore.startLoading(key)\n      uiStore.clearError(key)\n    }\n\n    try {\n      const result = await action()\n\n      if (options.showToast && options.successMessage) {\n        uiStore.showToast(options.successMessage, 'success')\n      }\n\n      return result\n    } catch (err: any) {\n      const errorMsg = options.errorMessage || err.message || '\uc791\uc5c5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n      error.value = errorMsg\n\n      if (key) {\n        uiStore.setError(key, errorMsg)\n      }\n\n      if (options.showToast) {\n        uiStore.showToast(errorMsg, 'error')\n      }\n\n      return null\n    } finally {\n      loading.value = false\n      if (key) {\n        uiStore.stopLoading(key)\n      }\n    }\n  }\n\n  return {\n    loading,\n    error,\n    execute\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c-\uc0ac\uc6a9",children:"\ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc0ac\uc6a9"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:"<template>\n  <div>\n    <button @click=\"handleSubmit\" :disabled=\"loading\">\n      {{ loading ? '\ucc98\ub9ac \uc911...' : '\uc81c\ucd9c' }}\n    </button>\n\n    <div v-if=\"error\" class=\"error\">\n      {{ error }}\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useAsyncAction } from '@/composables/useAsyncAction'\nimport { usePostsStore } from '@/stores/posts'\n\nconst postsStore = usePostsStore()\nconst { loading, error, execute } = useAsyncAction('createPost')\n\nasync function handleSubmit() {\n  const result = await execute(\n    () => postsStore.createPost({\n      title: 'New Post',\n      content: 'Content here',\n      authorId: 1\n    }),\n    {\n      showToast: true,\n      successMessage: '\uac8c\uc2dc\ubb3c\uc774 \uc791\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.',\n      errorMessage: '\uac8c\uc2dc\ubb3c \uc791\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.'\n    }\n  )\n\n  if (result) {\n    console.log('Success:', result)\n  }\n}\n<\/script>\n"})}),"\n",(0,r.jsx)(e.h3,{id:"toast-\uc54c\ub9bc-\ucef4\ud3ec\ub10c\ud2b8",children:"Toast \uc54c\ub9bc \ucef4\ud3ec\ub10c\ud2b8"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'\x3c!-- src/components/ToastContainer.vue --\x3e\n<template>\n  <div class="toast-container">\n    <TransitionGroup name="toast">\n      <div\n        v-for="toast in uiStore.toasts"\n        :key="toast.id"\n        :class="[\'toast\', `toast-${toast.type}`]"\n        @click="uiStore.removeToast(toast.id)"\n      >\n        <div class="toast-icon">\n          <span v-if="toast.type === \'success\'">\u2713</span>\n          <span v-else-if="toast.type === \'error\'">\u2715</span>\n          <span v-else-if="toast.type === \'warning\'">\u26a0</span>\n          <span v-else>\u2139</span>\n        </div>\n        <div class="toast-message">{{ toast.message }}</div>\n      </div>\n    </TransitionGroup>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { useUIStore } from \'@/stores/ui\'\n\nconst uiStore = useUIStore()\n<\/script>\n\n<style scoped>\n.toast-container {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 9999;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.toast {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px 16px;\n  border-radius: 8px;\n  background: white;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  cursor: pointer;\n  min-width: 300px;\n  max-width: 500px;\n}\n\n.toast-success {\n  border-left: 4px solid #10b981;\n}\n\n.toast-error {\n  border-left: 4px solid #ef4444;\n}\n\n.toast-warning {\n  border-left: 4px solid #f59e0b;\n}\n\n.toast-info {\n  border-left: 4px solid #3b82f6;\n}\n\n.toast-icon {\n  font-size: 20px;\n  font-weight: bold;\n}\n\n.toast-success .toast-icon { color: #10b981; }\n.toast-error .toast-icon { color: #ef4444; }\n.toast-warning .toast-icon { color: #f59e0b; }\n.toast-info .toast-icon { color: #3b82f6; }\n\n.toast-message {\n  flex: 1;\n  font-size: 14px;\n  color: #374151;\n}\n\n/* Transitions */\n.toast-enter-active,\n.toast-leave-active {\n  transition: all 0.3s ease;\n}\n\n.toast-enter-from {\n  transform: translateX(100%);\n  opacity: 0;\n}\n\n.toast-leave-to {\n  transform: translateX(100%);\n  opacity: 0;\n}\n</style>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"69-store-\ubaa8\ub4c8\ud654",children:"6.9 Store \ubaa8\ub4c8\ud654"}),"\n",(0,r.jsx)(e.h3,{id:"store-\uad6c\uc870\ud654",children:"Store \uad6c\uc870\ud654"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/index.ts\nexport { useAuthStore } from './auth'\nexport { useUserStore } from './user'\nexport { usePostsStore } from './posts'\nexport { useCommentsStore } from './comments'\nexport { useUIStore } from './ui'\n"})}),"\n",(0,r.jsx)(e.h3,{id:"user-store-auth\uc640-\ubd84\ub9ac",children:"User Store (Auth\uc640 \ubd84\ub9ac)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/user.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport type { User } from '@/types/store'\nimport { useAuthStore } from './auth'\nimport { userAPI } from '@/api/user'\n\nexport const useUserStore = defineStore('user', () => {\n  // State\n  const users = ref<User[]>([])\n  const loading = ref(false)\n  const error = ref<string | null>(null)\n\n  // Getters\n  const getUserById = computed(() => {\n    return (id: number) => users.value.find(user => user.id === id)\n  })\n\n  const sortedUsers = computed(() => {\n    return [...users.value].sort((a, b) => a.name.localeCompare(b.name))\n  })\n\n  // Actions\n  async function fetchUsers() {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await userAPI.getAll()\n      users.value = response.data\n    } catch (err: any) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function fetchUser(id: number) {\n    const cached = getUserById.value(id)\n    if (cached) return cached\n\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await userAPI.getById(id)\n      const user = response.data\n\n      const index = users.value.findIndex(u => u.id === id)\n      if (index === -1) {\n        users.value.push(user)\n      } else {\n        users.value[index] = user\n      }\n\n      return user\n    } catch (err: any) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function updateUser(id: number, data: Partial<User>) {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await userAPI.update(id, data)\n      const updatedUser = response.data\n\n      const index = users.value.findIndex(u => u.id === id)\n      if (index !== -1) {\n        users.value[index] = updatedUser\n      }\n\n      // \ud604\uc7ac \uc0ac\uc6a9\uc790\ub97c \uc5c5\ub370\uc774\ud2b8\ud55c \uacbd\uc6b0 Auth Store\ub3c4 \uc5c5\ub370\uc774\ud2b8\n      const authStore = useAuthStore()\n      if (authStore.user?.id === id) {\n        authStore.user = updatedUser\n      }\n\n      return updatedUser\n    } catch (err: any) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  return {\n    users,\n    loading,\n    error,\n    getUserById,\n    sortedUsers,\n    fetchUsers,\n    fetchUser,\n    updateUser\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"comments-store-posts\uc640-\uc5f0\uacb0",children:"Comments Store (Posts\uc640 \uc5f0\uacb0)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/comments.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport { commentsAPI } from '@/api/comments'\n\ninterface Comment {\n  id: number\n  postId: number\n  userId: number\n  content: string\n  createdAt: string\n}\n\nexport const useCommentsStore = defineStore('comments', () => {\n  const comments = ref<Comment[]>([])\n  const loading = ref(false)\n  const error = ref<string | null>(null)\n\n  const getCommentsByPostId = computed(() => {\n    return (postId: number) => {\n      return comments.value\n        .filter(c => c.postId === postId)\n        .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n    }\n  })\n\n  async function fetchComments(postId: number) {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await commentsAPI.getByPostId(postId)\n\n      // \uae30\uc874 \ub313\uae00 \uc81c\uac70\n      comments.value = comments.value.filter(c => c.postId !== postId)\n\n      // \uc0c8 \ub313\uae00 \ucd94\uac00\n      comments.value.push(...response.data)\n    } catch (err: any) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function createComment(postId: number, content: string) {\n    loading.value = true\n    error.value = null\n\n    try {\n      const response = await commentsAPI.create({ postId, content })\n      comments.value.push(response.data)\n      return response.data\n    } catch (err: any) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function deleteComment(id: number) {\n    loading.value = true\n    error.value = null\n\n    try {\n      await commentsAPI.delete(id)\n      comments.value = comments.value.filter(c => c.id !== id)\n    } catch (err: any) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  return {\n    comments,\n    loading,\n    error,\n    getCommentsByPostId,\n    fetchComments,\n    createComment,\n    deleteComment\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc5ec\ub7ec-store-\ud568\uaed8-\uc0ac\uc6a9",children:"\uc5ec\ub7ec Store \ud568\uaed8 \uc0ac\uc6a9"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'<template>\n  <div>\n    <h1>{{ post?.title }}</h1>\n    <p>\uc791\uc131\uc790: {{ author?.name }}</p>\n\n    <div class="comments">\n      <h3>\ub313\uae00 ({{ postComments.length }})</h3>\n\n      <div v-for="comment in postComments" :key="comment.id">\n        <p>{{ comment.content }}</p>\n        <button @click="handleDeleteComment(comment.id)">\uc0ad\uc81c</button>\n      </div>\n\n      <form @submit.prevent="handleAddComment">\n        <textarea v-model="newComment" required></textarea>\n        <button type="submit" :disabled="commentsStore.loading">\n          \ub313\uae00 \uc791\uc131\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { ref, computed, onMounted } from \'vue\'\nimport { useRoute } from \'vue-router\'\nimport { usePostsStore } from \'@/stores/posts\'\nimport { useUserStore } from \'@/stores/user\'\nimport { useCommentsStore } from \'@/stores/comments\'\nimport { storeToRefs } from \'pinia\'\n\nconst route = useRoute()\nconst postsStore = usePostsStore()\nconst userStore = useUserStore()\nconst commentsStore = useCommentsStore()\n\nconst { currentPost: post } = storeToRefs(postsStore)\nconst newComment = ref(\'\')\n\nconst postId = computed(() => Number(route.params.id))\n\nconst postComments = computed(() => {\n  return commentsStore.getCommentsByPostId(postId.value)\n})\n\nconst author = computed(() => {\n  if (!post.value) return null\n  return userStore.getUserById(post.value.authorId)\n})\n\nonMounted(async () => {\n  await Promise.all([\n    postsStore.fetchPost(postId.value),\n    commentsStore.fetchComments(postId.value)\n  ])\n\n  if (post.value) {\n    await userStore.fetchUser(post.value.authorId)\n  }\n})\n\nasync function handleAddComment() {\n  await commentsStore.createComment(postId.value, newComment.value)\n  newComment.value = \'\'\n}\n\nasync function handleDeleteComment(commentId: number) {\n  await commentsStore.deleteComment(commentId)\n}\n<\/script>\n'})}),"\n",(0,r.jsx)(e.admonition,{title:"Store \ubaa8\ub4c8\ud654 \uc6d0\uce59",type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ub2e8\uc77c \ucc45\uc784"}),": \uac01 Store\ub294 \ud558\ub098\uc758 \ub3c4\uba54\uc778\ub9cc \ub2f4\ub2f9"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ub290\uc2a8\ud55c \uacb0\ud569"}),": Store \uac04 \uc9c1\uc811 \uc758\uc874\uc131 \ucd5c\uc18c\ud654"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\uba85\ud655\ud55c \uc778\ud130\ud398\uc774\uc2a4"}),": \ub2e4\ub978 Store\uc5d0\uc11c \uc0ac\uc6a9\ud560 \ub54c \uba85\ud655\ud55c API \uc81c\uacf5"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\uc21c\ud658 \uc758\uc874 \ubc29\uc9c0"}),": Store \uac04 \uc21c\ud658 \ucc38\uc870 \ud53c\ud558\uae30"]}),"\n"]})}),"\n",(0,r.jsx)(e.h2,{id:"610-pinia-\ud50c\ub7ec\uadf8\uc778-\uc9c0\uc18d\uc131",children:"6.10 Pinia \ud50c\ub7ec\uadf8\uc778 (\uc9c0\uc18d\uc131)"}),"\n",(0,r.jsx)(e.h3,{id:"pinia-persist-plugin",children:"Pinia Persist Plugin"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"npm install pinia-plugin-persistedstate\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/main.ts\nimport { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport piniaPluginPersistedstate from 'pinia-plugin-persistedstate'\nimport App from './App.vue'\n\nconst pinia = createPinia()\npinia.use(piniaPluginPersistedstate)\n\nconst app = createApp(App)\napp.use(pinia)\napp.mount('#app')\n"})}),"\n",(0,r.jsx)(e.h3,{id:"store\uc5d0\uc11c-\uc9c0\uc18d\uc131-\uc124\uc815",children:"Store\uc5d0\uc11c \uc9c0\uc18d\uc131 \uc124\uc815"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/settings.ts\nimport { defineStore } from 'pinia'\nimport { ref } from 'vue'\n\nexport const useSettingsStore = defineStore('settings', () => {\n  const theme = ref<'light' | 'dark'>('light')\n  const language = ref<'ko' | 'en'>('ko')\n  const sidebarCollapsed = ref(false)\n  const notificationsEnabled = ref(true)\n\n  function setTheme(value: 'light' | 'dark') {\n    theme.value = value\n  }\n\n  function setLanguage(value: 'ko' | 'en') {\n    language.value = value\n  }\n\n  function toggleSidebar() {\n    sidebarCollapsed.value = !sidebarCollapsed.value\n  }\n\n  function toggleNotifications() {\n    notificationsEnabled.value = !notificationsEnabled.value\n  }\n\n  return {\n    theme,\n    language,\n    sidebarCollapsed,\n    notificationsEnabled,\n    setTheme,\n    setLanguage,\n    toggleSidebar,\n    toggleNotifications\n  }\n}, {\n  persist: true  // \uc804\uccb4 state\ub97c localStorage\uc5d0 \uc800\uc7a5\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc120\ud0dd\uc801-\uc9c0\uc18d\uc131",children:"\uc120\ud0dd\uc801 \uc9c0\uc18d\uc131"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/auth.ts\nimport { defineStore } from 'pinia'\nimport { ref } from 'vue'\n\nexport const useAuthStore = defineStore('auth', () => {\n  const token = ref<string | null>(null)\n  const user = ref<User | null>(null)\n  const rememberMe = ref(false)\n\n  // ... actions\n\n  return {\n    token,\n    user,\n    rememberMe,\n    // ... actions\n  }\n}, {\n  persist: {\n    // \ud2b9\uc815 \ud56d\ubaa9\ub9cc \uc800\uc7a5\n    paths: ['token', 'rememberMe'],\n\n    // Storage \ud0c0\uc785 \uc9c0\uc815\n    storage: localStorage,\n\n    // \uc9c1\ub82c\ud654/\uc5ed\uc9c1\ub82c\ud654 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5\n    serializer: {\n      serialize: JSON.stringify,\n      deserialize: JSON.parse\n    }\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"sessionstorage-\uc0ac\uc6a9",children:"SessionStorage \uc0ac\uc6a9"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/cart.ts\nimport { defineStore } from 'pinia'\nimport { ref } from 'vue'\n\ninterface CartItem {\n  id: number\n  name: string\n  price: number\n  quantity: number\n}\n\nexport const useCartStore = defineStore('cart', () => {\n  const items = ref<CartItem[]>([])\n\n  function addItem(item: CartItem) {\n    const existing = items.value.find(i => i.id === item.id)\n    if (existing) {\n      existing.quantity += item.quantity\n    } else {\n      items.value.push(item)\n    }\n  }\n\n  function removeItem(id: number) {\n    items.value = items.value.filter(i => i.id !== id)\n  }\n\n  function clear() {\n    items.value = []\n  }\n\n  return {\n    items,\n    addItem,\n    removeItem,\n    clear\n  }\n}, {\n  persist: {\n    storage: sessionStorage  // \ud0ed \ub2eb\uc73c\uba74 \uc0ad\uc81c\ub428\n  }\n})\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ucee4\uc2a4\ud140-\uc9c0\uc18d\uc131-\ud50c\ub7ec\uadf8\uc778",children:"\ucee4\uc2a4\ud140 \uc9c0\uc18d\uc131 \ud50c\ub7ec\uadf8\uc778"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/plugins/pinia-custom-persist.ts\nimport type { PiniaPluginContext } from 'pinia'\n\nexport function createCustomPersistPlugin() {\n  return function customPersistPlugin({ store, options }: PiniaPluginContext) {\n    // \ud2b9\uc815 store\ub9cc \ucc98\ub9ac\n    if (options.persist) {\n      const storageKey = `pinia-${store.$id}`\n\n      // \ucd08\uae30\ud654 \uc2dc \ubcf5\uc6d0\n      const savedState = localStorage.getItem(storageKey)\n      if (savedState) {\n        try {\n          const parsed = JSON.parse(savedState)\n          store.$patch(parsed)\n        } catch (error) {\n          console.error('Failed to restore state:', error)\n        }\n      }\n\n      // \uc0c1\ud0dc \ubcc0\uacbd \uc2dc \uc800\uc7a5\n      store.$subscribe((mutation, state) => {\n        try {\n          localStorage.setItem(storageKey, JSON.stringify(state))\n        } catch (error) {\n          console.error('Failed to persist state:', error)\n        }\n      })\n\n      // Store\uc5d0 reset \uba54\uc11c\ub4dc \ucd94\uac00\n      store.$reset = () => {\n        localStorage.removeItem(storageKey)\n        store.$patch(options.state?.())\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/main.ts\nimport { createPinia } from 'pinia'\nimport { createCustomPersistPlugin } from '@/plugins/pinia-custom-persist'\n\nconst pinia = createPinia()\npinia.use(createCustomPersistPlugin())\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc554\ud638\ud654\ub41c-\uc9c0\uc18d\uc131",children:"\uc554\ud638\ud654\ub41c \uc9c0\uc18d\uc131"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/secure-data.ts\nimport { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport CryptoJS from 'crypto-js'\n\nconst SECRET_KEY = import.meta.env.VITE_ENCRYPTION_KEY\n\nexport const useSecureDataStore = defineStore('secure-data', () => {\n  const sensitiveData = ref<string | null>(null)\n\n  function setSensitiveData(data: string) {\n    sensitiveData.value = data\n  }\n\n  function clearSensitiveData() {\n    sensitiveData.value = null\n  }\n\n  return {\n    sensitiveData,\n    setSensitiveData,\n    clearSensitiveData\n  }\n}, {\n  persist: {\n    serializer: {\n      serialize: (state) => {\n        const encrypted = CryptoJS.AES.encrypt(\n          JSON.stringify(state),\n          SECRET_KEY\n        ).toString()\n        return encrypted\n      },\n      deserialize: (value) => {\n        try {\n          const decrypted = CryptoJS.AES.decrypt(value, SECRET_KEY)\n          const decryptedStr = decrypted.toString(CryptoJS.enc.Utf8)\n          return JSON.parse(decryptedStr)\n        } catch (error) {\n          console.error('Failed to decrypt state:', error)\n          return {}\n        }\n      }\n    }\n  }\n})\n"})}),"\n",(0,r.jsx)(e.admonition,{title:"\uc9c0\uc18d\uc131 \ud50c\ub7ec\uadf8\uc778 \uc0ac\uc6a9 \uc2dc \uc8fc\uc758\uc0ac\ud56d",type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ubbfc\uac10\ud55c \uc815\ubcf4"}),": \ud1a0\ud070, \ube44\ubc00\ubc88\ud638 \ub4f1\uc740 \uc554\ud638\ud654\ud558\uac70\ub098 \uc800\uc7a5\ud558\uc9c0 \uc54a\uae30"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ub370\uc774\ud130 \ud06c\uae30"}),": localStorage\ub294 5MB \uc81c\ud55c\uc774 \uc788\uc74c"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ub9c8\uc774\uadf8\ub808\uc774\uc158"}),": \uc2a4\ud0a4\ub9c8 \ubcc0\uacbd \uc2dc \ubc84\uc804 \uad00\ub9ac \ud544\uc694"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\ub3d9\uae30\ud654"}),": \uc5ec\ub7ec \ud0ed \uac04 \uc0c1\ud0dc \ub3d9\uae30\ud654 \uace0\ub824"]}),"\n"]})}),"\n",(0,r.jsx)(e.h2,{id:"611-\uc2e4\uc2b5-\ubb38\uc81c",children:"6.11 \uc2e4\uc2b5 \ubb38\uc81c"}),"\n",(0,r.jsx)(e.h3,{id:"\ubb38\uc81c-1-todo-store-\uad6c\ud604",children:"\ubb38\uc81c 1: Todo Store \uad6c\ud604"}),"\n",(0,r.jsx)(e.p,{children:"\ub2e4\uc74c \uae30\ub2a5\uc744 \uac16\ucd98 Todo Store\ub97c \uad6c\ud604\ud558\uc138\uc694:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Todo \ucd94\uac00, \uc644\ub8cc \ud1a0\uae00, \uc0ad\uc81c"}),"\n",(0,r.jsx)(e.li,{children:"\ud544\ud130\ub9c1 (\uc804\uccb4, \uc644\ub8cc, \ubbf8\uc644\ub8cc)"}),"\n",(0,r.jsx)(e.li,{children:"localStorage\uc5d0 \uc790\ub3d9 \uc800\uc7a5"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\uc694\uad6c\uc0ac\ud56d:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"interface Todo {\n  id: number\n  title: string\n  completed: boolean\n  createdAt: string\n}\n\n// Getters\n- activeTodos: \ubbf8\uc644\ub8cc Todo \ubaa9\ub85d\n- completedTodos: \uc644\ub8cc\ub41c Todo \ubaa9\ub85d\n- todoCount: \uc804\uccb4 Todo \uac1c\uc218\n- activeCount: \ubbf8\uc644\ub8cc Todo \uac1c\uc218\n\n// Actions\n- addTodo(title: string): void\n- toggleTodo(id: number): void\n- deleteTodo(id: number): void\n- clearCompleted(): void\n"})}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"\ud574\ub2f5"}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/todos.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\n\nexport interface Todo {\n  id: number\n  title: string\n  completed: boolean\n  createdAt: string\n}\n\nexport const useTodosStore = defineStore('todos', () => {\n  // State\n  const todos = ref<Todo[]>([])\n  const filter = ref<'all' | 'active' | 'completed'>('all')\n\n  // Getters\n  const activeTodos = computed(() => {\n    return todos.value.filter(todo => !todo.completed)\n  })\n\n  const completedTodos = computed(() => {\n    return todos.value.filter(todo => todo.completed)\n  })\n\n  const filteredTodos = computed(() => {\n    switch (filter.value) {\n      case 'active':\n        return activeTodos.value\n      case 'completed':\n        return completedTodos.value\n      default:\n        return todos.value\n    }\n  })\n\n  const todoCount = computed(() => todos.value.length)\n  const activeCount = computed(() => activeTodos.value.length)\n  const completedCount = computed(() => completedTodos.value.length)\n\n  // Actions\n  function addTodo(title: string) {\n    if (!title.trim()) return\n\n    const newTodo: Todo = {\n      id: Date.now(),\n      title: title.trim(),\n      completed: false,\n      createdAt: new Date().toISOString()\n    }\n\n    todos.value.push(newTodo)\n  }\n\n  function toggleTodo(id: number) {\n    const todo = todos.value.find(t => t.id === id)\n    if (todo) {\n      todo.completed = !todo.completed\n    }\n  }\n\n  function deleteTodo(id: number) {\n    todos.value = todos.value.filter(t => t.id !== id)\n  }\n\n  function clearCompleted() {\n    todos.value = todos.value.filter(t => !t.completed)\n  }\n\n  function setFilter(newFilter: typeof filter.value) {\n    filter.value = newFilter\n  }\n\n  return {\n    // State\n    todos,\n    filter,\n    // Getters\n    activeTodos,\n    completedTodos,\n    filteredTodos,\n    todoCount,\n    activeCount,\n    completedCount,\n    // Actions\n    addTodo,\n    toggleTodo,\n    deleteTodo,\n    clearCompleted,\n    setFilter\n  }\n}, {\n  persist: true\n})\n"})}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'\x3c!-- src/components/TodoList.vue --\x3e\n<template>\n  <div class="todo-app">\n    <h1>Todo List</h1>\n\n    <form @submit.prevent="handleAddTodo" class="todo-form">\n      <input\n        v-model="newTodoTitle"\n        type="text"\n        placeholder="\ud560 \uc77c\uc744 \uc785\ub825\ud558\uc138\uc694..."\n        class="todo-input"\n      />\n      <button type="submit" class="btn-add">\ucd94\uac00</button>\n    </form>\n\n    <div class="todo-filters">\n      <button\n        :class="{ active: todosStore.filter === \'all\' }"\n        @click="todosStore.setFilter(\'all\')"\n      >\n        \uc804\uccb4 ({{ todosStore.todoCount }})\n      </button>\n      <button\n        :class="{ active: todosStore.filter === \'active\' }"\n        @click="todosStore.setFilter(\'active\')"\n      >\n        \ubbf8\uc644\ub8cc ({{ todosStore.activeCount }})\n      </button>\n      <button\n        :class="{ active: todosStore.filter === \'completed\' }"\n        @click="todosStore.setFilter(\'completed\')"\n      >\n        \uc644\ub8cc ({{ todosStore.completedCount }})\n      </button>\n    </div>\n\n    <ul class="todo-list">\n      <li\n        v-for="todo in todosStore.filteredTodos"\n        :key="todo.id"\n        :class="{ completed: todo.completed }"\n        class="todo-item"\n      >\n        <input\n          type="checkbox"\n          :checked="todo.completed"\n          @change="todosStore.toggleTodo(todo.id)"\n        />\n        <span class="todo-title">{{ todo.title }}</span>\n        <button @click="todosStore.deleteTodo(todo.id)" class="btn-delete">\n          \uc0ad\uc81c\n        </button>\n      </li>\n    </ul>\n\n    <div v-if="todosStore.completedCount > 0" class="todo-actions">\n      <button @click="todosStore.clearCompleted()" class="btn-clear">\n        \uc644\ub8cc\ub41c \ud56d\ubaa9 \uc0ad\uc81c\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { ref } from \'vue\'\nimport { useTodosStore } from \'@/stores/todos\'\n\nconst todosStore = useTodosStore()\nconst newTodoTitle = ref(\'\')\n\nfunction handleAddTodo() {\n  todosStore.addTodo(newTodoTitle.value)\n  newTodoTitle.value = \'\'\n}\n<\/script>\n\n<style scoped>\n.todo-app {\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.todo-form {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n}\n\n.todo-input {\n  flex: 1;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 16px;\n}\n\n.btn-add {\n  padding: 10px 20px;\n  background: #42b883;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn-add:hover {\n  background: #35a372;\n}\n\n.todo-filters {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n}\n\n.todo-filters button {\n  padding: 8px 16px;\n  border: 1px solid #ddd;\n  background: white;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.todo-filters button.active {\n  background: #42b883;\n  color: white;\n  border-color: #42b883;\n}\n\n.todo-list {\n  list-style: none;\n  padding: 0;\n}\n\n.todo-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 8px;\n}\n\n.todo-item.completed .todo-title {\n  text-decoration: line-through;\n  color: #999;\n}\n\n.todo-title {\n  flex: 1;\n}\n\n.btn-delete {\n  padding: 6px 12px;\n  background: #f56565;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn-delete:hover {\n  background: #e53e3e;\n}\n\n.todo-actions {\n  margin-top: 20px;\n  text-align: center;\n}\n\n.btn-clear {\n  padding: 10px 20px;\n  background: #ed8936;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn-clear:hover {\n  background: #dd6b20;\n}\n</style>\n'})})]}),"\n",(0,r.jsx)(e.h3,{id:"\ubb38\uc81c-2-shopping-cart-store",children:"\ubb38\uc81c 2: Shopping Cart Store"}),"\n",(0,r.jsx)(e.p,{children:"\ub2e4\uc74c \uae30\ub2a5\uc744 \uac16\ucd98 Shopping Cart Store\ub97c \uad6c\ud604\ud558\uc138\uc694:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\uc0c1\ud488 \ucd94\uac00, \uc218\ub7c9 \ubcc0\uacbd, \uc81c\uac70"}),"\n",(0,r.jsx)(e.li,{children:"\ucd1d \uae08\uc561 \uacc4\uc0b0"}),"\n",(0,r.jsx)(e.li,{children:"\ud560\uc778 \ucfe0\ud3f0 \uc801\uc6a9"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\uc694\uad6c\uc0ac\ud56d:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"interface Product {\n  id: number\n  name: string\n  price: number\n  image: string\n}\n\ninterface CartItem extends Product {\n  quantity: number\n}\n\ninterface Coupon {\n  code: string\n  discount: number  // \ud560\uc778 \ud37c\uc13c\ud2b8 (0-100)\n}\n\n// Getters\n- itemCount: \ucd1d \uc0c1\ud488 \uac1c\uc218\n- subtotal: \ud560\uc778 \uc804 \uae08\uc561\n- discountAmount: \ud560\uc778 \uae08\uc561\n- total: \ucd5c\uc885 \uae08\uc561\n\n// Actions\n- addToCart(product: Product): void\n- removeFromCart(productId: number): void\n- updateQuantity(productId: number, quantity: number): void\n- applyCoupon(code: string): boolean\n- clearCart(): void\n"})}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"\ud574\ub2f5"}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/cart.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\n\nexport interface Product {\n  id: number\n  name: string\n  price: number\n  image: string\n}\n\nexport interface CartItem extends Product {\n  quantity: number\n}\n\ninterface Coupon {\n  code: string\n  discount: number\n}\n\n// \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ucfe0\ud3f0 \ubaa9\ub85d\nconst AVAILABLE_COUPONS: Coupon[] = [\n  { code: 'SAVE10', discount: 10 },\n  { code: 'SAVE20', discount: 20 },\n  { code: 'SAVE50', discount: 50 }\n]\n\nexport const useCartStore = defineStore('cart', () => {\n  // State\n  const items = ref<CartItem[]>([])\n  const appliedCoupon = ref<Coupon | null>(null)\n\n  // Getters\n  const itemCount = computed(() => {\n    return items.value.reduce((total, item) => total + item.quantity, 0)\n  })\n\n  const subtotal = computed(() => {\n    return items.value.reduce((total, item) => {\n      return total + (item.price * item.quantity)\n    }, 0)\n  })\n\n  const discountAmount = computed(() => {\n    if (!appliedCoupon.value) return 0\n    return subtotal.value * (appliedCoupon.value.discount / 100)\n  })\n\n  const total = computed(() => {\n    return subtotal.value - discountAmount.value\n  })\n\n  const isEmpty = computed(() => items.value.length === 0)\n\n  // Actions\n  function addToCart(product: Product, quantity = 1) {\n    const existingItem = items.value.find(item => item.id === product.id)\n\n    if (existingItem) {\n      existingItem.quantity += quantity\n    } else {\n      items.value.push({\n        ...product,\n        quantity\n      })\n    }\n  }\n\n  function removeFromCart(productId: number) {\n    items.value = items.value.filter(item => item.id !== productId)\n  }\n\n  function updateQuantity(productId: number, quantity: number) {\n    if (quantity <= 0) {\n      removeFromCart(productId)\n      return\n    }\n\n    const item = items.value.find(item => item.id === productId)\n    if (item) {\n      item.quantity = quantity\n    }\n  }\n\n  function applyCoupon(code: string): boolean {\n    const coupon = AVAILABLE_COUPONS.find(\n      c => c.code.toLowerCase() === code.toLowerCase()\n    )\n\n    if (coupon) {\n      appliedCoupon.value = coupon\n      return true\n    }\n\n    return false\n  }\n\n  function removeCoupon() {\n    appliedCoupon.value = null\n  }\n\n  function clearCart() {\n    items.value = []\n    appliedCoupon.value = null\n  }\n\n  function getItemById(productId: number) {\n    return items.value.find(item => item.id === productId)\n  }\n\n  return {\n    // State\n    items,\n    appliedCoupon,\n    // Getters\n    itemCount,\n    subtotal,\n    discountAmount,\n    total,\n    isEmpty,\n    // Actions\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    applyCoupon,\n    removeCoupon,\n    clearCart,\n    getItemById\n  }\n}, {\n  persist: {\n    storage: sessionStorage\n  }\n})\n"})}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'\x3c!-- src/components/ShoppingCart.vue --\x3e\n<template>\n  <div class="shopping-cart">\n    <h2>\uc7a5\ubc14\uad6c\ub2c8 ({{ cartStore.itemCount }}\uac1c)</h2>\n\n    <div v-if="cartStore.isEmpty" class="empty-cart">\n      \uc7a5\ubc14\uad6c\ub2c8\uac00 \ube44\uc5b4\uc788\uc2b5\ub2c8\ub2e4.\n    </div>\n\n    <div v-else>\n      <div class="cart-items">\n        <div\n          v-for="item in cartStore.items"\n          :key="item.id"\n          class="cart-item"\n        >\n          <img :src="item.image" :alt="item.name" class="item-image" />\n\n          <div class="item-details">\n            <h3>{{ item.name }}</h3>\n            <p class="item-price">{{ formatPrice(item.price) }}</p>\n          </div>\n\n          <div class="item-quantity">\n            <button @click="decrementQuantity(item.id)">-</button>\n            <input\n              type="number"\n              :value="item.quantity"\n              @change="handleQuantityChange(item.id, $event)"\n              min="1"\n            />\n            <button @click="incrementQuantity(item.id)">+</button>\n          </div>\n\n          <div class="item-total">\n            {{ formatPrice(item.price * item.quantity) }}\n          </div>\n\n          <button\n            @click="cartStore.removeFromCart(item.id)"\n            class="btn-remove"\n          >\n            \uc0ad\uc81c\n          </button>\n        </div>\n      </div>\n\n      <div class="cart-summary">\n        <div class="coupon-section">\n          <input\n            v-model="couponCode"\n            type="text"\n            placeholder="\ucfe0\ud3f0 \ucf54\ub4dc \uc785\ub825"\n            class="coupon-input"\n          />\n          <button @click="handleApplyCoupon" class="btn-apply-coupon">\n            \uc801\uc6a9\n          </button>\n        </div>\n\n        <div v-if="cartStore.appliedCoupon" class="applied-coupon">\n          <span>\n            \ucfe0\ud3f0 \uc801\uc6a9: {{ cartStore.appliedCoupon.code }}\n            ({{ cartStore.appliedCoupon.discount }}% \ud560\uc778)\n          </span>\n          <button @click="cartStore.removeCoupon()" class="btn-remove-coupon">\n            \uc81c\uac70\n          </button>\n        </div>\n\n        <div class="price-breakdown">\n          <div class="price-row">\n            <span>\uc18c\uacc4:</span>\n            <span>{{ formatPrice(cartStore.subtotal) }}</span>\n          </div>\n\n          <div v-if="cartStore.discountAmount > 0" class="price-row discount">\n            <span>\ud560\uc778:</span>\n            <span>-{{ formatPrice(cartStore.discountAmount) }}</span>\n          </div>\n\n          <div class="price-row total">\n            <span>\ud569\uacc4:</span>\n            <span>{{ formatPrice(cartStore.total) }}</span>\n          </div>\n        </div>\n\n        <div class="cart-actions">\n          <button @click="cartStore.clearCart()" class="btn-clear">\n            \uc7a5\ubc14\uad6c\ub2c8 \ube44\uc6b0\uae30\n          </button>\n          <button @click="handleCheckout" class="btn-checkout">\n            \uacb0\uc81c\ud558\uae30\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { ref } from \'vue\'\nimport { useCartStore } from \'@/stores/cart\'\nimport { useUIStore } from \'@/stores/ui\'\n\nconst cartStore = useCartStore()\nconst uiStore = useUIStore()\nconst couponCode = ref(\'\')\n\nfunction formatPrice(price: number): string {\n  return `\u20a9${price.toLocaleString()}`\n}\n\nfunction incrementQuantity(productId: number) {\n  const item = cartStore.getItemById(productId)\n  if (item) {\n    cartStore.updateQuantity(productId, item.quantity + 1)\n  }\n}\n\nfunction decrementQuantity(productId: number) {\n  const item = cartStore.getItemById(productId)\n  if (item && item.quantity > 1) {\n    cartStore.updateQuantity(productId, item.quantity - 1)\n  }\n}\n\nfunction handleQuantityChange(productId: number, event: Event) {\n  const target = event.target as HTMLInputElement\n  const quantity = parseInt(target.value)\n\n  if (!isNaN(quantity) && quantity > 0) {\n    cartStore.updateQuantity(productId, quantity)\n  }\n}\n\nfunction handleApplyCoupon() {\n  if (!couponCode.value.trim()) {\n    uiStore.showToast(\'\ucfe0\ud3f0 \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694.\', \'warning\')\n    return\n  }\n\n  const success = cartStore.applyCoupon(couponCode.value)\n\n  if (success) {\n    uiStore.showToast(\'\ucfe0\ud3f0\uc774 \uc801\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4!\', \'success\')\n    couponCode.value = \'\'\n  } else {\n    uiStore.showToast(\'\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ucfe0\ud3f0 \ucf54\ub4dc\uc785\ub2c8\ub2e4.\', \'error\')\n  }\n}\n\nfunction handleCheckout() {\n  uiStore.showToast(\'\uacb0\uc81c \uae30\ub2a5\uc740 \uc900\ube44 \uc911\uc785\ub2c8\ub2e4.\', \'info\')\n}\n<\/script>\n\n<style scoped>\n.shopping-cart {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.empty-cart {\n  text-align: center;\n  padding: 60px 20px;\n  color: #666;\n  font-size: 18px;\n}\n\n.cart-items {\n  margin-bottom: 30px;\n}\n\n.cart-item {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  padding: 20px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  margin-bottom: 15px;\n}\n\n.item-image {\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 4px;\n}\n\n.item-details {\n  flex: 1;\n}\n\n.item-details h3 {\n  margin: 0 0 8px 0;\n  font-size: 16px;\n}\n\n.item-price {\n  margin: 0;\n  color: #666;\n}\n\n.item-quantity {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.item-quantity button {\n  width: 30px;\n  height: 30px;\n  border: 1px solid #ddd;\n  background: white;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.item-quantity input {\n  width: 50px;\n  text-align: center;\n  padding: 6px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.item-total {\n  font-weight: bold;\n  min-width: 100px;\n  text-align: right;\n}\n\n.btn-remove {\n  padding: 8px 16px;\n  background: #f56565;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.cart-summary {\n  background: #f7fafc;\n  padding: 24px;\n  border-radius: 8px;\n}\n\n.coupon-section {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n}\n\n.coupon-input {\n  flex: 1;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.btn-apply-coupon {\n  padding: 10px 20px;\n  background: #4299e1;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.applied-coupon {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  background: #c6f6d5;\n  border-radius: 4px;\n  margin-bottom: 20px;\n}\n\n.btn-remove-coupon {\n  padding: 6px 12px;\n  background: #f56565;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.price-breakdown {\n  margin-bottom: 20px;\n}\n\n.price-row {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 0;\n}\n\n.price-row.discount {\n  color: #e53e3e;\n}\n\n.price-row.total {\n  font-size: 20px;\n  font-weight: bold;\n  padding-top: 16px;\n  border-top: 2px solid #ddd;\n  margin-top: 8px;\n}\n\n.cart-actions {\n  display: flex;\n  gap: 12px;\n}\n\n.btn-clear {\n  flex: 1;\n  padding: 12px;\n  background: #718096;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn-checkout {\n  flex: 2;\n  padding: 12px;\n  background: #48bb78;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n}\n\n.btn-checkout:hover {\n  background: #38a169;\n}\n</style>\n'})})]}),"\n",(0,r.jsx)(e.h3,{id:"\ubb38\uc81c-3-notification-store",children:"\ubb38\uc81c 3: Notification Store"}),"\n",(0,r.jsx)(e.p,{children:"\uc2e4\uc2dc\uac04 \uc54c\ub9bc \uc2dc\uc2a4\ud15c\uc744 \uc704\ud55c Notification Store\ub97c \uad6c\ud604\ud558\uc138\uc694:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\uc54c\ub9bc \ucd94\uac00, \uc77d\uc74c \ucc98\ub9ac, \uc0ad\uc81c"}),"\n",(0,r.jsx)(e.li,{children:"\uc77d\uc9c0 \uc54a\uc740 \uc54c\ub9bc \uac1c\uc218"}),"\n",(0,r.jsx)(e.li,{children:"\uc54c\ub9bc \ud0c0\uc785\ubcc4 \ud544\ud130\ub9c1"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\uc694\uad6c\uc0ac\ud56d:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"interface Notification {\n  id: string\n  type: 'info' | 'success' | 'warning' | 'error'\n  title: string\n  message: string\n  read: boolean\n  createdAt: string\n}\n\n// Getters\n- unreadCount: \uc77d\uc9c0 \uc54a\uc740 \uc54c\ub9bc \uac1c\uc218\n- unreadNotifications: \uc77d\uc9c0 \uc54a\uc740 \uc54c\ub9bc \ubaa9\ub85d\n- readNotifications: \uc77d\uc740 \uc54c\ub9bc \ubaa9\ub85d\n\n// Actions\n- addNotification(notification: Omit<Notification, 'id' | 'read' | 'createdAt'>): void\n- markAsRead(id: string): void\n- markAllAsRead(): void\n- deleteNotification(id: string): void\n- clearAll(): void\n"})}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"\ud574\ub2f5"}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// src/stores/notifications.ts\nimport { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\n\nexport interface Notification {\n  id: string\n  type: 'info' | 'success' | 'warning' | 'error'\n  title: string\n  message: string\n  read: boolean\n  createdAt: string\n}\n\nexport const useNotificationsStore = defineStore('notifications', () => {\n  // State\n  const notifications = ref<Notification[]>([])\n  const filterType = ref<Notification['type'] | 'all'>('all')\n\n  // Getters\n  const unreadCount = computed(() => {\n    return notifications.value.filter(n => !n.read).length\n  })\n\n  const unreadNotifications = computed(() => {\n    return notifications.value.filter(n => !n.read)\n  })\n\n  const readNotifications = computed(() => {\n    return notifications.value.filter(n => n.read)\n  })\n\n  const filteredNotifications = computed(() => {\n    if (filterType.value === 'all') {\n      return notifications.value\n    }\n    return notifications.value.filter(n => n.type === filterType.value)\n  })\n\n  const sortedNotifications = computed(() => {\n    return [...filteredNotifications.value].sort((a, b) => {\n      return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n    })\n  })\n\n  // Actions\n  function addNotification(\n    notification: Omit<Notification, 'id' | 'read' | 'createdAt'>\n  ) {\n    const newNotification: Notification = {\n      id: `notif-${Date.now()}-${Math.random()}`,\n      read: false,\n      createdAt: new Date().toISOString(),\n      ...notification\n    }\n\n    notifications.value.unshift(newNotification)\n\n    // \ucd5c\ub300 100\uac1c\uae4c\uc9c0\ub9cc \uc720\uc9c0\n    if (notifications.value.length > 100) {\n      notifications.value = notifications.value.slice(0, 100)\n    }\n  }\n\n  function markAsRead(id: string) {\n    const notification = notifications.value.find(n => n.id === id)\n    if (notification) {\n      notification.read = true\n    }\n  }\n\n  function markAllAsRead() {\n    notifications.value.forEach(n => {\n      n.read = true\n    })\n  }\n\n  function deleteNotification(id: string) {\n    notifications.value = notifications.value.filter(n => n.id !== id)\n  }\n\n  function clearAll() {\n    notifications.value = []\n  }\n\n  function clearRead() {\n    notifications.value = notifications.value.filter(n => !n.read)\n  }\n\n  function setFilter(type: typeof filterType.value) {\n    filterType.value = type\n  }\n\n  // \uc2dc\ubbac\ub808\uc774\uc158: \ub79c\ub364 \uc54c\ub9bc \uc0dd\uc131\n  function simulateNotification() {\n    const types: Notification['type'][] = ['info', 'success', 'warning', 'error']\n    const titles = ['\uc0c8 \uba54\uc2dc\uc9c0', '\uc2dc\uc2a4\ud15c \uc5c5\ub370\uc774\ud2b8', '\uacbd\uace0', '\uc624\ub958 \ubc1c\uc0dd']\n    const messages = [\n      '\uc0c8\ub85c\uc6b4 \uba54\uc2dc\uc9c0\uac00 \ub3c4\ucc29\ud588\uc2b5\ub2c8\ub2e4.',\n      '\uc2dc\uc2a4\ud15c\uc774 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.',\n      '\uc8fc\uc758\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.',\n      '\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.'\n    ]\n\n    const randomIndex = Math.floor(Math.random() * types.length)\n\n    addNotification({\n      type: types[randomIndex],\n      title: titles[randomIndex],\n      message: messages[randomIndex]\n    })\n  }\n\n  return {\n    // State\n    notifications,\n    filterType,\n    // Getters\n    unreadCount,\n    unreadNotifications,\n    readNotifications,\n    filteredNotifications,\n    sortedNotifications,\n    // Actions\n    addNotification,\n    markAsRead,\n    markAllAsRead,\n    deleteNotification,\n    clearAll,\n    clearRead,\n    setFilter,\n    simulateNotification\n  }\n}, {\n  persist: {\n    paths: ['notifications']\n  }\n})\n"})}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-vue",children:'\x3c!-- src/components/NotificationCenter.vue --\x3e\n<template>\n  <div class="notification-center">\n    <div class="notification-header">\n      <h2>\uc54c\ub9bc</h2>\n      <span v-if="notifStore.unreadCount > 0" class="unread-badge">\n        {{ notifStore.unreadCount }}\n      </span>\n    </div>\n\n    <div class="notification-actions">\n      <button @click="notifStore.markAllAsRead()" class="btn-mark-all">\n        \ubaa8\ub450 \uc77d\uc74c\n      </button>\n      <button @click="notifStore.clearRead()" class="btn-clear-read">\n        \uc77d\uc740 \uc54c\ub9bc \uc0ad\uc81c\n      </button>\n      <button @click="notifStore.simulateNotification()" class="btn-test">\n        \ud14c\uc2a4\ud2b8 \uc54c\ub9bc\n      </button>\n    </div>\n\n    <div class="notification-filters">\n      <button\n        :class="{ active: notifStore.filterType === \'all\' }"\n        @click="notifStore.setFilter(\'all\')"\n      >\n        \uc804\uccb4\n      </button>\n      <button\n        :class="{ active: notifStore.filterType === \'info\' }"\n        @click="notifStore.setFilter(\'info\')"\n      >\n        \uc815\ubcf4\n      </button>\n      <button\n        :class="{ active: notifStore.filterType === \'success\' }"\n        @click="notifStore.setFilter(\'success\')"\n      >\n        \uc131\uacf5\n      </button>\n      <button\n        :class="{ active: notifStore.filterType === \'warning\' }"\n        @click="notifStore.setFilter(\'warning\')"\n      >\n        \uacbd\uace0\n      </button>\n      <button\n        :class="{ active: notifStore.filterType === \'error\' }"\n        @click="notifStore.setFilter(\'error\')"\n      >\n        \uc624\ub958\n      </button>\n    </div>\n\n    <div class="notification-list">\n      <div\n        v-if="notifStore.sortedNotifications.length === 0"\n        class="empty-state"\n      >\n        \uc54c\ub9bc\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\n      </div>\n\n      <div\n        v-for="notification in notifStore.sortedNotifications"\n        :key="notification.id"\n        :class="[\'notification-item\', `type-${notification.type}`, { unread: !notification.read }]"\n        @click="notifStore.markAsRead(notification.id)"\n      >\n        <div class="notification-icon">\n          <span v-if="notification.type === \'info\'">\u2139</span>\n          <span v-else-if="notification.type === \'success\'">\u2713</span>\n          <span v-else-if="notification.type === \'warning\'">\u26a0</span>\n          <span v-else>\u2715</span>\n        </div>\n\n        <div class="notification-content">\n          <h4>{{ notification.title }}</h4>\n          <p>{{ notification.message }}</p>\n          <time>{{ formatTime(notification.createdAt) }}</time>\n        </div>\n\n        <button\n          @click.stop="notifStore.deleteNotification(notification.id)"\n          class="btn-delete"\n        >\n          \xd7\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang="ts">\nimport { useNotificationsStore } from \'@/stores/notifications\'\n\nconst notifStore = useNotificationsStore()\n\nfunction formatTime(dateString: string): string {\n  const date = new Date(dateString)\n  const now = new Date()\n  const diffMs = now.getTime() - date.getTime()\n  const diffMins = Math.floor(diffMs / 60000)\n  const diffHours = Math.floor(diffMs / 3600000)\n  const diffDays = Math.floor(diffMs / 86400000)\n\n  if (diffMins < 1) return \'\ubc29\uae08 \uc804\'\n  if (diffMins < 60) return `${diffMins}\ubd84 \uc804`\n  if (diffHours < 24) return `${diffHours}\uc2dc\uac04 \uc804`\n  if (diffDays < 7) return `${diffDays}\uc77c \uc804`\n\n  return date.toLocaleDateString(\'ko-KR\')\n}\n<\/script>\n\n<style scoped>\n.notification-center {\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.notification-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.notification-header h2 {\n  margin: 0;\n}\n\n.unread-badge {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 24px;\n  height: 24px;\n  padding: 0 8px;\n  background: #e53e3e;\n  color: white;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.notification-actions {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n}\n\n.notification-actions button {\n  padding: 8px 16px;\n  border: 1px solid #ddd;\n  background: white;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.notification-actions button:hover {\n  background: #f7fafc;\n}\n\n.notification-filters {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 20px;\n  overflow-x: auto;\n}\n\n.notification-filters button {\n  padding: 8px 16px;\n  border: 1px solid #ddd;\n  background: white;\n  border-radius: 20px;\n  cursor: pointer;\n  white-space: nowrap;\n  font-size: 14px;\n}\n\n.notification-filters button.active {\n  background: #4299e1;\n  color: white;\n  border-color: #4299e1;\n}\n\n.notification-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: #a0aec0;\n}\n\n.notification-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 16px;\n  padding: 16px;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.notification-item:hover {\n  background: #f7fafc;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.notification-item.unread {\n  background: #ebf8ff;\n  border-color: #4299e1;\n}\n\n.notification-icon {\n  flex-shrink: 0;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-size: 20px;\n}\n\n.type-info .notification-icon {\n  background: #bee3f8;\n  color: #2c5282;\n}\n\n.type-success .notification-icon {\n  background: #c6f6d5;\n  color: #22543d;\n}\n\n.type-warning .notification-icon {\n  background: #feebc8;\n  color: #7c2d12;\n}\n\n.type-error .notification-icon {\n  background: #fed7d7;\n  color: #742a2a;\n}\n\n.notification-content {\n  flex: 1;\n}\n\n.notification-content h4 {\n  margin: 0 0 4px 0;\n  font-size: 16px;\n}\n\n.notification-content p {\n  margin: 0 0 8px 0;\n  color: #4a5568;\n  font-size: 14px;\n}\n\n.notification-content time {\n  font-size: 12px;\n  color: #a0aec0;\n}\n\n.btn-delete {\n  flex-shrink: 0;\n  width: 28px;\n  height: 28px;\n  border: none;\n  background: #fed7d7;\n  color: #742a2a;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 20px;\n  line-height: 1;\n}\n\n.btn-delete:hover {\n  background: #fc8181;\n  color: white;\n}\n</style>\n'})})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.p,{children:["\uc774\uc81c Pinia\ub97c \uc0ac\uc6a9\ud55c \ud6a8\uc728\uc801\uc778 \uc0c1\ud0dc \uad00\ub9ac \ubc29\ubc95\uc744 \uc774\ud574\ud558\uc168\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \uc7a5\uc5d0\uc11c\ub294 ",(0,r.jsx)(e.strong,{children:"\ub77c\uc6b0\ud305\uacfc \ub0b4\ube44\uac8c\uc774\uc158"}),"\uc5d0 \ub300\ud574 \ud559\uc2b5\ud558\uaca0\uc2b5\ub2c8\ub2e4."]})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>a});var o=t(6540);const r={},i=o.createContext(r);function s(n){const e=o.useContext(i);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),o.createElement(i.Provider,{value:e},n.children)}}}]);