"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[6049],{1971:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"devops/containerization","title":"\ucee8\ud14c\uc774\ub108\ud654 (Containerization)","description":"\ucee8\ud14c\uc774\ub108\ud654\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \ubaa8\ub4e0 \uc885\uc18d\uc131\uc744 \uaca9\ub9ac\ub41c \ud658\uacbd\uc5d0\uc11c \ud328\ud0a4\uc9d5\ud558\uace0 \uc2e4\ud589\ud558\ub294 \uae30\uc220\uc785\ub2c8\ub2e4. \uc77c\uad00\ub41c \ubc30\ud3ec \ud658\uacbd\uc744 \uc81c\uacf5\ud558\uace0 \uc778\ud504\ub77c \ud6a8\uc728\uc131\uc744 \uadf9\ub300\ud654\ud569\ub2c8\ub2e4.","source":"@site/docs/devops/containerization.md","sourceDirName":"devops","slug":"/devops/containerization","permalink":"/docs/devops/containerization","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/devops/containerization.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"devopsSidebar","previous":{"title":"CI/CD","permalink":"/docs/devops/ci-cd"},"next":{"title":"\ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uad00\ucc30\uc131 (Monitoring & Observability)","permalink":"/docs/devops/monitoring"}}');var l=s(4848),a=s(8453);const i={sidebar_position:8},c="\ucee8\ud14c\uc774\ub108\ud654 (Containerization)",d={},t=[{value:"1. Docker \uae30\ucd08",id:"1-docker-\uae30\ucd08",level:2},{value:"1.1 Docker \uac1c\uc694",id:"11-docker-\uac1c\uc694",level:3},{value:"1.2 \uae30\ubcf8 Docker \uba85\ub839\uc5b4",id:"12-\uae30\ubcf8-docker-\uba85\ub839\uc5b4",level:3},{value:"1.3 \ubcfc\ub968\uacfc \ub124\ud2b8\uc6cc\ud06c",id:"13-\ubcfc\ub968\uacfc-\ub124\ud2b8\uc6cc\ud06c",level:3},{value:"2. Dockerfile \uc791\uc131",id:"2-dockerfile-\uc791\uc131",level:2},{value:"2.1 Dockerfile \uae30\ubcf8 \uad6c\uc870",id:"21-dockerfile-\uae30\ubcf8-\uad6c\uc870",level:3},{value:"2.2 \uc8fc\uc694 Dockerfile \uba85\ub839\uc5b4",id:"22-\uc8fc\uc694-dockerfile-\uba85\ub839\uc5b4",level:3},{value:"2.3 \ub2e4\uc591\ud55c \uc5b8\uc5b4\ubcc4 Dockerfile \uc608\uc2dc",id:"23-\ub2e4\uc591\ud55c-\uc5b8\uc5b4\ubcc4-dockerfile-\uc608\uc2dc",level:3},{value:"Python Flask \uc560\ud50c\ub9ac\ucf00\uc774\uc158",id:"python-flask-\uc560\ud50c\ub9ac\ucf00\uc774\uc158",level:4},{value:"Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158 (\uba40\ud2f0 \uc2a4\ud14c\uc774\uc9c0)",id:"go-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\uba40\ud2f0-\uc2a4\ud14c\uc774\uc9c0",level:4},{value:"Java Spring Boot \uc560\ud50c\ub9ac\ucf00\uc774\uc158",id:"java-spring-boot-\uc560\ud50c\ub9ac\ucf00\uc774\uc158",level:4},{value:"2.4 .dockerignore \ud30c\uc77c",id:"24-dockerignore-\ud30c\uc77c",level:3},{value:"3. Docker Compose",id:"3-docker-compose",level:2},{value:"3.1 Docker Compose \uac1c\uc694",id:"31-docker-compose-\uac1c\uc694",level:3},{value:"3.2 \uae30\ubcf8 docker-compose.yml",id:"32-\uae30\ubcf8-docker-composeyml",level:3},{value:"3.3 Docker Compose \uba85\ub839\uc5b4",id:"33-docker-compose-\uba85\ub839\uc5b4",level:3},{value:"3.4 \uc2e4\uc804 \uc608\uc2dc: \uc804\uccb4 \uc2a4\ud0dd \uc560\ud50c\ub9ac\ucf00\uc774\uc158",id:"34-\uc2e4\uc804-\uc608\uc2dc-\uc804\uccb4-\uc2a4\ud0dd-\uc560\ud50c\ub9ac\ucf00\uc774\uc158",level:3},{value:"4. \uc774\ubbf8\uc9c0 \ucd5c\uc801\ud654",id:"4-\uc774\ubbf8\uc9c0-\ucd5c\uc801\ud654",level:2},{value:"4.1 \uba40\ud2f0 \uc2a4\ud14c\uc774\uc9c0 \ube4c\ub4dc",id:"41-\uba40\ud2f0-\uc2a4\ud14c\uc774\uc9c0-\ube4c\ub4dc",level:3},{value:"4.2 \ub808\uc774\uc5b4 \uce90\uc2f1 \ucd5c\uc801\ud654",id:"42-\ub808\uc774\uc5b4-\uce90\uc2f1-\ucd5c\uc801\ud654",level:3},{value:"4.3 \uc774\ubbf8\uc9c0 \ud06c\uae30 \uc904\uc774\uae30",id:"43-\uc774\ubbf8\uc9c0-\ud06c\uae30-\uc904\uc774\uae30",level:3},{value:"4.4 \ucd5c\uc801\ud654 \uccb4\ud06c\ub9ac\uc2a4\ud2b8",id:"44-\ucd5c\uc801\ud654-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",level:3},{value:"5. Kubernetes \uae30\ucd08",id:"5-kubernetes-\uae30\ucd08",level:2},{value:"5.1 Kubernetes \uac1c\uc694",id:"51-kubernetes-\uac1c\uc694",level:3},{value:"5.2 \uae30\ubcf8 kubectl \uba85\ub839\uc5b4",id:"52-\uae30\ubcf8-kubectl-\uba85\ub839\uc5b4",level:3},{value:"6. Pods, Deployments, Services",id:"6-pods-deployments-services",level:2},{value:"6.1 Pod",id:"61-pod",level:3},{value:"6.2 Deployment",id:"62-deployment",level:3},{value:"6.3 Service",id:"63-service",level:3},{value:"ClusterIP (\uae30\ubcf8\uac12)",id:"clusterip-\uae30\ubcf8\uac12",level:4},{value:"NodePort",id:"nodeport",level:4},{value:"LoadBalancer",id:"loadbalancer",level:4},{value:"6.4 ConfigMap\uacfc Secret",id:"64-configmap\uacfc-secret",level:3},{value:"ConfigMap",id:"configmap",level:4},{value:"Secret",id:"secret",level:4},{value:"Pod\uc5d0\uc11c \uc0ac\uc6a9",id:"pod\uc5d0\uc11c-\uc0ac\uc6a9",level:4},{value:"6.5 \uc804\uccb4 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub9e4\ub2c8\ud398\uc2a4\ud2b8",id:"65-\uc804\uccb4-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\ub9e4\ub2c8\ud398\uc2a4\ud2b8",level:3},{value:"7. Helm",id:"7-helm",level:2},{value:"7.1 Helm \uac1c\uc694",id:"71-helm-\uac1c\uc694",level:3},{value:"7.2 \uae30\ubcf8 Helm \uba85\ub839\uc5b4",id:"72-\uae30\ubcf8-helm-\uba85\ub839\uc5b4",level:3},{value:"7.3 Chart \uad6c\uc870",id:"73-chart-\uad6c\uc870",level:3},{value:"7.4 Chart \uc0dd\uc131",id:"74-chart-\uc0dd\uc131",level:3},{value:"7.5 Chart \uc0ac\uc6a9",id:"75-chart-\uc0ac\uc6a9",level:3},{value:"7.6 \ud658\uacbd\ubcc4 values \ud30c\uc77c",id:"76-\ud658\uacbd\ubcc4-values-\ud30c\uc77c",level:3},{value:"8. \uc2e4\uc804 \uc608\uc2dc",id:"8-\uc2e4\uc804-\uc608\uc2dc",level:2},{value:"8.1 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ubc30\ud3ec",id:"81-\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4-\ubc30\ud3ec",level:3},{value:"8.2 CI/CD \ud30c\uc774\ud504\ub77c\uc778 \ud1b5\ud569",id:"82-cicd-\ud30c\uc774\ud504\ub77c\uc778-\ud1b5\ud569",level:3},{value:"9. \ubaa8\ubc94 \uc0ac\ub840",id:"9-\ubaa8\ubc94-\uc0ac\ub840",level:2},{value:"9.1 Docker \ubaa8\ubc94 \uc0ac\ub840",id:"91-docker-\ubaa8\ubc94-\uc0ac\ub840",level:3},{value:"9.2 Kubernetes \ubaa8\ubc94 \uc0ac\ub840",id:"92-kubernetes-\ubaa8\ubc94-\uc0ac\ub840",level:3},{value:"9.3 \ubcf4\uc548 \ubaa8\ubc94 \uc0ac\ub840",id:"93-\ubcf4\uc548-\ubaa8\ubc94-\uc0ac\ub840",level:3},{value:"10. \uc720\uc6a9\ud55c \ub9ac\uc18c\uc2a4",id:"10-\uc720\uc6a9\ud55c-\ub9ac\uc18c\uc2a4",level:2},{value:"10.1 \uacf5\uc2dd \ubb38\uc11c",id:"101-\uacf5\uc2dd-\ubb38\uc11c",level:3},{value:"10.2 \ud559\uc2b5 \ub9ac\uc18c\uc2a4",id:"102-\ud559\uc2b5-\ub9ac\uc18c\uc2a4",level:3},{value:"10.3 \ub3c4\uad6c",id:"103-\ub3c4\uad6c",level:3}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\ucee8\ud14c\uc774\ub108\ud654-containerization",children:"\ucee8\ud14c\uc774\ub108\ud654 (Containerization)"})}),"\n",(0,l.jsx)(n.p,{children:"\ucee8\ud14c\uc774\ub108\ud654\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \ubaa8\ub4e0 \uc885\uc18d\uc131\uc744 \uaca9\ub9ac\ub41c \ud658\uacbd\uc5d0\uc11c \ud328\ud0a4\uc9d5\ud558\uace0 \uc2e4\ud589\ud558\ub294 \uae30\uc220\uc785\ub2c8\ub2e4. \uc77c\uad00\ub41c \ubc30\ud3ec \ud658\uacbd\uc744 \uc81c\uacf5\ud558\uace0 \uc778\ud504\ub77c \ud6a8\uc728\uc131\uc744 \uadf9\ub300\ud654\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.h2,{id:"1-docker-\uae30\ucd08",children:"1. Docker \uae30\ucd08"}),"\n",(0,l.jsx)(n.h3,{id:"11-docker-\uac1c\uc694",children:"1.1 Docker \uac1c\uc694"}),"\n",(0,l.jsx)(n.p,{children:"Docker\ub294 \ucee8\ud14c\uc774\ub108 \uae30\ubc18 \uac00\uc0c1\ud654 \ud50c\ub7ab\ud3fc\uc73c\ub85c, \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc2e0\uc18d\ud558\uac8c \ube4c\ub4dc, \ud14c\uc2a4\ud2b8 \ubc0f \ubc30\ud3ec\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ud575\uc2ec \uac1c\ub150:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\uc774\ubbf8\uc9c0 (Image)"}),": \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc2e4\ud589\uc5d0 \ud544\uc694\ud55c \ubaa8\ub4e0 \uac83\uc744 \ud3ec\ud568\ud558\ub294 \uc77d\uae30 \uc804\uc6a9 \ud15c\ud50c\ub9bf"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\ucee8\ud14c\uc774\ub108 (Container)"}),": \uc774\ubbf8\uc9c0\uc758 \uc2e4\ud589 \uac00\ub2a5\ud55c \uc778\uc2a4\ud134\uc2a4"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\ub808\uc9c0\uc2a4\ud2b8\ub9ac (Registry)"}),": \uc774\ubbf8\uc9c0\ub97c \uc800\uc7a5\ud558\uace0 \ubc30\ud3ec\ud558\ub294 \uc800\uc7a5\uc18c"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"12-\uae30\ubcf8-docker-\uba85\ub839\uc5b4",children:"1.2 \uae30\ubcf8 Docker \uba85\ub839\uc5b4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \uc774\ubbf8\uc9c0 \uad00\ub9ac\ndocker pull nginx:latest\ndocker images\ndocker rmi <image-id>\n\n# \ucee8\ud14c\uc774\ub108 \uc2e4\ud589\ndocker run -d -p 80:80 --name webserver nginx\ndocker run -it ubuntu /bin/bash\n\n# \ucee8\ud14c\uc774\ub108 \uad00\ub9ac\ndocker ps                    # \uc2e4\ud589 \uc911\uc778 \ucee8\ud14c\uc774\ub108\ndocker ps -a                # \ubaa8\ub4e0 \ucee8\ud14c\uc774\ub108\ndocker stop <container-id>\ndocker start <container-id>\ndocker restart <container-id>\ndocker rm <container-id>\n\n# \ub85c\uadf8 \ubc0f \ub514\ubc84\uae45\ndocker logs <container-id>\ndocker logs -f <container-id>  # \uc2e4\uc2dc\uac04 \ub85c\uadf8\ndocker exec -it <container-id> /bin/bash\ndocker inspect <container-id>\n\n# \ub9ac\uc18c\uc2a4 \uc815\ub9ac\ndocker system prune\ndocker volume prune\ndocker network prune\n"})}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"docker run"}),"\uc5d0\uc11c ",(0,l.jsx)(n.code,{children:"--rm"})," \ud50c\ub798\uadf8\ub97c \uc0ac\uc6a9\ud558\uba74 \ucee8\ud14c\uc774\ub108 \uc885\ub8cc \uc2dc \uc790\ub3d9\uc73c\ub85c \uc0ad\uc81c\ub429\ub2c8\ub2e4."]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker run --rm -it ubuntu /bin/bash\n"})})]}),"\n",(0,l.jsx)(n.h3,{id:"13-\ubcfc\ub968\uacfc-\ub124\ud2b8\uc6cc\ud06c",children:"1.3 \ubcfc\ub968\uacfc \ub124\ud2b8\uc6cc\ud06c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \ubcfc\ub968 \uad00\ub9ac\ndocker volume create mydata\ndocker volume ls\ndocker volume inspect mydata\ndocker run -v mydata:/app/data myapp\n\n# \ubc14\uc778\ub4dc \ub9c8\uc6b4\ud2b8\ndocker run -v /host/path:/container/path myapp\ndocker run -v $(pwd):/app myapp\n\n# \ub124\ud2b8\uc6cc\ud06c \uad00\ub9ac\ndocker network create mynetwork\ndocker network ls\ndocker network inspect mynetwork\ndocker run --network mynetwork myapp\n"})}),"\n",(0,l.jsx)(n.h2,{id:"2-dockerfile-\uc791\uc131",children:"2. Dockerfile \uc791\uc131"}),"\n",(0,l.jsx)(n.h3,{id:"21-dockerfile-\uae30\ubcf8-\uad6c\uc870",children:"2.1 Dockerfile \uae30\ubcf8 \uad6c\uc870"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'# \ubca0\uc774\uc2a4 \uc774\ubbf8\uc9c0 \uc9c0\uc815\nFROM node:18-alpine\n\n# \uba54\ud0c0\ub370\uc774\ud130 \ucd94\uac00\nLABEL maintainer="dev@example.com"\nLABEL version="1.0"\n\n# \uc791\uc5c5 \ub514\ub809\ud1a0\ub9ac \uc124\uc815\nWORKDIR /app\n\n# \uc758\uc874\uc131 \ud30c\uc77c \ubcf5\uc0ac \ubc0f \uc124\uce58\nCOPY package*.json ./\nRUN npm ci --only=production\n\n# \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc18c\uc2a4 \ubcf5\uc0ac\nCOPY . .\n\n# \ud658\uacbd \ubcc0\uc218 \uc124\uc815\nENV NODE_ENV=production\nENV PORT=3000\n\n# \ud3ec\ud2b8 \ub178\ucd9c\nEXPOSE 3000\n\n# \uc2e4\ud589 \uc0ac\uc6a9\uc790 \uc9c0\uc815\nUSER node\n\n# \ucee8\ud14c\uc774\ub108 \uc2dc\uc791 \uba85\ub839\nCMD ["node", "server.js"]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"22-\uc8fc\uc694-dockerfile-\uba85\ub839\uc5b4",children:"2.2 \uc8fc\uc694 Dockerfile \uba85\ub839\uc5b4"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\uba85\ub839\uc5b4"}),(0,l.jsx)(n.th,{children:"\uc124\uba85"}),(0,l.jsx)(n.th,{children:"\uc608\uc2dc"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FROM"})}),(0,l.jsx)(n.td,{children:"\ubca0\uc774\uc2a4 \uc774\ubbf8\uc9c0 \uc9c0\uc815"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FROM ubuntu:20.04"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RUN"})}),(0,l.jsx)(n.td,{children:"\ube4c\ub4dc \uc2dc \uba85\ub839 \uc2e4\ud589"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"RUN apt-get update"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"COPY"})}),(0,l.jsx)(n.td,{children:"\ud30c\uc77c/\ub514\ub809\ud1a0\ub9ac \ubcf5\uc0ac"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"COPY . /app"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ADD"})}),(0,l.jsx)(n.td,{children:"\ud30c\uc77c \ubcf5\uc0ac (URL, tar \uc790\ub3d9 \ud574\uc81c)"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ADD archive.tar.gz /app"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"WORKDIR"})}),(0,l.jsx)(n.td,{children:"\uc791\uc5c5 \ub514\ub809\ud1a0\ub9ac \uc124\uc815"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"WORKDIR /app"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ENV"})}),(0,l.jsx)(n.td,{children:"\ud658\uacbd \ubcc0\uc218 \uc124\uc815"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ENV DEBUG=true"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"EXPOSE"})}),(0,l.jsx)(n.td,{children:"\ud3ec\ud2b8 \ub178\ucd9c \uc120\uc5b8"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"EXPOSE 8080"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CMD"})}),(0,l.jsx)(n.td,{children:"\uae30\ubcf8 \uc2e4\ud589 \uba85\ub839"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'CMD ["npm", "start"]'})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ENTRYPOINT"})}),(0,l.jsx)(n.td,{children:"\uc2e4\ud589 \uc9c4\uc785\uc810 \uc124\uc815"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'ENTRYPOINT ["python"]'})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ARG"})}),(0,l.jsx)(n.td,{children:"\ube4c\ub4dc \ud0c0\uc784 \ubcc0\uc218"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ARG VERSION=1.0"})})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"23-\ub2e4\uc591\ud55c-\uc5b8\uc5b4\ubcc4-dockerfile-\uc608\uc2dc",children:"2.3 \ub2e4\uc591\ud55c \uc5b8\uc5b4\ubcc4 Dockerfile \uc608\uc2dc"}),"\n",(0,l.jsx)(n.h4,{id:"python-flask-\uc560\ud50c\ub9ac\ucf00\uc774\uc158",children:"Python Flask \uc560\ud50c\ub9ac\ucf00\uc774\uc158"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'FROM python:3.11-slim\n\nWORKDIR /app\n\n# \uc2dc\uc2a4\ud15c \uc758\uc874\uc131 \uc124\uce58\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends gcc && \\\n    rm -rf /var/lib/apt/lists/*\n\n# Python \uc758\uc874\uc131 \uc124\uce58\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucf54\ub4dc \ubcf5\uc0ac\nCOPY . .\n\n# \ube44root \uc0ac\uc6a9\uc790 \uc0dd\uc131\nRUN useradd -m -u 1000 appuser && \\\n    chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 5000\n\nCMD ["gunicorn", "--bind", "0.0.0.0:5000", "app:app"]\n'})}),"\n",(0,l.jsx)(n.h4,{id:"go-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\uba40\ud2f0-\uc2a4\ud14c\uc774\uc9c0",children:"Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158 (\uba40\ud2f0 \uc2a4\ud14c\uc774\uc9c0)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'# \ube4c\ub4dc \uc2a4\ud14c\uc774\uc9c0\nFROM golang:1.21-alpine AS builder\n\nWORKDIR /build\n\nCOPY go.mod go.sum ./\nRUN go mod download\n\nCOPY . .\nRUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main .\n\n# \uc2e4\ud589 \uc2a4\ud14c\uc774\uc9c0\nFROM alpine:latest\n\nRUN apk --no-cache add ca-certificates\n\nWORKDIR /root/\n\nCOPY --from=builder /build/main .\n\nEXPOSE 8080\n\nCMD ["./main"]\n'})}),"\n",(0,l.jsx)(n.h4,{id:"java-spring-boot-\uc560\ud50c\ub9ac\ucf00\uc774\uc158",children:"Java Spring Boot \uc560\ud50c\ub9ac\ucf00\uc774\uc158"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'FROM eclipse-temurin:17-jdk-alpine AS build\n\nWORKDIR /workspace/app\n\nCOPY mvnw .\nCOPY .mvn .mvn\nCOPY pom.xml .\nCOPY src src\n\nRUN ./mvnw package -DskipTests\n\nFROM eclipse-temurin:17-jre-alpine\n\nVOLUME /tmp\n\nARG JAR_FILE=/workspace/app/target/*.jar\nCOPY --from=build ${JAR_FILE} app.jar\n\nENTRYPOINT ["java", "-jar", "/app.jar"]\n'})}),"\n",(0,l.jsx)(n.admonition,{type:"warning",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"COPY"}),"\uc640 ",(0,l.jsx)(n.code,{children:"ADD"}),"\uc758 \ucc28\uc774\ub97c \uc774\ud574\ud558\uc138\uc694. \uc77c\ubc18\uc801\uc73c\ub85c ",(0,l.jsx)(n.code,{children:"COPY"}),"\ub97c \uc0ac\uc6a9\ud558\uace0, tar \ud30c\uc77c \uc790\ub3d9 \ud574\uc81c\ub098 URL \ub2e4\uc6b4\ub85c\ub4dc\uac00 \ud544\uc694\ud55c \uacbd\uc6b0\uc5d0\ub9cc ",(0,l.jsx)(n.code,{children:"ADD"}),"\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]})}),"\n",(0,l.jsx)(n.h3,{id:"24-dockerignore-\ud30c\uc77c",children:"2.4 .dockerignore \ud30c\uc77c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-plaintext",children:"# .dockerignore\nnode_modules\nnpm-debug.log\n.git\n.gitignore\n.env\n.env.local\n*.md\nDockerfile\ndocker-compose.yml\n.dockerignore\ndist\ncoverage\n.vscode\n.idea\n*.log\n"})}),"\n",(0,l.jsx)(n.h2,{id:"3-docker-compose",children:"3. Docker Compose"}),"\n",(0,l.jsx)(n.h3,{id:"31-docker-compose-\uac1c\uc694",children:"3.1 Docker Compose \uac1c\uc694"}),"\n",(0,l.jsx)(n.p,{children:"Docker Compose\ub294 \uc5ec\ub7ec \ucee8\ud14c\uc774\ub108 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc815\uc758\ud558\uace0 \uc2e4\ud589\ud558\uae30 \uc704\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.h3,{id:"32-\uae30\ubcf8-docker-composeyml",children:"3.2 \uae30\ubcf8 docker-compose.yml"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"version: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=production\n      - DATABASE_URL=postgresql://db:5432/myapp\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - ./logs:/app/logs\n    networks:\n      - app-network\n\n  db:\n    image: postgres:15-alpine\n    environment:\n      - POSTGRES_USER=myuser\n      - POSTGRES_PASSWORD=mypassword\n      - POSTGRES_DB=myapp\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    networks:\n      - app-network\n\n  redis:\n    image: redis:7-alpine\n    networks:\n      - app-network\n\nvolumes:\n  postgres-data:\n\nnetworks:\n  app-network:\n    driver: bridge\n"})}),"\n",(0,l.jsx)(n.h3,{id:"33-docker-compose-\uba85\ub839\uc5b4",children:"3.3 Docker Compose \uba85\ub839\uc5b4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \uc11c\ube44\uc2a4 \uc2dc\uc791\ndocker-compose up\ndocker-compose up -d           # \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2e4\ud589\ndocker-compose up --build      # \uc774\ubbf8\uc9c0 \uc7ac\ube4c\ub4dc\n\n# \uc11c\ube44\uc2a4 \uc911\uc9c0\ndocker-compose down\ndocker-compose down -v         # \ubcfc\ub968\ub3c4 \uc0ad\uc81c\n\n# \uc11c\ube44\uc2a4 \uad00\ub9ac\ndocker-compose ps\ndocker-compose logs\ndocker-compose logs -f web\ndocker-compose exec web /bin/sh\n\n# \uc2a4\ucf00\uc77c\ub9c1\ndocker-compose up -d --scale web=3\n"})}),"\n",(0,l.jsx)(n.h3,{id:"34-\uc2e4\uc804-\uc608\uc2dc-\uc804\uccb4-\uc2a4\ud0dd-\uc560\ud50c\ub9ac\ucf00\uc774\uc158",children:"3.4 \uc2e4\uc804 \uc608\uc2dc: \uc804\uccb4 \uc2a4\ud0dd \uc560\ud50c\ub9ac\ucf00\uc774\uc158"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'version: \'3.8\'\n\nservices:\n  # Nginx \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc\n  nginx:\n    image: nginx:alpine\n    ports:\n      - "80:80"\n      - "443:443"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n    depends_on:\n      - frontend\n      - backend\n    networks:\n      - app-network\n\n  # React \ud504\ub860\ud2b8\uc5d4\ub4dc\n  frontend:\n    build:\n      context: ./frontend\n      dockerfile: Dockerfile\n      args:\n        - REACT_APP_API_URL=${API_URL}\n    environment:\n      - NODE_ENV=production\n    networks:\n      - app-network\n\n  # Node.js \ubc31\uc5d4\ub4dc\n  backend:\n    build: ./backend\n    environment:\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379\n      - JWT_SECRET=${JWT_SECRET}\n    depends_on:\n      - db\n      - redis\n    networks:\n      - app-network\n\n  # PostgreSQL \ub370\uc774\ud130\ubca0\uc774\uc2a4\n  db:\n    image: postgres:15-alpine\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n      - POSTGRES_DB=myapp\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n      - ./init.sql:/docker-entrypoint-initdb.d/init.sql\n    networks:\n      - app-network\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready -U postgres"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  # Redis \uce90\uc2dc\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis-data:/data\n    networks:\n      - app-network\n\nvolumes:\n  postgres-data:\n  redis-data:\n\nnetworks:\n  app-network:\n    driver: bridge\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsxs)(n.p,{children:["\ud658\uacbd \ubcc0\uc218\ub97c ",(0,l.jsx)(n.code,{children:".env"})," \ud30c\uc77c\ub85c \uad00\ub9ac\ud558\uc138\uc694:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# .env\nAPI_URL=https://api.example.com\nJWT_SECRET=your-secret-key\n"})}),(0,l.jsx)(n.p,{children:"Docker Compose\uac00 \uc790\ub3d9\uc73c\ub85c \ub85c\ub4dc\ud569\ub2c8\ub2e4."})]}),"\n",(0,l.jsx)(n.h2,{id:"4-\uc774\ubbf8\uc9c0-\ucd5c\uc801\ud654",children:"4. \uc774\ubbf8\uc9c0 \ucd5c\uc801\ud654"}),"\n",(0,l.jsx)(n.h3,{id:"41-\uba40\ud2f0-\uc2a4\ud14c\uc774\uc9c0-\ube4c\ub4dc",children:"4.1 \uba40\ud2f0 \uc2a4\ud14c\uc774\uc9c0 \ube4c\ub4dc"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'# ===== \ube4c\ub4dc \uc2a4\ud14c\uc774\uc9c0 =====\nFROM node:18 AS builder\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm ci\n\nCOPY . .\nRUN npm run build\n\n# ===== \ud504\ub85c\ub355\uc158 \uc2a4\ud14c\uc774\uc9c0 =====\nFROM node:18-alpine\n\nWORKDIR /app\n\n# \ud504\ub85c\ub355\uc158 \uc758\uc874\uc131\ub9cc \uc124\uce58\nCOPY package*.json ./\nRUN npm ci --only=production\n\n# \ube4c\ub4dc \uacb0\uacfc\ubb3c\ub9cc \ubcf5\uc0ac\nCOPY --from=builder /app/dist ./dist\n\nUSER node\n\nCMD ["node", "dist/main.js"]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"42-\ub808\uc774\uc5b4-\uce90\uc2f1-\ucd5c\uc801\ud654",children:"4.2 \ub808\uc774\uc5b4 \uce90\uc2f1 \ucd5c\uc801\ud654"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'# \u274c \ube44\ud6a8\uc728\uc801 - \uc18c\uc2a4 \ubcc0\uacbd \uc2dc \uc758\uc874\uc131 \uc7ac\uc124\uce58\nFROM node:18-alpine\nWORKDIR /app\nCOPY . .\nRUN npm install\nCMD ["npm", "start"]\n\n# \u2705 \ud6a8\uc728\uc801 - \uc758\uc874\uc131 \uce90\uc2f1 \ud65c\uc6a9\nFROM node:18-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nCMD ["npm", "start"]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"43-\uc774\ubbf8\uc9c0-\ud06c\uae30-\uc904\uc774\uae30",children:"4.3 \uc774\ubbf8\uc9c0 \ud06c\uae30 \uc904\uc774\uae30"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:"FROM node:18-alpine  # alpine \uae30\ubc18 \uc774\ubbf8\uc9c0 \uc0ac\uc6a9\n\n# \ubd88\ud544\uc694\ud55c \ud30c\uc77c \uc81c\uac70\nRUN apk add --no-cache python3 make g++ && \\\n    npm ci --only=production && \\\n    apk del python3 make g++\n\n# .dockerignore \ud65c\uc6a9\n# - node_modules, .git, \ud14c\uc2a4\ud2b8 \ud30c\uc77c \ub4f1 \uc81c\uc678\n\n# \ub2e8\uc77c RUN \uba85\ub839\uc73c\ub85c \ub808\uc774\uc5b4 \ucd5c\uc18c\ud654\nRUN apt-get update && \\\n    apt-get install -y curl && \\\n    rm -rf /var/lib/apt/lists/*\n"})}),"\n",(0,l.jsx)(n.h3,{id:"44-\ucd5c\uc801\ud654-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",children:"4.4 \ucd5c\uc801\ud654 \uccb4\ud06c\ub9ac\uc2a4\ud2b8"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u2705 Alpine Linux \uae30\ubc18 \uc774\ubbf8\uc9c0 \uc0ac\uc6a9"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 \uba40\ud2f0 \uc2a4\ud14c\uc774\uc9c0 \ube4c\ub4dc \ud65c\uc6a9"}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.code,{children:".dockerignore"})," \ud30c\uc77c \uc791\uc131"]}),"\n",(0,l.jsx)(n.li,{children:"\u2705 \ub808\uc774\uc5b4 \uce90\uc2f1 \ucd5c\uc801\ud654"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 \ubd88\ud544\uc694\ud55c \ud328\ud0a4\uc9c0 \uc81c\uac70"}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.code,{children:"--no-cache-dir"})," \uc635\uc158 \uc0ac\uc6a9"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 \ub2e8\uc77c ",(0,l.jsx)(n.code,{children:"RUN"})," \uba85\ub839\uc73c\ub85c \uc5ec\ub7ec \uc791\uc5c5 \uc218\ud589"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \uc774\ubbf8\uc9c0 \ud06c\uae30 \ud655\uc778\ndocker images\n\n# \uc774\ubbf8\uc9c0 \ub808\uc774\uc5b4 \ubd84\uc11d\ndocker history <image-name>\n\n# \uc0c1\uc138 \ubd84\uc11d \ub3c4\uad6c\ndocker run --rm -it -v /var/run/docker.sock:/var/run/docker.sock \\\n  wagoodman/dive:latest <image-name>\n"})}),"\n",(0,l.jsx)(n.h2,{id:"5-kubernetes-\uae30\ucd08",children:"5. Kubernetes \uae30\ucd08"}),"\n",(0,l.jsx)(n.h3,{id:"51-kubernetes-\uac1c\uc694",children:"5.1 Kubernetes \uac1c\uc694"}),"\n",(0,l.jsx)(n.p,{children:"Kubernetes(K8s)\ub294 \ucee8\ud14c\uc774\ub108\ud654\ub41c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \ubc30\ud3ec, \uc2a4\ucf00\uc77c\ub9c1, \uad00\ub9ac\ub97c \uc790\ub3d9\ud654\ud558\ub294 \uc624\ud508\uc18c\uc2a4 \ud50c\ub7ab\ud3fc\uc785\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ud575\uc2ec \uad6c\uc131 \uc694\uc18c:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Master Node"}),": \ud074\ub7ec\uc2a4\ud130 \uad00\ub9ac (API Server, Scheduler, Controller Manager, etcd)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Worker Node"}),": \uc2e4\uc81c \uc6cc\ud06c\ub85c\ub4dc \uc2e4\ud589 (kubelet, kube-proxy, Container Runtime)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"kubectl"}),": Kubernetes CLI \ub3c4\uad6c"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"52-\uae30\ubcf8-kubectl-\uba85\ub839\uc5b4",children:"5.2 \uae30\ubcf8 kubectl \uba85\ub839\uc5b4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \ud074\ub7ec\uc2a4\ud130 \uc815\ubcf4\nkubectl cluster-info\nkubectl get nodes\nkubectl describe node <node-name>\n\n# \ub9ac\uc18c\uc2a4 \uc870\ud68c\nkubectl get pods\nkubectl get pods -n <namespace>\nkubectl get pods --all-namespaces\nkubectl get deployments\nkubectl get services\nkubectl get all\n\n# \uc0c1\uc138 \uc815\ubcf4\nkubectl describe pod <pod-name>\nkubectl logs <pod-name>\nkubectl logs -f <pod-name>          # \uc2e4\uc2dc\uac04 \ub85c\uadf8\nkubectl logs <pod-name> -c <container-name>\n\n# \uc2e4\ud589 \uc911\uc778 Pod\uc5d0 \uc811\uc18d\nkubectl exec -it <pod-name> -- /bin/sh\nkubectl exec -it <pod-name> -c <container-name> -- /bin/bash\n\n# \ub9ac\uc18c\uc2a4 \uc0dd\uc131/\uc0ad\uc81c\nkubectl apply -f manifest.yaml\nkubectl delete -f manifest.yaml\nkubectl delete pod <pod-name>\n\n# \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \uad00\ub9ac\nkubectl create namespace dev\nkubectl get namespaces\nkubectl config set-context --current --namespace=dev\n"})}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"kubectl"}),"\uc744 ",(0,l.jsx)(n.code,{children:"k"}),"\ub85c \ucd95\uc57d\ud558\uc5ec \uc0ac\uc6a9\ud558\uc138\uc694:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"alias k=kubectl\nk get pods\n"})})]}),"\n",(0,l.jsx)(n.h2,{id:"6-pods-deployments-services",children:"6. Pods, Deployments, Services"}),"\n",(0,l.jsx)(n.h3,{id:"61-pod",children:"6.1 Pod"}),"\n",(0,l.jsx)(n.p,{children:"Pod\uc740 Kubernetes\uc5d0\uc11c \ubc30\ud3ec\ud560 \uc218 \uc788\ub294 \uac00\uc7a5 \uc791\uc740 \ub2e8\uc704\uc785\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-pod\n  labels:\n    app: nginx\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.25\n    ports:\n    - containerPort: 80\n    env:\n    - name: ENVIRONMENT\n      value: "production"\n    resources:\n      requests:\n        memory: "64Mi"\n        cpu: "250m"\n      limits:\n        memory: "128Mi"\n        cpu: "500m"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"62-deployment",children:"6.2 Deployment"}),"\n",(0,l.jsx)(n.p,{children:"Deployment\ub294 Pod\uc758 \uc120\uc5b8\uc801 \uc5c5\ub370\uc774\ud2b8\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-deployment\n  labels:\n    app: web\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: web\n  template:\n    metadata:\n      labels:\n        app: web\n    spec:\n      containers:\n      - name: web\n        image: myapp:1.0.0\n        ports:\n        - containerPort: 3000\n        env:\n        - name: DATABASE_URL\n          valueFrom:\n            secretKeyRef:\n              name: db-secret\n              key: url\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 3000\n          initialDelaySeconds: 30\n          periodSeconds: 10\n        readinessProbe:\n          httpGet:\n            path: /ready\n            Port: 3000\n          initialDelaySeconds: 5\n          periodSeconds: 5\n        resources:\n          requests:\n            memory: "256Mi"\n            cpu: "500m"\n          limits:\n            memory: "512Mi"\n            cpu: "1000m"\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Deployment \uad00\ub9ac:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Deployment \uc2a4\ucf00\uc77c\ub9c1\nkubectl scale deployment web-deployment --replicas=5\n\n# \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8\nkubectl set image deployment/web-deployment web=myapp:1.1.0\n\n# \ub864\uc544\uc6c3 \uc0c1\ud0dc \ud655\uc778\nkubectl rollout status deployment/web-deployment\n\n# \ub864\uc544\uc6c3 \ud788\uc2a4\ud1a0\ub9ac\nkubectl rollout history deployment/web-deployment\n\n# \uc774\uc804 \ubc84\uc804\uc73c\ub85c \ub864\ubc31\nkubectl rollout undo deployment/web-deployment\nkubectl rollout undo deployment/web-deployment --to-revision=2\n"})}),"\n",(0,l.jsx)(n.h3,{id:"63-service",children:"6.3 Service"}),"\n",(0,l.jsx)(n.p,{children:"Service\ub294 Pod \uadf8\ub8f9\uc5d0 \ub300\ud55c \uc548\uc815\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c \uc5d4\ub4dc\ud3ec\uc778\ud2b8\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.h4,{id:"clusterip-\uae30\ubcf8\uac12",children:"ClusterIP (\uae30\ubcf8\uac12)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: web-service\nspec:\n  type: ClusterIP\n  selector:\n    app: web\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 3000\n"})}),"\n",(0,l.jsx)(n.h4,{id:"nodeport",children:"NodePort"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: web-nodeport\nspec:\n  type: NodePort\n  selector:\n    app: web\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 3000\n    nodePort: 30080\n"})}),"\n",(0,l.jsx)(n.h4,{id:"loadbalancer",children:"LoadBalancer"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: web-loadbalancer\nspec:\n  type: LoadBalancer\n  selector:\n    app: web\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 3000\n"})}),"\n",(0,l.jsx)(n.h3,{id:"64-configmap\uacfc-secret",children:"6.4 ConfigMap\uacfc Secret"}),"\n",(0,l.jsx)(n.h4,{id:"configmap",children:"ConfigMap"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: app-config\ndata:\n  DATABASE_HOST: postgres.default.svc.cluster.local\n  DATABASE_PORT: "5432"\n  LOG_LEVEL: info\n  config.json: |\n    {\n      "feature_flags": {\n        "new_ui": true,\n        "beta_features": false\n      }\n    }\n'})}),"\n",(0,l.jsx)(n.h4,{id:"secret",children:"Secret"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Secret\nmetadata:\n  name: db-secret\ntype: Opaque\ndata:\n  username: YWRtaW4=        # base64 \uc778\ucf54\ub529\n  password: cGFzc3dvcmQ=    # base64 \uc778\ucf54\ub529\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Secret \uc0dd\uc131\nkubectl create secret generic db-secret \\\n  --from-literal=username=admin \\\n  --from-literal=password=password\n\n# Secret \uc0ac\uc6a9\nkubectl get secret db-secret -o yaml\n"})}),"\n",(0,l.jsx)(n.h4,{id:"pod\uc5d0\uc11c-\uc0ac\uc6a9",children:"Pod\uc5d0\uc11c \uc0ac\uc6a9"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: app-pod\nspec:\n  containers:\n  - name: app\n    image: myapp:1.0.0\n    envFrom:\n    - configMapRef:\n        name: app-config\n    env:\n    - name: DB_USERNAME\n      valueFrom:\n        secretKeyRef:\n          name: db-secret\n          key: username\n    - name: DB_PASSWORD\n      valueFrom:\n        secretKeyRef:\n          name: db-secret\n          key: password\n    volumeMounts:\n    - name: config\n      mountPath: /etc/config\n  volumes:\n  - name: config\n    configMap:\n      name: app-config\n"})}),"\n",(0,l.jsx)(n.admonition,{type:"warning",children:(0,l.jsxs)(n.p,{children:["Secret\uc740 base64\ub85c \uc778\ucf54\ub529\ub418\uc9c0\ub9cc \uc554\ud638\ud654\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ubbfc\uac10\ud55c \ub370\uc774\ud130\ub294 ",(0,l.jsx)(n.code,{children:"external-secrets"}),", ",(0,l.jsx)(n.code,{children:"sealed-secrets"}),", \ub610\ub294 \ud074\ub77c\uc6b0\ub4dc \uc81c\uacf5\uc790\uc758 \ube44\ubc00 \uad00\ub9ac \uc11c\ube44\uc2a4\ub97c \uc0ac\uc6a9\ud558\uc138\uc694."]})}),"\n",(0,l.jsx)(n.h3,{id:"65-\uc804\uccb4-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\ub9e4\ub2c8\ud398\uc2a4\ud2b8",children:"6.5 \uc804\uccb4 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub9e4\ub2c8\ud398\uc2a4\ud2b8"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'# namespace.yaml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: myapp\n\n---\n# configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: app-config\n  namespace: myapp\ndata:\n  REDIS_HOST: redis-service\n  REDIS_PORT: "6379"\n\n---\n# secret.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: app-secret\n  namespace: myapp\ntype: Opaque\nstringData:\n  DATABASE_URL: postgresql://user:pass@postgres:5432/db\n\n---\n# deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-deployment\n  namespace: myapp\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: web\n  template:\n    metadata:\n      labels:\n        app: web\n    spec:\n      containers:\n      - name: web\n        image: myapp:latest\n        ports:\n        - containerPort: 3000\n        envFrom:\n        - configMapRef:\n            name: app-config\n        - secretRef:\n            name: app-secret\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 3000\n          initialDelaySeconds: 30\n        readinessProbe:\n          httpGet:\n            path: /ready\n            port: 3000\n          initialDelaySeconds: 10\n\n---\n# service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: web-service\n  namespace: myapp\nspec:\n  selector:\n    app: web\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 3000\n  type: LoadBalancer\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \uc804\uccb4 \ubc30\ud3ec\nkubectl apply -f namespace.yaml\nkubectl apply -f configmap.yaml\nkubectl apply -f secret.yaml\nkubectl apply -f deployment.yaml\nkubectl apply -f service.yaml\n\n# \ub610\ub294 \ub514\ub809\ud1a0\ub9ac \uc804\uccb4 \uc801\uc6a9\nkubectl apply -f k8s/\n"})}),"\n",(0,l.jsx)(n.h2,{id:"7-helm",children:"7. Helm"}),"\n",(0,l.jsx)(n.h3,{id:"71-helm-\uac1c\uc694",children:"7.1 Helm \uac1c\uc694"}),"\n",(0,l.jsx)(n.p,{children:"Helm\uc740 Kubernetes \ud328\ud0a4\uc9c0 \ub9e4\ub2c8\uc800\ub85c, \ubcf5\uc7a1\ud55c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc27d\uac8c \ubc30\ud3ec\ud558\uace0 \uad00\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ud575\uc2ec \uac1c\ub150:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Chart"}),": Kubernetes \ub9ac\uc18c\uc2a4\ub97c \ud328\ud0a4\uc9d5\ud55c \uac83"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Release"}),": Chart\uc758 \ubc30\ud3ec \uc778\uc2a4\ud134\uc2a4"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Repository"}),": Chart\ub97c \uc800\uc7a5\ud558\uace0 \uacf5\uc720\ud558\ub294 \uc800\uc7a5\uc18c"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"72-\uae30\ubcf8-helm-\uba85\ub839\uc5b4",children:"7.2 \uae30\ubcf8 Helm \uba85\ub839\uc5b4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Helm \uc124\uce58 \ud655\uc778\nhelm version\n\n# \uc800\uc7a5\uc18c \ucd94\uac00\nhelm repo add stable https://charts.helm.sh/stable\nhelm repo add bitnami https://charts.bitnami.com/bitnami\nhelm repo update\n\n# Chart \uac80\uc0c9\nhelm search repo nginx\nhelm search hub wordpress\n\n# Chart \uc815\ubcf4 \ud655\uc778\nhelm show chart bitnami/nginx\nhelm show values bitnami/nginx\n\n# Chart \uc124\uce58\nhelm install myrelease bitnami/nginx\nhelm install myrelease bitnami/nginx --namespace dev --create-namespace\nhelm install myrelease bitnami/nginx --values custom-values.yaml\n\n# Release \uad00\ub9ac\nhelm list\nhelm list --all-namespaces\nhelm status myrelease\nhelm get values myrelease\n\n# Release \uc5c5\uadf8\ub808\uc774\ub4dc\nhelm upgrade myrelease bitnami/nginx\nhelm upgrade myrelease bitnami/nginx --set replicaCount=3\n\n# Release \ub864\ubc31\nhelm rollback myrelease\nhelm rollback myrelease 1\n\n# Release \uc0ad\uc81c\nhelm uninstall myrelease\n"})}),"\n",(0,l.jsx)(n.h3,{id:"73-chart-\uad6c\uc870",children:"7.3 Chart \uad6c\uc870"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-plaintext",children:"mychart/\n\u251c\u2500\u2500 Chart.yaml          # Chart \uba54\ud0c0\ub370\uc774\ud130\n\u251c\u2500\u2500 values.yaml         # \uae30\ubcf8 \uc124\uc815 \uac12\n\u251c\u2500\u2500 charts/             # \uc758\uc874\uc131 Chart\n\u251c\u2500\u2500 templates/          # Kubernetes \ub9e4\ub2c8\ud398\uc2a4\ud2b8 \ud15c\ud50c\ub9bf\n\u2502   \u251c\u2500\u2500 deployment.yaml\n\u2502   \u251c\u2500\u2500 service.yaml\n\u2502   \u251c\u2500\u2500 ingress.yaml\n\u2502   \u251c\u2500\u2500 _helpers.tpl   # \ud15c\ud50c\ub9bf \ud5ec\ud37c\n\u2502   \u2514\u2500\u2500 NOTES.txt      # \uc124\uce58 \ud6c4 \uc548\ub0b4 \uba54\uc2dc\uc9c0\n\u2514\u2500\u2500 .helmignore        # \ud328\ud0a4\uc9d5 \uc2dc \uc81c\uc678\ud560 \ud30c\uc77c\n"})}),"\n",(0,l.jsx)(n.h3,{id:"74-chart-\uc0dd\uc131",children:"7.4 Chart \uc0dd\uc131"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \uc0c8 Chart \uc0dd\uc131\nhelm create mychart\ncd mychart\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Chart.yaml"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v2\nname: mychart\ndescription: A Helm chart for my application\ntype: application\nversion: 0.1.0\nappVersion: "1.0.0"\nmaintainers:\n  - name: Developer\n    email: dev@example.com\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"values.yaml"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'replicaCount: 3\n\nimage:\n  repository: myapp\n  pullPolicy: IfNotPresent\n  tag: "1.0.0"\n\nservice:\n  type: ClusterIP\n  port: 80\n  targetPort: 3000\n\ningress:\n  enabled: true\n  className: nginx\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n  hosts:\n    - host: myapp.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - secretName: myapp-tls\n      hosts:\n        - myapp.example.com\n\nresources:\n  limits:\n    cpu: 500m\n    memory: 512Mi\n  requests:\n    cpu: 250m\n    memory: 256Mi\n\nautoscaling:\n  enabled: true\n  minReplicas: 2\n  maxReplicas: 10\n  targetCPUUtilizationPercentage: 80\n\nenv:\n  - name: NODE_ENV\n    value: production\n  - name: LOG_LEVEL\n    value: info\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"templates/deployment.yaml"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ include "mychart.fullname" . }}\n  labels:\n    {{- include "mychart.labels" . | nindent 4 }}\nspec:\n  {{- if not .Values.autoscaling.enabled }}\n  replicas: {{ .Values.replicaCount }}\n  {{- end }}\n  selector:\n    matchLabels:\n      {{- include "mychart.selectorLabels" . | nindent 6 }}\n  template:\n    metadata:\n      labels:\n        {{- include "mychart.selectorLabels" . | nindent 8 }}\n    spec:\n      containers:\n      - name: {{ .Chart.Name }}\n        image: "{{ .Values.image.repository }}:{{ .Values.image.tag | default .Chart.AppVersion }}"\n        imagePullPolicy: {{ .Values.image.pullPolicy }}\n        ports:\n        - name: http\n          containerPort: {{ .Values.service.targetPort }}\n          protocol: TCP\n        env:\n        {{- toYaml .Values.env | nindent 8 }}\n        resources:\n          {{- toYaml .Values.resources | nindent 10 }}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"templates/service.yaml"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Service\nmetadata:\n  name: {{ include "mychart.fullname" . }}\n  labels:\n    {{- include "mychart.labels" . | nindent 4 }}\nspec:\n  type: {{ .Values.service.type }}\n  ports:\n    - port: {{ .Values.service.port }}\n      targetPort: {{ .Values.service.targetPort }}\n      protocol: TCP\n      name: http\n  selector:\n    {{- include "mychart.selectorLabels" . | nindent 4 }}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"templates/_helpers.tpl"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'{{/*\nExpand the name of the chart.\n*/}}\n{{- define "mychart.name" -}}\n{{- default .Chart.Name .Values.nameOverride | trunc 63 | trimSuffix "-" }}\n{{- end }}\n\n{{/*\nCreate a default fully qualified app name.\n*/}}\n{{- define "mychart.fullname" -}}\n{{- if .Values.fullnameOverride }}\n{{- .Values.fullnameOverride | trunc 63 | trimSuffix "-" }}\n{{- else }}\n{{- $name := default .Chart.Name .Values.nameOverride }}\n{{- if contains $name .Release.Name }}\n{{- .Release.Name | trunc 63 | trimSuffix "-" }}\n{{- else }}\n{{- printf "%s-%s" .Release.Name $name | trunc 63 | trimSuffix "-" }}\n{{- end }}\n{{- end }}\n{{- end }}\n\n{{/*\nCommon labels\n*/}}\n{{- define "mychart.labels" -}}\nhelm.sh/chart: {{ include "mychart.chart" . }}\n{{ include "mychart.selectorLabels" . }}\n{{- if .Chart.AppVersion }}\napp.kubernetes.io/version: {{ .Chart.AppVersion | quote }}\n{{- end }}\napp.kubernetes.io/managed-by: {{ .Release.Service }}\n{{- end }}\n\n{{/*\nSelector labels\n*/}}\n{{- define "mychart.selectorLabels" -}}\napp.kubernetes.io/name: {{ include "mychart.name" . }}\napp.kubernetes.io/instance: {{ .Release.Name }}\n{{- end }}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"75-chart-\uc0ac\uc6a9",children:"7.5 Chart \uc0ac\uc6a9"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Chart \uac80\uc99d\nhelm lint mychart\n\n# \ud15c\ud50c\ub9bf \ub80c\ub354\ub9c1 \ud655\uc778\nhelm template mychart\nhelm template myrelease mychart --values custom-values.yaml\n\n# \ub4dc\ub77c\uc774\ub7f0 (\uc2e4\uc81c \uc124\uce58 \uc5c6\uc774 \ud14c\uc2a4\ud2b8)\nhelm install myrelease mychart --dry-run --debug\n\n# Chart \uc124\uce58\nhelm install myrelease mychart\nhelm install myrelease mychart --namespace prod --create-namespace\n\n# \ucee4\uc2a4\ud140 \uac12\uc73c\ub85c \uc124\uce58\nhelm install myrelease mychart \\\n  --set image.tag=2.0.0 \\\n  --set replicaCount=5\n\n# values \ud30c\uc77c\ub85c \uc124\uce58\nhelm install myrelease mychart -f prod-values.yaml\n\n# Chart \ud328\ud0a4\uc9d5\nhelm package mychart\n\n# \ub85c\uceec Chart \uc124\uce58\nhelm install myrelease ./mychart-0.1.0.tgz\n"})}),"\n",(0,l.jsx)(n.h3,{id:"76-\ud658\uacbd\ubcc4-values-\ud30c\uc77c",children:"7.6 \ud658\uacbd\ubcc4 values \ud30c\uc77c"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"values-dev.yaml"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'replicaCount: 1\n\nimage:\n  tag: "latest"\n\ningress:\n  enabled: true\n  hosts:\n    - host: dev.myapp.example.com\n\nresources:\n  limits:\n    cpu: 200m\n    memory: 256Mi\n  requests:\n    cpu: 100m\n    memory: 128Mi\n\nautoscaling:\n  enabled: false\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"values-prod.yaml"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'replicaCount: 5\n\nimage:\n  tag: "1.2.3"\n\ningress:\n  enabled: true\n  hosts:\n    - host: myapp.example.com\n\nresources:\n  limits:\n    cpu: 1000m\n    memory: 1Gi\n  requests:\n    cpu: 500m\n    memory: 512Mi\n\nautoscaling:\n  enabled: true\n  minReplicas: 3\n  maxReplicas: 20\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \ud658\uacbd\ubcc4 \ubc30\ud3ec\nhelm install myapp-dev mychart -f values-dev.yaml -n dev\nhelm install myapp-prod mychart -f values-prod.yaml -n prod\n"})}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["Helm\uc758 ",(0,l.jsx)(n.code,{children:"--set"})," \ud50c\ub798\uadf8\ub294 \ub2e8\uc77c \uac12 \uc624\ubc84\ub77c\uc774\ub4dc\uc5d0 \uc720\uc6a9\ud558\uc9c0\ub9cc, \ubcf5\uc7a1\ud55c \uc124\uc815\uc740 \ubcc4\ub3c4\uc758 values \ud30c\uc77c\ub85c \uad00\ub9ac\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,l.jsx)(n.h2,{id:"8-\uc2e4\uc804-\uc608\uc2dc",children:"8. \uc2e4\uc804 \uc608\uc2dc"}),"\n",(0,l.jsx)(n.h3,{id:"81-\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4-\ubc30\ud3ec",children:"8.1 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ubc30\ud3ec"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"# microservices-deployment.yaml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: microservices\n\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: api-gateway\n  namespace: microservices\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: api-gateway\n  template:\n    metadata:\n      labels:\n        app: api-gateway\n    spec:\n      containers:\n      - name: gateway\n        image: api-gateway:1.0.0\n        ports:\n        - containerPort: 8080\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: api-gateway\n  namespace: microservices\nspec:\n  selector:\n    app: api-gateway\n  ports:\n  - port: 80\n    targetPort: 8080\n  type: LoadBalancer\n\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: user-service\n  namespace: microservices\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: user-service\n  template:\n    metadata:\n      labels:\n        app: user-service\n    spec:\n      containers:\n      - name: user-service\n        image: user-service:1.0.0\n        ports:\n        - containerPort: 3000\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: user-service\n  namespace: microservices\nspec:\n  selector:\n    app: user-service\n  ports:\n  - port: 3000\n    targetPort: 3000\n  type: ClusterIP\n"})}),"\n",(0,l.jsx)(n.h3,{id:"82-cicd-\ud30c\uc774\ud504\ub77c\uc778-\ud1b5\ud569",children:"8.2 CI/CD \ud30c\uc774\ud504\ub77c\uc778 \ud1b5\ud569"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'# .github/workflows/deploy.yml\nname: Build and Deploy\n\non:\n  push:\n    branches: [main]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Build Docker Image\n        run: |\n          docker build -t myapp:${{ github.sha }} .\n          docker tag myapp:${{ github.sha }} myapp:latest\n\n      - name: Push to Registry\n        run: |\n          echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin\n          docker push myapp:${{ github.sha }}\n          docker push myapp:latest\n\n  deploy:\n    needs: build\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Setup kubectl\n        uses: azure/setup-kubectl@v3\n\n      - name: Configure kubectl\n        run: |\n          echo "${{ secrets.KUBE_CONFIG }}" > kubeconfig\n          export KUBECONFIG=kubeconfig\n\n      - name: Deploy to Kubernetes\n        run: |\n          kubectl set image deployment/web-deployment web=myapp:${{ github.sha }} -n production\n          kubectl rollout status deployment/web-deployment -n production\n'})}),"\n",(0,l.jsx)(n.admonition,{type:"warning",children:(0,l.jsxs)(n.p,{children:["\ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c\ub294 \uc774\ubbf8\uc9c0 \ud0dc\uadf8\ub85c ",(0,l.jsx)(n.code,{children:"latest"}),"\ub97c \uc0ac\uc6a9\ud558\uc9c0 \ub9c8\uc138\uc694. \ud56d\uc0c1 \ud2b9\uc815 \ubc84\uc804\uc774\ub098 \ucee4\ubc0b SHA\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc7ac\ud604 \uac00\ub2a5\ud55c \ubc30\ud3ec\ub97c \ubcf4\uc7a5\ud558\uc138\uc694."]})}),"\n",(0,l.jsx)(n.h2,{id:"9-\ubaa8\ubc94-\uc0ac\ub840",children:"9. \ubaa8\ubc94 \uc0ac\ub840"}),"\n",(0,l.jsx)(n.h3,{id:"91-docker-\ubaa8\ubc94-\uc0ac\ub840",children:"9.1 Docker \ubaa8\ubc94 \uc0ac\ub840"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ucd5c\uc18c \uad8c\ud55c \uc6d0\uce59"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:"# \ube44root \uc0ac\uc6a9\uc790 \uc0ac\uc6a9\nUSER node\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ud5ec\uc2a4\uccb4\ud06c \ud3ec\ud568"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:"HEALTHCHECK --interval=30s --timeout=3s \\\n  CMD curl -f http://localhost/ || exit 1\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ube4c\ub4dc \uc778\uc218 \ud65c\uc6a9"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:"ARG NODE_VERSION=18\nFROM node:${NODE_VERSION}-alpine\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"92-kubernetes-\ubaa8\ubc94-\uc0ac\ub840",children:"9.2 Kubernetes \ubaa8\ubc94 \uc0ac\ub840"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ub9ac\uc18c\uc2a4 \uc81c\ud55c \uc124\uc815"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\ubaa8\ub4e0 \ucee8\ud14c\uc774\ub108\uc5d0 ",(0,l.jsx)(n.code,{children:"requests"}),"\uc640 ",(0,l.jsx)(n.code,{children:"limits"})," \uc9c0\uc815"]}),"\n",(0,l.jsx)(n.li,{children:"OOM \ud0ac\ub7ec \ubc29\uc9c0 \ubc0f \uc2a4\ucf00\uc904\ub9c1 \ucd5c\uc801\ud654"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Liveness\uc640 Readiness Probe \uad6c\uc131"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uac74\uac15 \uc0c1\ud0dc \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,l.jsx)(n.li,{children:"\ubb34\uc911\ub2e8 \ubc30\ud3ec \ubcf4\uc7a5"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ub124\uc784\uc2a4\ud398\uc774\uc2a4 \ud65c\uc6a9"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ud658\uacbd\ubcc4 \uaca9\ub9ac (dev, staging, prod)"}),"\n",(0,l.jsx)(n.li,{children:"\ub9ac\uc18c\uc2a4 \ucffc\ud130 \ubc0f RBAC \uc801\uc6a9"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\ub808\uc774\ube14\uacfc \uc140\ub809\ud130 \uc77c\uad00\uc131"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uba85\ud655\ud558\uace0 \uc77c\uad00\ub41c \ub808\uc774\ube14 \uc0ac\uc6a9"}),"\n",(0,l.jsx)(n.li,{children:"\ub9ac\uc18c\uc2a4 \uad00\ub9ac \ubc0f \ubaa8\ub2c8\ud130\ub9c1 \uc6a9\uc774"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"ConfigMap\uacfc Secret \ubd84\ub9ac"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uc124\uc815\uacfc \ucf54\ub4dc \ubd84\ub9ac"}),"\n",(0,l.jsx)(n.li,{children:"\ud658\uacbd\ubcc4 \uc124\uc815 \uad00\ub9ac \uc6a9\uc774"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"93-\ubcf4\uc548-\ubaa8\ubc94-\uc0ac\ub840",children:"9.3 \ubcf4\uc548 \ubaa8\ubc94 \uc0ac\ub840"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    fsGroup: 2000\n  containers:\n  - name: app\n    image: myapp:1.0.0\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      capabilities:\n        drop:\n        - ALL\n"})}),"\n",(0,l.jsx)(n.h2,{id:"10-\uc720\uc6a9\ud55c-\ub9ac\uc18c\uc2a4",children:"10. \uc720\uc6a9\ud55c \ub9ac\uc18c\uc2a4"}),"\n",(0,l.jsx)(n.h3,{id:"101-\uacf5\uc2dd-\ubb38\uc11c",children:"10.1 \uacf5\uc2dd \ubb38\uc11c"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Docker: ",(0,l.jsx)(n.code,{children:"https://docs.docker.com"})]}),"\n",(0,l.jsxs)(n.li,{children:["Kubernetes: ",(0,l.jsx)(n.code,{children:"https://kubernetes.io/docs"})]}),"\n",(0,l.jsxs)(n.li,{children:["Helm: ",(0,l.jsx)(n.code,{children:"https://helm.sh/docs"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"102-\ud559\uc2b5-\ub9ac\uc18c\uc2a4",children:"10.2 \ud559\uc2b5 \ub9ac\uc18c\uc2a4"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Docker Hub: ",(0,l.jsx)(n.code,{children:"https://hub.docker.com"})]}),"\n",(0,l.jsxs)(n.li,{children:["Artifact Hub (Helm Charts): ",(0,l.jsx)(n.code,{children:"https://artifacthub.io"})]}),"\n",(0,l.jsxs)(n.li,{children:["Play with Docker: ",(0,l.jsx)(n.code,{children:"https://labs.play-with-docker.com"})]}),"\n",(0,l.jsxs)(n.li,{children:["Play with Kubernetes: ",(0,l.jsx)(n.code,{children:"https://labs.play-with-k8s.com"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"103-\ub3c4\uad6c",children:"10.3 \ub3c4\uad6c"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"dive"}),": Docker \uc774\ubbf8\uc9c0 \ubd84\uc11d \ub3c4\uad6c"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"k9s"}),": Kubernetes CLI UI"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Lens"}),": Kubernetes IDE"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Skaffold"}),": \ub85c\uceec Kubernetes \uac1c\ubc1c \ub3c4\uad6c"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# dive\ub85c \uc774\ubbf8\uc9c0 \ubd84\uc11d\ndocker run --rm -it \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  wagoodman/dive:latest myapp:latest\n\n# k9s\ub85c \ud074\ub7ec\uc2a4\ud130 \uad00\ub9ac\nk9s\n\n# Skaffold\ub85c \uac1c\ubc1c\nskaffold dev\n"})}),"\n",(0,l.jsx)(n.p,{children:"\ucee8\ud14c\uc774\ub108\ud654\uc640 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158\uc740 \ud604\ub300 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec\uc758 \ud575\uc2ec\uc785\ub2c8\ub2e4. Docker\ub85c \uc2dc\uc791\ud558\uc5ec Kubernetes\uc640 Helm\uc73c\ub85c \ud655\uc7a5\ud558\uba74 \ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uad00\ub9ac\ud558\uae30 \uc26c\uc6b4 \uc778\ud504\ub77c\ub97c \uad6c\ucd95\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var r=s(6540);const l={},a=r.createContext(l);function i(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);