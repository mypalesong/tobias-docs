"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[9505],{2875:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"prometheus/installation","title":"1. \uc124\uce58 \ubc0f \uc124\uc815","description":"Prometheus\ub294 \uc624\ud508\uc18c\uc2a4 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c\uc73c\ub85c, \uc2dc\uacc4\uc5f4 \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c \uae30\ubc18\uc73c\ub85c \uba54\ud2b8\ub9ad\uc744 \uc218\uc9d1\ud558\uace0 \uc800\uc7a5\ud569\ub2c8\ub2e4. \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 Prometheus\ub97c \uc124\uce58\ud558\uace0 \uc124\uc815\ud558\ub294 \ub2e4\uc591\ud55c \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.","source":"@site/docs/prometheus/installation.md","sourceDirName":"prometheus","slug":"/prometheus/installation","permalink":"/tobias-docs/comp-2/docs/prometheus/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/prometheus/installation.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"prometheusSidebar","next":{"title":"2. \uba54\ud2b8\ub9ad\uacfc Python \ud074\ub77c\uc774\uc5b8\ud2b8","permalink":"/tobias-docs/comp-2/docs/prometheus/metrics"}}');var t=s(4848),o=s(8453);const l={sidebar_position:1},a="1. \uc124\uce58 \ubc0f \uc124\uc815",i={},d=[{value:"1.1 Prometheus \uc124\uce58 \ubc29\ubc95",id:"11-prometheus-\uc124\uce58-\ubc29\ubc95",level:2},{value:"1.1.1 Docker\ub97c \uc774\uc6a9\ud55c \uc124\uce58 (\uad8c\uc7a5)",id:"111-docker\ub97c-\uc774\uc6a9\ud55c-\uc124\uce58-\uad8c\uc7a5",level:3},{value:"1.1.2 \ubc14\uc774\ub108\ub9ac \ub2e4\uc6b4\ub85c\ub4dc \uc124\uce58",id:"112-\ubc14\uc774\ub108\ub9ac-\ub2e4\uc6b4\ub85c\ub4dc-\uc124\uce58",level:3},{value:"1.1.3 \ud328\ud0a4\uc9c0 \ub9e4\ub2c8\uc800\ub97c \uc774\uc6a9\ud55c \uc124\uce58",id:"113-\ud328\ud0a4\uc9c0-\ub9e4\ub2c8\uc800\ub97c-\uc774\uc6a9\ud55c-\uc124\uce58",level:3},{value:"1.2 prometheus.yml \uc124\uc815 \ud30c\uc77c \uad6c\uc870",id:"12-prometheusyml-\uc124\uc815-\ud30c\uc77c-\uad6c\uc870",level:2},{value:"1.2.1 \uae30\ubcf8 \uad6c\uc870",id:"121-\uae30\ubcf8-\uad6c\uc870",level:3},{value:"1.2.2 \uc124\uc815 \ud30c\uc77c \uc0c1\uc138 \uc124\uba85",id:"122-\uc124\uc815-\ud30c\uc77c-\uc0c1\uc138-\uc124\uba85",level:3},{value:"1.3 Scrape \uc124\uc815",id:"13-scrape-\uc124\uc815",level:2},{value:"1.3.1 \uae30\ubcf8 Scrape \uc124\uc815",id:"131-\uae30\ubcf8-scrape-\uc124\uc815",level:3},{value:"1.3.2 \ub2e4\uc911 \ud0c0\uac9f \uc124\uc815",id:"132-\ub2e4\uc911-\ud0c0\uac9f-\uc124\uc815",level:3},{value:"1.3.3 \ub3d9\uc801 \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac",id:"133-\ub3d9\uc801-\uc11c\ube44\uc2a4-\ub514\uc2a4\ucee4\ubc84\ub9ac",level:3},{value:"1.4 Storage \uc124\uc815",id:"14-storage-\uc124\uc815",level:2},{value:"1.4.1 Storage \uae30\ubcf8 \uc124\uc815",id:"141-storage-\uae30\ubcf8-\uc124\uc815",level:3},{value:"1.4.2 Storage \uc635\uc158 \uc124\uba85",id:"142-storage-\uc635\uc158-\uc124\uba85",level:3},{value:"1.4.3 Docker\uc5d0\uc11c Storage \uc124\uc815",id:"143-docker\uc5d0\uc11c-storage-\uc124\uc815",level:3},{value:"1.5 \uae30\ubcf8 \ubcf4\uc548 \uc124\uc815",id:"15-\uae30\ubcf8-\ubcf4\uc548-\uc124\uc815",level:2},{value:"1.5.1 Basic Authentication \uc124\uc815",id:"151-basic-authentication-\uc124\uc815",level:3},{value:"1.5.2 TLS/HTTPS \uc124\uc815",id:"152-tlshttps-\uc124\uc815",level:3},{value:"1.5.3 \ub124\ud2b8\uc6cc\ud06c \uc811\uadfc \uc81c\uc5b4",id:"153-\ub124\ud2b8\uc6cc\ud06c-\uc811\uadfc-\uc81c\uc5b4",level:3},{value:"1.6 Node Exporter \uc124\uce58",id:"16-node-exporter-\uc124\uce58",level:2},{value:"1.6.1 Docker\ub85c Node Exporter \uc124\uce58",id:"161-docker\ub85c-node-exporter-\uc124\uce58",level:3},{value:"1.6.2 \ubc14\uc774\ub108\ub9ac\ub85c Node Exporter \uc124\uce58",id:"162-\ubc14\uc774\ub108\ub9ac\ub85c-node-exporter-\uc124\uce58",level:3},{value:"1.6.3 systemd \uc11c\ube44\uc2a4\ub85c \ub4f1\ub85d",id:"163-systemd-\uc11c\ube44\uc2a4\ub85c-\ub4f1\ub85d",level:3},{value:"1.6.4 Prometheus\uc5d0 Node Exporter \ucd94\uac00",id:"164-prometheus\uc5d0-node-exporter-\ucd94\uac00",level:3},{value:"1.7 Python Exporter \uc124\uc815",id:"17-python-exporter-\uc124\uc815",level:2},{value:"1.7.1 Prometheus \ud074\ub77c\uc774\uc5b8\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58",id:"171-prometheus-\ud074\ub77c\uc774\uc5b8\ud2b8-\ub77c\uc774\ube0c\ub7ec\ub9ac-\uc124\uce58",level:3},{value:"1.7.2 \uae30\ubcf8 Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce21",id:"172-\uae30\ubcf8-python-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\uacc4\uce21",level:3},{value:"1.7.3 Flask \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud1b5\ud569",id:"173-flask-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\ud1b5\ud569",level:3},{value:"1.7.4 FastAPI \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud1b5\ud569",id:"174-fastapi-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\ud1b5\ud569",level:3},{value:"1.7.5 Prometheus\uc5d0 Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucd94\uac00",id:"175-prometheus\uc5d0-python-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\ucd94\uac00",level:3},{value:"1.8 \uc124\uc815 \uac80\uc99d \ubc0f \ubb38\uc81c \ud574\uacb0",id:"18-\uc124\uc815-\uac80\uc99d-\ubc0f-\ubb38\uc81c-\ud574\uacb0",level:2},{value:"1.8.1 \uc124\uc815 \ud30c\uc77c \uac80\uc99d",id:"181-\uc124\uc815-\ud30c\uc77c-\uac80\uc99d",level:3},{value:"1.8.2 \uc124\uc815 \ub9ac\ub85c\ub4dc",id:"182-\uc124\uc815-\ub9ac\ub85c\ub4dc",level:3},{value:"1.8.3 \uc77c\ubc18\uc801\uc778 \ubb38\uc81c \ud574\uacb0",id:"183-\uc77c\ubc18\uc801\uc778-\ubb38\uc81c-\ud574\uacb0",level:3},{value:"1.8.4 \ub514\ubc84\uae45 \ud301",id:"184-\ub514\ubc84\uae45-\ud301",level:3},{value:"1.9 Docker Compose\ub85c \uc804\uccb4 \uc2a4\ud0dd \uad6c\uc131",id:"19-docker-compose\ub85c-\uc804\uccb4-\uc2a4\ud0dd-\uad6c\uc131",level:2},{value:"1.9.1 \ub514\ub809\ud1a0\ub9ac \uad6c\uc870",id:"191-\ub514\ub809\ud1a0\ub9ac-\uad6c\uc870",level:3},{value:"1.9.2 Docker Compose \ud30c\uc77c",id:"192-docker-compose-\ud30c\uc77c",level:3},{value:"1.9.3 Prometheus \uc124\uc815",id:"193-prometheus-\uc124\uc815",level:3},{value:"1.9.4 Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158",id:"194-python-\uc560\ud50c\ub9ac\ucf00\uc774\uc158",level:3},{value:"1.9.5 Grafana \ud504\ub85c\ube44\uc800\ub2dd",id:"195-grafana-\ud504\ub85c\ube44\uc800\ub2dd",level:3},{value:"1.9.6 \uc2a4\ud0dd \uc2e4\ud589 \ubc0f \ud655\uc778",id:"196-\uc2a4\ud0dd-\uc2e4\ud589-\ubc0f-\ud655\uc778",level:3},{value:"1.10 \uc2e4\uc2b5 \uc608\uc81c: \ub85c\uceec \ud658\uacbd \uad6c\ucd95",id:"110-\uc2e4\uc2b5-\uc608\uc81c-\ub85c\uceec-\ud658\uacbd-\uad6c\ucd95",level:2},{value:"1.10.1 \uc2e4\uc2b5 1: \uae30\ubcf8 \uc124\uce58 \ubc0f \uc124\uc815",id:"1101-\uc2e4\uc2b5-1-\uae30\ubcf8-\uc124\uce58-\ubc0f-\uc124\uc815",level:3},{value:"1.10.2 \uc2e4\uc2b5 2: Node Exporter \uc124\uc815",id:"1102-\uc2e4\uc2b5-2-node-exporter-\uc124\uc815",level:3},{value:"1.10.3 \uc2e4\uc2b5 3: Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce21",id:"1103-\uc2e4\uc2b5-3-python-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\uacc4\uce21",level:3},{value:"1.10.4 \uc2e4\uc2b5 4: Docker Compose \uc804\uccb4 \uc2a4\ud0dd",id:"1104-\uc2e4\uc2b5-4-docker-compose-\uc804\uccb4-\uc2a4\ud0dd",level:3},{value:"1.10.5 \uc2e4\uc2b5 5: \ubb38\uc81c \ud574\uacb0 \uc5f0\uc2b5",id:"1105-\uc2e4\uc2b5-5-\ubb38\uc81c-\ud574\uacb0-\uc5f0\uc2b5",level:3},{value:"\uc694\uc57d",id:"\uc694\uc57d",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"1-\uc124\uce58-\ubc0f-\uc124\uc815",children:"1. \uc124\uce58 \ubc0f \uc124\uc815"})}),"\n",(0,t.jsx)(n.p,{children:"Prometheus\ub294 \uc624\ud508\uc18c\uc2a4 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c\uc73c\ub85c, \uc2dc\uacc4\uc5f4 \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c \uae30\ubc18\uc73c\ub85c \uba54\ud2b8\ub9ad\uc744 \uc218\uc9d1\ud558\uace0 \uc800\uc7a5\ud569\ub2c8\ub2e4. \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 Prometheus\ub97c \uc124\uce58\ud558\uace0 \uc124\uc815\ud558\ub294 \ub2e4\uc591\ud55c \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h2,{id:"11-prometheus-\uc124\uce58-\ubc29\ubc95",children:"1.1 Prometheus \uc124\uce58 \ubc29\ubc95"}),"\n",(0,t.jsx)(n.p,{children:"Prometheus\ub97c \uc124\uce58\ud558\ub294 \ubc29\ubc95\uc740 \uc5ec\ub7ec \uac00\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud658\uacbd\uacfc \uc694\uad6c\uc0ac\ud56d\uc5d0 \ub530\ub77c \uc801\uc808\ud55c \ubc29\ubc95\uc744 \uc120\ud0dd\ud558\uc138\uc694."}),"\n",(0,t.jsx)(n.h3,{id:"111-docker\ub97c-\uc774\uc6a9\ud55c-\uc124\uce58-\uad8c\uc7a5",children:"1.1.1 Docker\ub97c \uc774\uc6a9\ud55c \uc124\uce58 (\uad8c\uc7a5)"}),"\n",(0,t.jsx)(n.p,{children:"Docker\ub294 \uac00\uc7a5 \ube60\ub974\uace0 \uac04\ud3b8\ud558\uac8c Prometheus\ub97c \uc2dc\uc791\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Prometheus \uacf5\uc2dd \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc \ubc0f \uc2e4\ud589\ndocker run -d \\\n  --name prometheus \\\n  -p 9090:9090 \\\n  -v /path/to/prometheus.yml:/etc/prometheus/prometheus.yml \\\n  prom/prometheus:latest\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Docker\ub97c \uc0ac\uc6a9\ud558\uba74 \ud658\uacbd \uaca9\ub9ac\uc640 \ubc84\uc804 \uad00\ub9ac\uac00 \uc26c\uc6cc\uc9c0\uba70, \ud300 \uac04 \ub3d9\uc77c\ud55c \ud658\uacbd\uc744 \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})}),"\n",(0,t.jsx)(n.h3,{id:"112-\ubc14\uc774\ub108\ub9ac-\ub2e4\uc6b4\ub85c\ub4dc-\uc124\uce58",children:"1.1.2 \ubc14\uc774\ub108\ub9ac \ub2e4\uc6b4\ub85c\ub4dc \uc124\uce58"}),"\n",(0,t.jsx)(n.p,{children:"\uacf5\uc2dd \uc6f9\uc0ac\uc774\ud2b8\uc5d0\uc11c \ubc14\uc774\ub108\ub9ac\ub97c \uc9c1\uc811 \ub2e4\uc6b4\ub85c\ub4dc\ud558\uc5ec \uc124\uce58\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Linux/macOS:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Prometheus \ub2e4\uc6b4\ub85c\ub4dc\nwget https://github.com/prometheus/prometheus/releases/download/v2.45.0/prometheus-2.45.0.linux-amd64.tar.gz\n\n# \uc555\ucd95 \ud574\uc81c\ntar xvfz prometheus-2.45.0.linux-amd64.tar.gz\n\n# \ub514\ub809\ud1a0\ub9ac \uc774\ub3d9\ncd prometheus-2.45.0.linux-amd64\n\n# Prometheus \uc2e4\ud589\n./prometheus --config.file=prometheus.yml\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Windows:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/prometheus/prometheus/releases",children:"Prometheus \ub9b4\ub9ac\uc2a4 \ud398\uc774\uc9c0"}),"\uc5d0\uc11c Windows\uc6a9 \ubc14\uc774\ub108\ub9ac \ub2e4\uc6b4\ub85c\ub4dc"]}),"\n",(0,t.jsx)(n.li,{children:"\uc555\ucd95 \ud574\uc81c"}),"\n",(0,t.jsx)(n.li,{children:"\uba85\ub839 \ud504\ub86c\ud504\ud2b8\uc5d0\uc11c \uc2e4\ud589:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmd",children:"prometheus.exe --config.file=prometheus.yml\n"})}),"\n",(0,t.jsx)(n.h3,{id:"113-\ud328\ud0a4\uc9c0-\ub9e4\ub2c8\uc800\ub97c-\uc774\uc6a9\ud55c-\uc124\uce58",children:"1.1.3 \ud328\ud0a4\uc9c0 \ub9e4\ub2c8\uc800\ub97c \uc774\uc6a9\ud55c \uc124\uce58"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Ubuntu/Debian:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# APT \ud328\ud0a4\uc9c0 \uc5c5\ub370\uc774\ud2b8\nsudo apt-get update\n\n# Prometheus \uc124\uce58\nsudo apt-get install prometheus\n\n# \uc11c\ube44\uc2a4 \uc2dc\uc791\nsudo systemctl start prometheus\nsudo systemctl enable prometheus\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"macOS (Homebrew):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Homebrew\ub85c Prometheus \uc124\uce58\nbrew install prometheus\n\n# \uc11c\ube44\uc2a4 \uc2dc\uc791\nbrew services start prometheus\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"CentOS/RHEL:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Prometheus \uc0ac\uc6a9\uc790 \uc0dd\uc131\nsudo useradd --no-create-home --shell /bin/false prometheus\n\n# \ub2e4\uc6b4\ub85c\ub4dc \ubc0f \uc124\uce58\nsudo wget https://github.com/prometheus/prometheus/releases/download/v2.45.0/prometheus-2.45.0.linux-amd64.tar.gz\nsudo tar -xvf prometheus-2.45.0.linux-amd64.tar.gz\nsudo mv prometheus-2.45.0.linux-amd64 /etc/prometheus\n\n# systemd \uc11c\ube44\uc2a4 \ud30c\uc77c \uc0dd\uc131\nsudo vi /etc/systemd/system/prometheus.service\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"\ubc14\uc774\ub108\ub9ac \uc124\uce58 \uc2dc \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8\uc640 \ubcf4\uc548 \ud328\uce58\ub97c \uc218\ub3d9\uc73c\ub85c \uad00\ub9ac\ud574\uc57c \ud569\ub2c8\ub2e4."})}),"\n",(0,t.jsx)(n.h2,{id:"12-prometheusyml-\uc124\uc815-\ud30c\uc77c-\uad6c\uc870",children:"1.2 prometheus.yml \uc124\uc815 \ud30c\uc77c \uad6c\uc870"}),"\n",(0,t.jsxs)(n.p,{children:["Prometheus\uc758 \ubaa8\ub4e0 \uc124\uc815\uc740 ",(0,t.jsx)(n.code,{children:"prometheus.yml"})," YAML \ud30c\uc77c\uc5d0\uc11c \uad00\ub9ac\ub429\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.h3,{id:"121-\uae30\ubcf8-\uad6c\uc870",children:"1.2.1 \uae30\ubcf8 \uad6c\uc870"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# \uc804\uc5ed \uc124\uc815\nglobal:\n  scrape_interval: 15s      # \uba54\ud2b8\ub9ad \uc218\uc9d1 \uc8fc\uae30 (\uae30\ubcf8\uac12: 15\ucd08)\n  evaluation_interval: 15s  # \uaddc\uce59 \ud3c9\uac00 \uc8fc\uae30\n  external_labels:          # \uc678\ubd80 \uc2dc\uc2a4\ud15c\uc5d0 \uc804\uc1a1\ub420 \ub54c \ucd94\uac00\ub418\ub294 \ub808\uc774\ube14\n    cluster: 'production'\n    region: 'us-west-1'\n\n# Alertmanager \uc124\uc815 (\uc120\ud0dd\uc0ac\ud56d)\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n            - 'localhost:9093'\n\n# \uaddc\uce59 \ud30c\uc77c \ub85c\ub4dc (\uc120\ud0dd\uc0ac\ud56d)\nrule_files:\n  - 'alerts/*.yml'\n  - 'rules/*.yml'\n\n# \uc2a4\ud06c\ub7a9 \uc124\uc815\nscrape_configs:\n  # Prometheus \uc790\uccb4 \ubaa8\ub2c8\ud130\ub9c1\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n"})}),"\n",(0,t.jsx)(n.h3,{id:"122-\uc124\uc815-\ud30c\uc77c-\uc0c1\uc138-\uc124\uba85",children:"1.2.2 \uc124\uc815 \ud30c\uc77c \uc0c1\uc138 \uc124\uba85"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\uc139\uc158"}),(0,t.jsx)(n.th,{children:"\uc124\uba85"}),(0,t.jsx)(n.th,{children:"\ud544\uc218 \uc5ec\ubd80"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"global"})}),(0,t.jsx)(n.td,{children:"\uc804\uc5ed \uc124\uc815 (\uc218\uc9d1 \uac04\uaca9, \uc678\ubd80 \ub808\uc774\ube14 \ub4f1)"}),(0,t.jsx)(n.td,{children:"\uc120\ud0dd"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"alerting"})}),(0,t.jsx)(n.td,{children:"Alert Manager \uc5f0\ub3d9 \uc124\uc815"}),(0,t.jsx)(n.td,{children:"\uc120\ud0dd"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"rule_files"})}),(0,t.jsx)(n.td,{children:"\uc54c\ub9bc \uaddc\uce59 \ubc0f \uae30\ub85d \uaddc\uce59 \ud30c\uc77c \uacbd\ub85c"}),(0,t.jsx)(n.td,{children:"\uc120\ud0dd"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"scrape_configs"})}),(0,t.jsx)(n.td,{children:"\uba54\ud2b8\ub9ad \uc218\uc9d1 \ub300\uc0c1 \ubc0f \ubc29\ubc95 \uc124\uc815"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\ud544\uc218"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"13-scrape-\uc124\uc815",children:"1.3 Scrape \uc124\uc815"}),"\n",(0,t.jsx)(n.p,{children:"Scrape\ub294 Prometheus\uac00 \ud0c0\uac9f\uc73c\ub85c\ubd80\ud130 \uba54\ud2b8\ub9ad\uc744 \uc218\uc9d1\ud558\ub294 \uacfc\uc815\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h3,{id:"131-\uae30\ubcf8-scrape-\uc124\uc815",children:"1.3.1 \uae30\ubcf8 Scrape \uc124\uc815"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"scrape_configs:\n  - job_name: 'my-application'\n    scrape_interval: 10s      # \uc774 job\ub9cc\uc758 \uc218\uc9d1 \uc8fc\uae30\n    scrape_timeout: 5s        # \ud0c0\uc784\uc544\uc6c3 \uc124\uc815\n    metrics_path: '/metrics'  # \uba54\ud2b8\ub9ad \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \uacbd\ub85c\n    static_configs:\n      - targets:\n          - 'app1.example.com:8080'\n          - 'app2.example.com:8080'\n        labels:\n          environment: 'production'\n          team: 'backend'\n"})}),"\n",(0,t.jsx)(n.h3,{id:"132-\ub2e4\uc911-\ud0c0\uac9f-\uc124\uc815",children:"1.3.2 \ub2e4\uc911 \ud0c0\uac9f \uc124\uc815"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"scrape_configs:\n  # \ud504\ub85c\ub355\uc158 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\n  - job_name: 'production-apps'\n    static_configs:\n      - targets: ['app1:8080', 'app2:8080', 'app3:8080']\n        labels:\n          environment: 'production'\n\n  # \uc2a4\ud14c\uc774\uc9d5 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\n  - job_name: 'staging-apps'\n    static_configs:\n      - targets: ['staging-app:8080']\n        labels:\n          environment: 'staging'\n\n  # \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc775\uc2a4\ud3ec\ud130\n  - job_name: 'postgres'\n    static_configs:\n      - targets: ['postgres-exporter:9187']\n        labels:\n          db_type: 'postgresql'\n"})}),"\n",(0,t.jsx)(n.h3,{id:"133-\ub3d9\uc801-\uc11c\ube44\uc2a4-\ub514\uc2a4\ucee4\ubc84\ub9ac",children:"1.3.3 \ub3d9\uc801 \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac"}),"\n",(0,t.jsx)(n.p,{children:"\uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd\uc5d0\uc11c\ub294 \ub3d9\uc801 \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Kubernetes \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"scrape_configs:\n  - job_name: 'kubernetes-pods'\n    kubernetes_sd_configs:\n      - role: pod\n    relabel_configs:\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]\n        action: keep\n        regex: true\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]\n        action: replace\n        target_label: __metrics_path__\n        regex: (.+)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Docker \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"scrape_configs:\n  - job_name: 'docker'\n    docker_sd_configs:\n      - host: unix:///var/run/docker.sock\n    relabel_configs:\n      - source_labels: [__meta_docker_container_name]\n        target_label: container_name\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"\ub3d9\uc801 \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac\ub97c \uc0ac\uc6a9\ud558\uba74 \uc0c8\ub85c\uc6b4 \uc778\uc2a4\ud134\uc2a4\uac00 \ucd94\uac00\ub418\uac70\ub098 \uc81c\uac70\ub420 \ub54c \uc790\ub3d9\uc73c\ub85c \ubaa8\ub2c8\ud130\ub9c1 \ub300\uc0c1\uc774 \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4."})}),"\n",(0,t.jsx)(n.h2,{id:"14-storage-\uc124\uc815",children:"1.4 Storage \uc124\uc815"}),"\n",(0,t.jsx)(n.p,{children:"Prometheus\ub294 \uc2dc\uacc4\uc5f4 \ub370\uc774\ud130\ub97c \ub85c\uceec \ub514\uc2a4\ud06c\uc5d0 \uc800\uc7a5\ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h3,{id:"141-storage-\uae30\ubcf8-\uc124\uc815",children:"1.4.1 Storage \uae30\ubcf8 \uc124\uc815"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# prometheus.yml\uc5d0\ub294 \uc9c1\uc811 \uc124\uc815\ud558\uc9c0 \uc54a\uace0, \uc2e4\ud589 \uc2dc \ud50c\ub798\uadf8\ub85c \uc9c0\uc815\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uba85\ub839\uc904 \uc635\uc158:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./prometheus \\\n  --config.file=prometheus.yml \\\n  --storage.tsdb.path=/data/prometheus \\\n  --storage.tsdb.retention.time=15d \\\n  --storage.tsdb.retention.size=50GB\n"})}),"\n",(0,t.jsx)(n.h3,{id:"142-storage-\uc635\uc158-\uc124\uba85",children:"1.4.2 Storage \uc635\uc158 \uc124\uba85"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\uc635\uc158"}),(0,t.jsx)(n.th,{children:"\uc124\uba85"}),(0,t.jsx)(n.th,{children:"\uae30\ubcf8\uac12"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--storage.tsdb.path"})}),(0,t.jsx)(n.td,{children:"\ub370\uc774\ud130 \uc800\uc7a5 \uacbd\ub85c"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"data/"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--storage.tsdb.retention.time"})}),(0,t.jsx)(n.td,{children:"\ub370\uc774\ud130 \ubcf4\uc874 \uae30\uac04"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"15d"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--storage.tsdb.retention.size"})}),(0,t.jsx)(n.td,{children:"\ucd5c\ub300 \uc800\uc7a5 \ud06c\uae30"}),(0,t.jsx)(n.td,{children:"\uc5c6\uc74c"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--storage.tsdb.min-block-duration"})}),(0,t.jsx)(n.td,{children:"\ucd5c\uc18c \ube14\ub85d \uae30\uac04"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"2h"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--storage.tsdb.max-block-duration"})}),(0,t.jsx)(n.td,{children:"\ucd5c\ub300 \ube14\ub85d \uae30\uac04"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"36h"})})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"143-docker\uc5d0\uc11c-storage-\uc124\uc815",children:"1.4.3 Docker\uc5d0\uc11c Storage \uc124\uc815"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name prometheus \\\n  -p 9090:9090 \\\n  -v /my/prometheus/data:/prometheus \\\n  prom/prometheus:latest \\\n  --config.file=/etc/prometheus/prometheus.yml \\\n  --storage.tsdb.path=/prometheus \\\n  --storage.tsdb.retention.time=30d\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"\ub370\uc774\ud130 \ubcf4\uc874 \uae30\uac04\uacfc \ud06c\uae30\ub294 \ub514\uc2a4\ud06c \uc6a9\ub7c9\uc744 \uace0\ub824\ud558\uc5ec \uc124\uc815\ud558\uc138\uc694. \uae30\ubcf8\uac12\uc740 15\uc77c\uc785\ub2c8\ub2e4."})}),"\n",(0,t.jsx)(n.h2,{id:"15-\uae30\ubcf8-\ubcf4\uc548-\uc124\uc815",children:"1.5 \uae30\ubcf8 \ubcf4\uc548 \uc124\uc815"}),"\n",(0,t.jsx)(n.p,{children:"\ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c\ub294 \ubc18\ub4dc\uc2dc \ubcf4\uc548 \uc124\uc815\uc744 \uc801\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h3,{id:"151-basic-authentication-\uc124\uc815",children:"1.5.1 Basic Authentication \uc124\uc815"}),"\n",(0,t.jsx)(n.p,{children:"\uba3c\uc800 \ube44\ubc00\ubc88\ud638 \ud574\uc2dc\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# htpasswd \uc720\ud2f8\ub9ac\ud2f0 \uc124\uce58 (Apache utils)\nsudo apt-get install apache2-utils\n\n# \ube44\ubc00\ubc88\ud638 \ud30c\uc77c \uc0dd\uc131\nhtpasswd -nBC 10 \"\" | tr -d ':\\n'\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"web-config.yml \ud30c\uc77c \uc0dd\uc131:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"basic_auth_users:\n  admin: $2y$10$X.KjHpgf5J5Eq8F8Q8N9XOqP3Nz7J0rN3Q3X5XqE8N9X.KjHpgf5J\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Prometheus \uc2e4\ud589 \uc2dc \uc801\uc6a9:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./prometheus \\\n  --config.file=prometheus.yml \\\n  --web.config.file=web-config.yml\n"})}),"\n",(0,t.jsx)(n.h3,{id:"152-tlshttps-\uc124\uc815",children:"1.5.2 TLS/HTTPS \uc124\uc815"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"web-config.yml\uc5d0 TLS \ucd94\uac00:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"tls_server_config:\n  cert_file: /path/to/cert.pem\n  key_file: /path/to/key.pem\n\nbasic_auth_users:\n  admin: $2y$10$X.KjHpgf5J5Eq8F8Q8N9XOqP3Nz7J0rN3Q3X5XqE8N9X.KjHpgf5J\n"})}),"\n",(0,t.jsx)(n.h3,{id:"153-\ub124\ud2b8\uc6cc\ud06c-\uc811\uadfc-\uc81c\uc5b4",children:"1.5.3 \ub124\ud2b8\uc6cc\ud06c \uc811\uadfc \uc81c\uc5b4"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\ubc29\ud654\ubcbd \uc124\uc815 (iptables):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Prometheus \ud3ec\ud2b8(9090)\ub97c \ud2b9\uc815 IP\uc5d0\uc11c\ub9cc \uc811\uadfc \ud5c8\uc6a9\nsudo iptables -A INPUT -p tcp -s 192.168.1.0/24 --dport 9090 -j ACCEPT\nsudo iptables -A INPUT -p tcp --dport 9090 -j DROP\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Docker \ub124\ud2b8\uc6cc\ud06c \uaca9\ub9ac:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \uc804\uc6a9 \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131\ndocker network create monitoring\n\n# Prometheus\ub97c \uaca9\ub9ac\ub41c \ub124\ud2b8\uc6cc\ud06c\uc5d0\uc11c \uc2e4\ud589\ndocker run -d \\\n  --name prometheus \\\n  --network monitoring \\\n  -p 127.0.0.1:9090:9090 \\\n  prom/prometheus:latest\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"\ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c\ub294 Prometheus \uc55e\uc5d0 Nginx\ub098 Traefik \uac19\uc740 \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc\ub97c \ub450\uc5b4 \uc778\uc99d\uacfc \uc554\ud638\ud654\ub97c \ucc98\ub9ac\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."})}),"\n",(0,t.jsx)(n.h2,{id:"16-node-exporter-\uc124\uce58",children:"1.6 Node Exporter \uc124\uce58"}),"\n",(0,t.jsx)(n.p,{children:"Node Exporter\ub294 \uc2dc\uc2a4\ud15c \ub808\ubca8 \uba54\ud2b8\ub9ad(CPU, \uba54\ubaa8\ub9ac, \ub514\uc2a4\ud06c, \ub124\ud2b8\uc6cc\ud06c \ub4f1)\uc744 \uc218\uc9d1\ud558\ub294 Prometheus \uacf5\uc2dd \uc775\uc2a4\ud3ec\ud130\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h3,{id:"161-docker\ub85c-node-exporter-\uc124\uce58",children:"1.6.1 Docker\ub85c Node Exporter \uc124\uce58"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'docker run -d \\\n  --name node-exporter \\\n  --net="host" \\\n  --pid="host" \\\n  -v "/:/host:ro,rslave" \\\n  prom/node-exporter:latest \\\n  --path.rootfs=/host\n'})}),"\n",(0,t.jsx)(n.h3,{id:"162-\ubc14\uc774\ub108\ub9ac\ub85c-node-exporter-\uc124\uce58",children:"1.6.2 \ubc14\uc774\ub108\ub9ac\ub85c Node Exporter \uc124\uce58"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Node Exporter \ub2e4\uc6b4\ub85c\ub4dc\nwget https://github.com/prometheus/node_exporter/releases/download/v1.6.1/node_exporter-1.6.1.linux-amd64.tar.gz\n\n# \uc555\ucd95 \ud574\uc81c\ntar xvfz node_exporter-1.6.1.linux-amd64.tar.gz\n\n# \uc2e4\ud589\ncd node_exporter-1.6.1.linux-amd64\n./node_exporter\n"})}),"\n",(0,t.jsx)(n.h3,{id:"163-systemd-\uc11c\ube44\uc2a4\ub85c-\ub4f1\ub85d",children:"1.6.3 systemd \uc11c\ube44\uc2a4\ub85c \ub4f1\ub85d"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo vi /etc/systemd/system/node-exporter.service\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[Unit]\nDescription=Node Exporter\nAfter=network.target\n\n[Service]\nType=simple\nUser=prometheus\nExecStart=/usr/local/bin/node_exporter\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \uc11c\ube44\uc2a4 \uc2dc\uc791\nsudo systemctl daemon-reload\nsudo systemctl start node-exporter\nsudo systemctl enable node-exporter\n"})}),"\n",(0,t.jsx)(n.h3,{id:"164-prometheus\uc5d0-node-exporter-\ucd94\uac00",children:"1.6.4 Prometheus\uc5d0 Node Exporter \ucd94\uac00"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"prometheus.yml \uc5c5\ub370\uc774\ud2b8:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"scrape_configs:\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets: ['localhost:9100']\n        labels:\n          instance: 'server-1'\n          datacenter: 'dc1'\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Node Exporter\ub294 \uae30\ubcf8\uc801\uc73c\ub85c 9100 \ud3ec\ud2b8\uc5d0\uc11c \uba54\ud2b8\ub9ad\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c ",(0,t.jsx)(n.code,{children:"http://localhost:9100/metrics"}),"\ub85c \uc811\uc18d\ud558\uc5ec \uba54\ud2b8\ub9ad\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,t.jsx)(n.h2,{id:"17-python-exporter-\uc124\uc815",children:"1.7 Python Exporter \uc124\uc815"}),"\n",(0,t.jsx)(n.p,{children:"Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \ucee4\uc2a4\ud140 \uba54\ud2b8\ub9ad\uc744 \uc218\uc9d1\ud558\ub294 \ubc29\ubc95\uc744 \uc54c\uc544\ubd05\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h3,{id:"171-prometheus-\ud074\ub77c\uc774\uc5b8\ud2b8-\ub77c\uc774\ube0c\ub7ec\ub9ac-\uc124\uce58",children:"1.7.1 Prometheus \ud074\ub77c\uc774\uc5b8\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip install prometheus-client\n"})}),"\n",(0,t.jsx)(n.h3,{id:"172-\uae30\ubcf8-python-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\uacc4\uce21",children:"1.7.2 \uae30\ubcf8 Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce21"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from prometheus_client import start_http_server, Counter, Gauge, Histogram\nimport random\nimport time\n\n# \uba54\ud2b8\ub9ad \uc815\uc758\nREQUEST_COUNT = Counter(\n    'app_requests_total',\n    'Total number of requests',\n    ['method', 'endpoint', 'status']\n)\n\nACTIVE_USERS = Gauge(\n    'app_active_users',\n    'Number of active users'\n)\n\nREQUEST_DURATION = Histogram(\n    'app_request_duration_seconds',\n    'Request duration in seconds',\n    ['endpoint']\n)\n\ndef process_request(method, endpoint):\n    \"\"\"\uc694\uccad \ucc98\ub9ac \uc2dc\ubbac\ub808\uc774\uc158\"\"\"\n    # \uc694\uccad \ucc98\ub9ac \uc2dc\uac04 \uce21\uc815\n    with REQUEST_DURATION.labels(endpoint=endpoint).time():\n        # \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uc2dc\ubbac\ub808\uc774\uc158\n        time.sleep(random.uniform(0.1, 0.5))\n\n        # \uc694\uccad \uce74\uc6b4\ud2b8 \uc99d\uac00\n        status = random.choice([200, 200, 200, 400, 500])\n        REQUEST_COUNT.labels(method=method, endpoint=endpoint, status=status).inc()\n\n    return status\n\nif __name__ == '__main__':\n    # \uba54\ud2b8\ub9ad \uc11c\ubc84 \uc2dc\uc791 (\uae30\ubcf8 \ud3ec\ud2b8: 8000)\n    start_http_server(8000)\n    print(\"Metrics server started on :8000\")\n\n    # \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub85c\uc9c1 \uc2dc\ubbac\ub808\uc774\uc158\n    while True:\n        # \uc561\ud2f0\ube0c \uc720\uc800 \uc5c5\ub370\uc774\ud2b8\n        ACTIVE_USERS.set(random.randint(50, 150))\n\n        # \ub79c\ub364 \uc694\uccad \ucc98\ub9ac\n        endpoints = ['/api/users', '/api/products', '/api/orders']\n        methods = ['GET', 'POST', 'PUT', 'DELETE']\n\n        for _ in range(random.randint(1, 5)):\n            process_request(\n                random.choice(methods),\n                random.choice(endpoints)\n            )\n\n        time.sleep(1)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"173-flask-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\ud1b5\ud569",children:"1.7.3 Flask \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud1b5\ud569"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from flask import Flask, request\nfrom prometheus_client import Counter, Histogram, generate_latest, REGISTRY\nimport time\n\napp = Flask(__name__)\n\n# \uba54\ud2b8\ub9ad \uc815\uc758\nHTTP_REQUESTS = Counter(\n    'flask_http_requests_total',\n    'Total HTTP requests',\n    ['method', 'endpoint', 'status']\n)\n\nHTTP_REQUEST_DURATION = Histogram(\n    'flask_http_request_duration_seconds',\n    'HTTP request duration',\n    ['method', 'endpoint']\n)\n\n@app.before_request\ndef before_request():\n    \"\"\"\uc694\uccad \uc2dc\uc791 \uc2dc\uac04 \uae30\ub85d\"\"\"\n    request.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    \"\"\"\uc694\uccad \uc644\ub8cc \ud6c4 \uba54\ud2b8\ub9ad \uae30\ub85d\"\"\"\n    if hasattr(request, 'start_time'):\n        duration = time.time() - request.start_time\n        HTTP_REQUEST_DURATION.labels(\n            method=request.method,\n            endpoint=request.path\n        ).observe(duration)\n\n        HTTP_REQUESTS.labels(\n            method=request.method,\n            endpoint=request.path,\n            status=response.status_code\n        ).inc()\n\n    return response\n\n@app.route('/api/hello')\ndef hello():\n    \"\"\"\uc0d8\ud50c API \uc5d4\ub4dc\ud3ec\uc778\ud2b8\"\"\"\n    time.sleep(0.1)  # \ucc98\ub9ac \uc2dc\uac04 \uc2dc\ubbac\ub808\uc774\uc158\n    return {'message': 'Hello, World!'}\n\n@app.route('/api/users/<int:user_id>')\ndef get_user(user_id):\n    \"\"\"\uc0ac\uc6a9\uc790 \uc870\ud68c \uc5d4\ub4dc\ud3ec\uc778\ud2b8\"\"\"\n    time.sleep(0.2)\n    return {'user_id': user_id, 'name': f'User {user_id}'}\n\n@app.route('/metrics')\ndef metrics():\n    \"\"\"Prometheus \uba54\ud2b8\ub9ad \uc5d4\ub4dc\ud3ec\uc778\ud2b8\"\"\"\n    return generate_latest(REGISTRY)\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=8000)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"174-fastapi-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\ud1b5\ud569",children:"1.7.4 FastAPI \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud1b5\ud569"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from fastapi import FastAPI, Request\nfrom prometheus_client import Counter, Histogram, generate_latest, REGISTRY\nimport time\n\napp = FastAPI()\n\n# \uba54\ud2b8\ub9ad \uc815\uc758\nHTTP_REQUESTS = Counter(\n    \'fastapi_http_requests_total\',\n    \'Total HTTP requests\',\n    [\'method\', \'endpoint\', \'status\']\n)\n\nHTTP_REQUEST_DURATION = Histogram(\n    \'fastapi_http_request_duration_seconds\',\n    \'HTTP request duration\',\n    [\'method\', \'endpoint\']\n)\n\n@app.middleware("http")\nasync def prometheus_middleware(request: Request, call_next):\n    """Prometheus \uba54\ud2b8\ub9ad \ubbf8\ub4e4\uc6e8\uc5b4"""\n    start_time = time.time()\n\n    # \uc694\uccad \ucc98\ub9ac\n    response = await call_next(request)\n\n    # \uba54\ud2b8\ub9ad \uae30\ub85d\n    duration = time.time() - start_time\n    HTTP_REQUEST_DURATION.labels(\n        method=request.method,\n        endpoint=request.url.path\n    ).observe(duration)\n\n    HTTP_REQUESTS.labels(\n        method=request.method,\n        endpoint=request.url.path,\n        status=response.status_code\n    ).inc()\n\n    return response\n\n@app.get("/api/hello")\nasync def hello():\n    """\uc0d8\ud50c API \uc5d4\ub4dc\ud3ec\uc778\ud2b8"""\n    return {"message": "Hello, World!"}\n\n@app.get("/api/users/{user_id}")\nasync def get_user(user_id: int):\n    """\uc0ac\uc6a9\uc790 \uc870\ud68c \uc5d4\ub4dc\ud3ec\uc778\ud2b8"""\n    return {"user_id": user_id, "name": f"User {user_id}"}\n\n@app.get("/metrics")\nasync def metrics():\n    """Prometheus \uba54\ud2b8\ub9ad \uc5d4\ub4dc\ud3ec\uc778\ud2b8"""\n    return generate_latest(REGISTRY)\n\nif __name__ == "__main__":\n    import uvicorn\n    uvicorn.run(app, host="0.0.0.0", port=8000)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"175-prometheus\uc5d0-python-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\ucd94\uac00",children:"1.7.5 Prometheus\uc5d0 Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucd94\uac00"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"scrape_configs:\n  - job_name: 'python-app'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:8000']\n        labels:\n          app: 'my-python-app'\n          environment: 'development'\n"})}),"\n",(0,t.jsx)(n.h2,{id:"18-\uc124\uc815-\uac80\uc99d-\ubc0f-\ubb38\uc81c-\ud574\uacb0",children:"1.8 \uc124\uc815 \uac80\uc99d \ubc0f \ubb38\uc81c \ud574\uacb0"}),"\n",(0,t.jsx)(n.h3,{id:"181-\uc124\uc815-\ud30c\uc77c-\uac80\uc99d",children:"1.8.1 \uc124\uc815 \ud30c\uc77c \uac80\uc99d"}),"\n",(0,t.jsx)(n.p,{children:"Prometheus\ub294 \uc124\uc815 \ud30c\uc77c \uac80\uc99d \ub3c4\uad6c\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \uc124\uc815 \ud30c\uc77c \uac80\uc99d\n./promtool check config prometheus.yml\n\n# \uaddc\uce59 \ud30c\uc77c \uac80\uc99d\n./promtool check rules alerts.yml\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uc131\uacf5 \ucd9c\ub825:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Checking prometheus.yml\n  SUCCESS: 1 rule files found\n  SUCCESS: prometheus.yml is valid prometheus config file syntax\n"})}),"\n",(0,t.jsx)(n.h3,{id:"182-\uc124\uc815-\ub9ac\ub85c\ub4dc",children:"1.8.2 \uc124\uc815 \ub9ac\ub85c\ub4dc"}),"\n",(0,t.jsx)(n.p,{children:"Prometheus\ub97c \uc7ac\uc2dc\uc791\ud558\uc9c0 \uc54a\uace0 \uc124\uc815\uc744 \ub2e4\uc2dc \ub85c\ub4dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# HTTP POST\ub85c \ub9ac\ub85c\ub4dc (--web.enable-lifecycle \ud50c\ub798\uadf8 \ud544\uc694)\ncurl -X POST http://localhost:9090/-/reload\n\n# \ub610\ub294 SIGHUP \uc2dc\uadf8\ub110 \uc804\uc1a1\nkill -HUP $(pidof prometheus)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"183-\uc77c\ubc18\uc801\uc778-\ubb38\uc81c-\ud574\uacb0",children:"1.8.3 \uc77c\ubc18\uc801\uc778 \ubb38\uc81c \ud574\uacb0"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\ubb38\uc81c 1: \ud0c0\uac9f\uc774 \uc218\uc9d1\ub418\uc9c0 \uc54a\uc74c (Target Down)"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \ud0c0\uac9f \uc0c1\ud0dc \ud655\uc778\ncurl http://localhost:9090/api/v1/targets\n\n# \ud0c0\uac9f\uc774 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778\ncurl http://target-host:port/metrics\n\n# \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \ud655\uc778\ntelnet target-host port\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\ubb38\uc81c 2: \uba54\ud2b8\ub9ad\uc774 \ud45c\uc2dc\ub418\uc9c0 \uc54a\uc74c"})}),"\n",(0,t.jsx)(n.p,{children:"Prometheus UI\uc5d0\uc11c Status > Targets\ub85c \uc774\ub3d9\ud558\uc5ec \ud0c0\uac9f \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc138\uc694."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"UP"}),": \uc815\uc0c1 \uc218\uc9d1 \uc911"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DOWN"}),": \uc5f0\uacb0 \uc2e4\ud328"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"UNKNOWN"}),": \uc544\uc9c1 \uc218\uc9d1 \uc2dc\ub3c4 \uc548 \ud568"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\ubb38\uc81c 3: \ub514\uc2a4\ud06c \uacf5\uac04 \ubd80\uc871"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \ud604\uc7ac \ub514\uc2a4\ud06c \uc0ac\uc6a9\ub7c9 \ud655\uc778\ndu -sh /data/prometheus\n\n# \ub370\uc774\ud130 \ubcf4\uc874 \uae30\uac04 \uc904\uc774\uae30\n./prometheus --storage.tsdb.retention.time=7d\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\ubb38\uc81c 4: \ub192\uc740 \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# \uc2a4\ud06c\ub7a9 \uac04\uaca9 \ub298\ub9ac\uae30\nglobal:\n  scrape_interval: 30s  # 15s -> 30s\ub85c \uc99d\uac00\n\n# \ud0c0\uac9f \uc218 \uc904\uc774\uae30\n# \ubd88\ud544\uc694\ud55c \uba54\ud2b8\ub9ad \ud544\ud130\ub9c1\nmetric_relabel_configs:\n  - source_labels: [__name__]\n    regex: 'go_.*'  # Go \ub7f0\ud0c0\uc784 \uba54\ud2b8\ub9ad \uc81c\uc678\n    action: drop\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["Prometheus \ub85c\uadf8\ub294 \ud45c\uc900 \ucd9c\ub825\uc73c\ub85c \ucd9c\ub825\ub429\ub2c8\ub2e4. Docker\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 ",(0,t.jsx)(n.code,{children:"docker logs prometheus"})," \uba85\ub839\uc73c\ub85c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,t.jsx)(n.h3,{id:"184-\ub514\ubc84\uae45-\ud301",children:"1.8.4 \ub514\ubc84\uae45 \ud301"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"PromQL \ucffc\ub9ac \ud14c\uc2a4\ud2b8:"})}),"\n",(0,t.jsxs)(n.p,{children:["Prometheus UI (",(0,t.jsx)(n.code,{children:"http://localhost:9090"}),")\uc758 Graph \ud0ed\uc5d0\uc11c \ucffc\ub9ac\ub97c \ud14c\uc2a4\ud2b8\ud558\uc138\uc694."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-promql",children:'# \ubaa8\ub4e0 \uba54\ud2b8\ub9ad \ud655\uc778\n{__name__=~".+"}\n\n# \ud2b9\uc815 job\uc758 \uba54\ud2b8\ub9ad \ud655\uc778\n{job="python-app"}\n\n# \ud2b9\uc815 \uba54\ud2b8\ub9ad\uc758 \ub808\uc774\ube14 \ud655\uc778\napp_requests_total\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\ub85c\uadf8 \ub808\ubca8 \uc870\uc815:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./prometheus --log.level=debug\n"})}),"\n",(0,t.jsx)(n.h2,{id:"19-docker-compose\ub85c-\uc804\uccb4-\uc2a4\ud0dd-\uad6c\uc131",children:"1.9 Docker Compose\ub85c \uc804\uccb4 \uc2a4\ud0dd \uad6c\uc131"}),"\n",(0,t.jsx)(n.p,{children:"\uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd\uacfc \uc720\uc0ac\ud55c \uc804\uccb4 \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd\uc744 Docker Compose\ub85c \uad6c\uc131\ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h3,{id:"191-\ub514\ub809\ud1a0\ub9ac-\uad6c\uc870",children:"1.9.1 \ub514\ub809\ud1a0\ub9ac \uad6c\uc870"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"monitoring/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 prometheus/\n\u2502   \u2514\u2500\u2500 prometheus.yml\n\u251c\u2500\u2500 grafana/\n\u2502   \u2514\u2500\u2500 provisioning/\n\u2502       \u251c\u2500\u2500 dashboards/\n\u2502       \u2502   \u2514\u2500\u2500 dashboard.yml\n\u2502       \u2514\u2500\u2500 datasources/\n\u2502           \u2514\u2500\u2500 datasource.yml\n\u2514\u2500\u2500 app/\n    \u251c\u2500\u2500 Dockerfile\n    \u2514\u2500\u2500 app.py\n"})}),"\n",(0,t.jsx)(n.h3,{id:"192-docker-compose-\ud30c\uc77c",children:"1.9.2 Docker Compose \ud30c\uc77c"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"docker-compose.yml:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"version: '3.8'\n\nservices:\n  # Prometheus \uc11c\ubc84\n  prometheus:\n    image: prom/prometheus:latest\n    container_name: prometheus\n    volumes:\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\n      - prometheus-data:/prometheus\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--storage.tsdb.retention.time=30d'\n      - '--web.enable-lifecycle'\n    ports:\n      - \"9090:9090\"\n    networks:\n      - monitoring\n    restart: unless-stopped\n\n  # Node Exporter (\uc2dc\uc2a4\ud15c \uba54\ud2b8\ub9ad)\n  node-exporter:\n    image: prom/node-exporter:latest\n    container_name: node-exporter\n    command:\n      - '--path.rootfs=/host'\n    volumes:\n      - '/:/host:ro,rslave'\n    ports:\n      - \"9100:9100\"\n    networks:\n      - monitoring\n    restart: unless-stopped\n\n  # Grafana (\uc2dc\uac01\ud654)\n  grafana:\n    image: grafana/grafana:latest\n    container_name: grafana\n    volumes:\n      - grafana-data:/var/lib/grafana\n      - ./grafana/provisioning:/etc/grafana/provisioning\n    environment:\n      - GF_SECURITY_ADMIN_USER=admin\n      - GF_SECURITY_ADMIN_PASSWORD=admin\n      - GF_USERS_ALLOW_SIGN_UP=false\n    ports:\n      - \"3000:3000\"\n    networks:\n      - monitoring\n    restart: unless-stopped\n    depends_on:\n      - prometheus\n\n  # Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158\n  python-app:\n    build: ./app\n    container_name: python-app\n    ports:\n      - \"8000:8000\"\n    networks:\n      - monitoring\n    restart: unless-stopped\n    environment:\n      - PROMETHEUS_MULTIPROC_DIR=/tmp\n\nnetworks:\n  monitoring:\n    driver: bridge\n\nvolumes:\n  prometheus-data:\n  grafana-data:\n"})}),"\n",(0,t.jsx)(n.h3,{id:"193-prometheus-\uc124\uc815",children:"1.9.3 Prometheus \uc124\uc815"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"prometheus/prometheus.yml:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n  external_labels:\n    cluster: 'docker-compose'\n    environment: 'development'\n\nscrape_configs:\n  # Prometheus \uc790\uccb4 \ubaa8\ub2c8\ud130\ub9c1\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n\n  # Node Exporter\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets: ['node-exporter:9100']\n        labels:\n          instance: 'docker-host'\n\n  # Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158\n  - job_name: 'python-app'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['python-app:8000']\n        labels:\n          app: 'demo-app'\n          version: 'v1.0'\n\n  # Grafana \ubaa8\ub2c8\ud130\ub9c1 (\uc120\ud0dd\uc0ac\ud56d)\n  - job_name: 'grafana'\n    static_configs:\n      - targets: ['grafana:3000']\n"})}),"\n",(0,t.jsx)(n.h3,{id:"194-python-\uc560\ud50c\ub9ac\ucf00\uc774\uc158",children:"1.9.4 Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"app/Dockerfile:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dockerfile",children:'FROM python:3.11-slim\n\nWORKDIR /app\n\n# \uc758\uc874\uc131 \uc124\uce58\nRUN pip install --no-cache-dir \\\n    prometheus-client \\\n    flask \\\n    gunicorn\n\n# \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud30c\uc77c \ubcf5\uc0ac\nCOPY app.py .\n\n# \ud3ec\ud2b8 \ub178\ucd9c\nEXPOSE 8000\n\n# \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc2e4\ud589\nCMD ["gunicorn", "--bind", "0.0.0.0:8000", "--workers", "4", "app:app"]\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"app/app.py:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from flask import Flask, jsonify\nfrom prometheus_client import Counter, Histogram, Gauge, generate_latest, REGISTRY\nimport time\nimport random\nimport os\n\napp = Flask(__name__)\n\n# \uba54\ud2b8\ub9ad \uc815\uc758\nREQUEST_COUNT = Counter(\n    'app_http_requests_total',\n    'Total HTTP requests',\n    ['method', 'endpoint', 'status']\n)\n\nREQUEST_DURATION = Histogram(\n    'app_http_request_duration_seconds',\n    'HTTP request duration',\n    ['method', 'endpoint'],\n    buckets=[0.01, 0.05, 0.1, 0.5, 1.0, 5.0]\n)\n\nACTIVE_CONNECTIONS = Gauge(\n    'app_active_connections',\n    'Number of active connections'\n)\n\nPROCESSING_TIME = Histogram(\n    'app_processing_seconds',\n    'Time spent processing request',\n    ['endpoint']\n)\n\n@app.before_request\ndef before_request():\n    \"\"\"\uc694\uccad \uc804\ucc98\ub9ac\"\"\"\n    from flask import request\n    request.start_time = time.time()\n    ACTIVE_CONNECTIONS.inc()\n\n@app.after_request\ndef after_request(response):\n    \"\"\"\uc694\uccad \ud6c4\ucc98\ub9ac\"\"\"\n    from flask import request\n\n    if hasattr(request, 'start_time'):\n        duration = time.time() - request.start_time\n        REQUEST_DURATION.labels(\n            method=request.method,\n            endpoint=request.path\n        ).observe(duration)\n\n        REQUEST_COUNT.labels(\n            method=request.method,\n            endpoint=request.path,\n            status=response.status_code\n        ).inc()\n\n    ACTIVE_CONNECTIONS.dec()\n    return response\n\n@app.route('/')\ndef index():\n    \"\"\"\ud648 \ud398\uc774\uc9c0\"\"\"\n    return jsonify({\n        'message': 'Welcome to Prometheus Demo App',\n        'endpoints': ['/api/users', '/api/products', '/api/slow', '/metrics']\n    })\n\n@app.route('/api/users')\ndef get_users():\n    \"\"\"\uc0ac\uc6a9\uc790 \ubaa9\ub85d \uc870\ud68c\"\"\"\n    with PROCESSING_TIME.labels(endpoint='/api/users').time():\n        time.sleep(random.uniform(0.05, 0.15))\n        return jsonify([\n            {'id': 1, 'name': 'Alice'},\n            {'id': 2, 'name': 'Bob'},\n            {'id': 3, 'name': 'Charlie'}\n        ])\n\n@app.route('/api/products')\ndef get_products():\n    \"\"\"\uc0c1\ud488 \ubaa9\ub85d \uc870\ud68c\"\"\"\n    with PROCESSING_TIME.labels(endpoint='/api/products').time():\n        time.sleep(random.uniform(0.1, 0.3))\n        return jsonify([\n            {'id': 1, 'name': 'Laptop', 'price': 1200},\n            {'id': 2, 'name': 'Mouse', 'price': 25},\n            {'id': 3, 'name': 'Keyboard', 'price': 75}\n        ])\n\n@app.route('/api/slow')\ndef slow_endpoint():\n    \"\"\"\ub290\ub9b0 \uc5d4\ub4dc\ud3ec\uc778\ud2b8 (\ud14c\uc2a4\ud2b8\uc6a9)\"\"\"\n    with PROCESSING_TIME.labels(endpoint='/api/slow').time():\n        time.sleep(random.uniform(1.0, 3.0))\n        return jsonify({'message': 'This was slow!'})\n\n@app.route('/api/error')\ndef error_endpoint():\n    \"\"\"\uc5d0\ub7ec \ubc1c\uc0dd \uc5d4\ub4dc\ud3ec\uc778\ud2b8 (\ud14c\uc2a4\ud2b8\uc6a9)\"\"\"\n    if random.random() > 0.5:\n        return jsonify({'error': 'Something went wrong'}), 500\n    return jsonify({'message': 'Success'})\n\n@app.route('/metrics')\ndef metrics():\n    \"\"\"Prometheus \uba54\ud2b8\ub9ad \uc5d4\ub4dc\ud3ec\uc778\ud2b8\"\"\"\n    return generate_latest(REGISTRY)\n\n@app.route('/health')\ndef health():\n    \"\"\"\ud5ec\uc2a4\uccb4\ud06c \uc5d4\ub4dc\ud3ec\uc778\ud2b8\"\"\"\n    return jsonify({'status': 'healthy'})\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=8000)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"195-grafana-\ud504\ub85c\ube44\uc800\ub2dd",children:"1.9.5 Grafana \ud504\ub85c\ube44\uc800\ub2dd"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"grafana/provisioning/datasources/datasource.yml:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"apiVersion: 1\n\ndatasources:\n  - name: Prometheus\n    type: prometheus\n    access: proxy\n    url: http://prometheus:9090\n    isDefault: true\n    editable: true\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"grafana/provisioning/dashboards/dashboard.yml:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"apiVersion: 1\n\nproviders:\n  - name: 'Default'\n    orgId: 1\n    folder: ''\n    type: file\n    disableDeletion: false\n    updateIntervalSeconds: 10\n    allowUiUpdates: true\n    options:\n      path: /etc/grafana/provisioning/dashboards\n"})}),"\n",(0,t.jsx)(n.h3,{id:"196-\uc2a4\ud0dd-\uc2e4\ud589-\ubc0f-\ud655\uc778",children:"1.9.6 \uc2a4\ud0dd \uc2e4\ud589 \ubc0f \ud655\uc778"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \uc2a4\ud0dd \uc2dc\uc791\ndocker-compose up -d\n\n# \ub85c\uadf8 \ud655\uc778\ndocker-compose logs -f\n\n# \uc11c\ube44\uc2a4 \uc0c1\ud0dc \ud655\uc778\ndocker-compose ps\n\n# \uac1c\ubcc4 \uc11c\ube44\uc2a4 \ub85c\uadf8 \ud655\uc778\ndocker-compose logs prometheus\ndocker-compose logs python-app\n\n# \uc2a4\ud0dd \uc911\uc9c0\ndocker-compose down\n\n# \ubcfc\ub968 \ud3ec\ud568 \uc644\uc804 \uc0ad\uc81c\ndocker-compose down -v\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uc811\uc18d URL:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Prometheus: ",(0,t.jsx)(n.a,{href:"http://localhost:9090",children:"http://localhost:9090"})]}),"\n",(0,t.jsxs)(n.li,{children:["Grafana: ",(0,t.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," (admin/admin)"]}),"\n",(0,t.jsxs)(n.li,{children:["Python App: ",(0,t.jsx)(n.a,{href:"http://localhost:8000",children:"http://localhost:8000"})]}),"\n",(0,t.jsxs)(n.li,{children:["Node Exporter: ",(0,t.jsx)(n.a,{href:"http://localhost:9100",children:"http://localhost:9100"})]}),"\n",(0,t.jsxs)(n.li,{children:["Python App Metrics: ",(0,t.jsx)(n.a,{href:"http://localhost:8000/metrics",children:"http://localhost:8000/metrics"})]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Docker Compose\ub97c \uc0ac\uc6a9\ud558\uba74 \uc804\uccb4 \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd\uc744 \ud55c \ubc88\uc5d0 \uc2dc\uc791\ud558\uace0 \uad00\ub9ac\ud560 \uc218 \uc788\uc5b4 \uac1c\ubc1c \ubc0f \ud14c\uc2a4\ud2b8 \ud658\uacbd \uad6c\ucd95\uc774 \ub9e4\uc6b0 \uac04\ud3b8\ud569\ub2c8\ub2e4."})}),"\n",(0,t.jsx)(n.h2,{id:"110-\uc2e4\uc2b5-\uc608\uc81c-\ub85c\uceec-\ud658\uacbd-\uad6c\ucd95",children:"1.10 \uc2e4\uc2b5 \uc608\uc81c: \ub85c\uceec \ud658\uacbd \uad6c\ucd95"}),"\n",(0,t.jsx)(n.p,{children:"\uc2e4\uc81c\ub85c \ub85c\uceec \ud658\uacbd\uc5d0\uc11c Prometheus \ubaa8\ub2c8\ud130\ub9c1\uc744 \uc124\uc815\ud574\ubd05\uc2dc\ub2e4."}),"\n",(0,t.jsx)(n.h3,{id:"1101-\uc2e4\uc2b5-1-\uae30\ubcf8-\uc124\uce58-\ubc0f-\uc124\uc815",children:"1.10.1 \uc2e4\uc2b5 1: \uae30\ubcf8 \uc124\uce58 \ubc0f \uc124\uc815"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ubaa9\ud45c:"})," Prometheus\ub97c \uc124\uce58\ud558\uace0 \uc790\uccb4 \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815"]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"\uc2e4\uc2b5 \ub2e8\uacc4 \ubcf4\uae30"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Prometheus \ub2e4\uc6b4\ub85c\ub4dc \ubc0f \uc2e4\ud589"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Docker\ub85c \uc2e4\ud589\ndocker run -d \\\n  --name prometheus \\\n  -p 9090:9090 \\\n  prom/prometheus:latest\n\n# \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \ud655\uc778\n# http://localhost:9090\n"})}),(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Prometheus UI \ud0d0\uc0c9"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Status > Targets: \ubaa8\ub2c8\ud130\ub9c1 \ub300\uc0c1 \ud655\uc778"}),"\n",(0,t.jsx)(n.li,{children:"Status > Configuration: \uc124\uc815 \ud655\uc778"}),"\n",(0,t.jsx)(n.li,{children:"Graph: \ucffc\ub9ac \uc2e4\ud589"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uac04\ub2e8\ud55c \ucffc\ub9ac \uc2e4\ud589"})}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-promql",children:"# Prometheus \uc5c5\ud0c0\uc784 \ud655\uc778\nup\n\n# \uba54\ud2b8\ub9ad \uc218\uc9d1 \uc2dc\uac04 \ud655\uc778\nprometheus_tsdb_head_samples_appended_total\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"1102-\uc2e4\uc2b5-2-node-exporter-\uc124\uc815",children:"1.10.2 \uc2e4\uc2b5 2: Node Exporter \uc124\uc815"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ubaa9\ud45c:"})," \uc2dc\uc2a4\ud15c \uba54\ud2b8\ub9ad \uc218\uc9d1 \uc124\uc815"]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"\uc2e4\uc2b5 \ub2e8\uacc4 \ubcf4\uae30"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Node Exporter \uc2e4\ud589"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'docker run -d \\\n  --name node-exporter \\\n  --network container:prometheus \\\n  -v "/:/host:ro,rslave" \\\n  prom/node-exporter:latest \\\n  --path.rootfs=/host\n'})}),(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"prometheus.yml \uc0dd\uc131"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# prometheus.yml\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n\n  - job_name: 'node'\n    static_configs:\n      - targets: ['localhost:9100']\n"})}),(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Prometheus \uc7ac\uc2dc\uc791"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker stop prometheus\ndocker rm prometheus\n\ndocker run -d \\\n  --name prometheus \\\n  -p 9090:9090 \\\n  -v $(pwd)/prometheus.yml:/etc/prometheus/prometheus.yml \\\n  prom/prometheus:latest\n"})}),(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"\uba54\ud2b8\ub9ad \ud655\uc778"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-promql",children:'# CPU \uc0ac\uc6a9\ub960\n100 - (avg by (instance) (irate(node_cpu_seconds_total{mode="idle"}[5m])) * 100)\n\n# \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960\n(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100\n\n# \ub514\uc2a4\ud06c \uc0ac\uc6a9\ub960\n100 - ((node_filesystem_avail_bytes / node_filesystem_size_bytes) * 100)\n'})})]}),"\n",(0,t.jsx)(n.h3,{id:"1103-\uc2e4\uc2b5-3-python-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\uacc4\uce21",children:"1.10.3 \uc2e4\uc2b5 3: Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce21"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ubaa9\ud45c:"})," Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \uba54\ud2b8\ub9ad \ucd94\uac00"]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"\uc2e4\uc2b5 \ub2e8\uacc4 \ubcf4\uae30"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"\uac04\ub2e8\ud55c Flask \uc571 \uc0dd\uc131"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# app.py\nfrom flask import Flask\nfrom prometheus_client import Counter, generate_latest\nimport random\n\napp = Flask(__name__)\n\nREQUESTS = Counter('app_requests_total', 'Total requests')\n\n@app.route('/')\ndef index():\n    REQUESTS.inc()\n    return 'Hello, Prometheus!'\n\n@app.route('/random')\ndef random_number():\n    REQUESTS.inc()\n    return str(random.randint(1, 100))\n\n@app.route('/metrics')\ndef metrics():\n    return generate_latest()\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=8000)\n"})}),(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc2e4\ud589"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip install flask prometheus-client\npython app.py\n"})}),(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"\uba54\ud2b8\ub9ad \ud655\uc778"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8000/metrics\n"})}),(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"\ubd80\ud558 \uc0dd\uc131 \uc2a4\ud06c\ub9bd\ud2b8"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# load_generator.py\nimport requests\nimport time\nimport random\n\nwhile True:\n    endpoint = random.choice(['/', '/random'])\n    try:\n        requests.get(f'http://localhost:8000{endpoint}')\n    except:\n        pass\n    time.sleep(0.5)\n"})}),(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Prometheus\uc5d0 \ucd94\uac00"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"scrape_configs:\n  - job_name: 'flask-app'\n    static_configs:\n      - targets: ['host.docker.internal:8000']\n"})}),(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"\ucffc\ub9ac \uc2e4\ud589"})}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-promql",children:"# \ucd08\ub2f9 \uc694\uccad \uc218\nrate(app_requests_total[1m])\n\n# \ucd1d \uc694\uccad \uc218\napp_requests_total\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"1104-\uc2e4\uc2b5-4-docker-compose-\uc804\uccb4-\uc2a4\ud0dd",children:"1.10.4 \uc2e4\uc2b5 4: Docker Compose \uc804\uccb4 \uc2a4\ud0dd"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ubaa9\ud45c:"})," \uc644\uc804\ud55c \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \uad6c\ucd95"]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"\uc2e4\uc2b5 \ub2e8\uacc4 \ubcf4\uae30"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uc704 \uc139\uc158 1.9\uc758 \ud30c\uc77c\ub4e4 \uc0dd\uc131"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uc2a4\ud0dd \uc2dc\uc791"})}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d\n"})}),(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uac01 \uc11c\ube44\uc2a4 \ud655\uc778"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Prometheus: ",(0,t.jsx)(n.a,{href:"http://localhost:9090",children:"http://localhost:9090"})]}),"\n",(0,t.jsxs)(n.li,{children:["Grafana: ",(0,t.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})]}),"\n",(0,t.jsxs)(n.li,{children:["Python App: ",(0,t.jsx)(n.a,{href:"http://localhost:8000",children:"http://localhost:8000"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Grafana\uc5d0\uc11c \ub300\uc2dc\ubcf4\ub4dc \uc0dd\uc131"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Prometheus \ub370\uc774\ud130\uc18c\uc2a4 \ucd94\uac00 (\uc774\ubbf8 \ud504\ub85c\ube44\uc800\ub2dd\ub428)"}),"\n",(0,t.jsx)(n.li,{children:"\uc0c8 \ub300\uc2dc\ubcf4\ub4dc \uc0dd\uc131"}),"\n",(0,t.jsxs)(n.li,{children:["\ud328\ub110 \ucd94\uac00:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\uc694\uccad \uc218: ",(0,t.jsx)(n.code,{children:"rate(app_http_requests_total[1m])"})]}),"\n",(0,t.jsxs)(n.li,{children:["\uc751\ub2f5 \uc2dc\uac04: ",(0,t.jsx)(n.code,{children:"histogram_quantile(0.95, rate(app_http_request_duration_seconds_bucket[5m]))"})]}),"\n",(0,t.jsxs)(n.li,{children:["\ud65c\uc131 \uc5f0\uacb0: ",(0,t.jsx)(n.code,{children:"app_active_connections"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\ubd80\ud558 \ud14c\uc2a4\ud2b8"})}),"\n"]}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \uac04\ub2e8\ud55c \ubd80\ud558 \uc0dd\uc131\nwhile true; do\n  curl http://localhost:8000/api/users\n  curl http://localhost:8000/api/products\n  sleep 1\ndone\n"})}),(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\uacb0\uacfc \ud655\uc778"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Prometheus\uc5d0\uc11c \uba54\ud2b8\ub9ad \ucffc\ub9ac"}),"\n",(0,t.jsx)(n.li,{children:"Grafana\uc5d0\uc11c \uc2dc\uac01\ud654 \ud655\uc778"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.h3,{id:"1105-\uc2e4\uc2b5-5-\ubb38\uc81c-\ud574\uacb0-\uc5f0\uc2b5",children:"1.10.5 \uc2e4\uc2b5 5: \ubb38\uc81c \ud574\uacb0 \uc5f0\uc2b5"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ubaa9\ud45c:"})," \uc77c\ubc18\uc801\uc778 \ubb38\uc81c \uc2dd\ubcc4 \ubc0f \ud574\uacb0"]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"\uc2e4\uc2b5 \ub2e8\uacc4 \ubcf4\uae30"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uc2dc\ub098\ub9ac\uc624 1: \ud0c0\uac9f\uc774 \ub2e4\uc6b4 \uc0c1\ud0dc"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Python \uc571 \uc911\uc9c0\ndocker-compose stop python-app\n\n# Prometheus\uc5d0\uc11c Status > Targets \ud655\uc778\n# python-app\uc774 DOWN \uc0c1\ud0dc\uc778\uc9c0 \ud655\uc778\n\n# \ub85c\uadf8 \ud655\uc778\ndocker-compose logs prometheus\n\n# \ubcf5\uad6c\ndocker-compose start python-app\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uc2dc\ub098\ub9ac\uc624 2: \uba54\ud2b8\ub9ad\uc774 \uc218\uc9d1\ub418\uc9c0 \uc54a\uc74c"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \uc124\uc815 \ud30c\uc77c \uac80\uc99d\ndocker-compose exec prometheus promtool check config /etc/prometheus/prometheus.yml\n\n# \ud0c0\uac9f \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \uc9c1\uc811 \ud655\uc778\ncurl http://localhost:8000/metrics\n\n# \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \ud655\uc778\ndocker-compose exec prometheus wget -O- python-app:8000/metrics\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\uc2dc\ub098\ub9ac\uc624 3: \ucffc\ub9ac \uc131\ub2a5 \ucd5c\uc801\ud654"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-promql",children:'# \ube44\ud6a8\uc728\uc801\uc778 \ucffc\ub9ac\nsum(rate(app_http_requests_total[1m]))\n\n# \ud6a8\uc728\uc801\uc778 \ucffc\ub9ac (\ud544\uc694\ud55c \ub808\uc774\ube14\ub9cc \uc0ac\uc6a9)\nsum(rate(app_http_requests_total{job="python-app"}[1m])) by (endpoint)\n'})})]}),"\n",(0,t.jsx)(n.h2,{id:"\uc694\uc57d",children:"\uc694\uc57d"}),"\n",(0,t.jsx)(n.p,{children:"\uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 \ub2e4\uc74c \ub0b4\uc6a9\uc744 \ub2e4\ub918\uc2b5\ub2c8\ub2e4:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\uc124\uce58 \ubc29\ubc95"}),": Docker, \ubc14\uc774\ub108\ub9ac, \ud328\ud0a4\uc9c0 \ub9e4\ub2c8\uc800"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\uc124\uc815 \ud30c\uc77c"}),": prometheus.yml \uad6c\uc870\uc640 \uc635\uc158"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scrape \uc124\uc815"}),": \uc815\uc801 \ubc0f \ub3d9\uc801 \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Storage"}),": \ub370\uc774\ud130 \ubcf4\uc874 \uc815\ucc45 \ubc0f \ucd5c\uc801\ud654"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\ubcf4\uc548"}),": \uc778\uc99d, TLS, \ub124\ud2b8\uc6cc\ud06c \uc81c\uc5b4"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node Exporter"}),": \uc2dc\uc2a4\ud15c \uba54\ud2b8\ub9ad \uc218\uc9d1"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Python \ud1b5\ud569"}),": Flask, FastAPI \uacc4\uce21"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\ubb38\uc81c \ud574\uacb0"}),": \uc77c\ubc18\uc801\uc778 \ubb38\uc81c\uc640 \ud574\uacb0 \ubc29\ubc95"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Docker Compose"}),": \uc804\uccb4 \uc2a4\ud0dd \uad6c\uc131"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\uc2e4\uc2b5"}),": \ub2e8\uacc4\ubcc4 \uc2e4\uc2b5 \uc608\uc81c"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"\ub2e4\uc74c \ub2e8\uacc4",type:"tip",children:(0,t.jsx)(n.p,{children:"\uc124\uce58\uc640 \uae30\ubcf8 \uc124\uc815\uc744 \uc644\ub8cc\ud588\ub2e4\uba74, \uc774\uc81c \uba54\ud2b8\ub9ad\uc758 \uc885\ub958\uc640 Python \ud074\ub77c\uc774\uc5b8\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc0ac\uc6a9\ubc95\uc744 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\uc138\uc694."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ub2e4\uc74c \ubb38\uc11c:"})," ",(0,t.jsx)(n.a,{href:"./metrics",children:"\uba54\ud2b8\ub9ad\uacfc Python \ud074\ub77c\uc774\uc5b8\ud2b8"})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var r=s(6540);const t={},o=r.createContext(t);function l(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);