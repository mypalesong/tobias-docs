"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[7886],{1713:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"oauth/basic/terminology","title":"\uc6a9\uc5b4 \uc815\ub9ac","description":"OAuth 2.0\uacfc OpenID Connect\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc8fc\uc694 \uc6a9\uc5b4\ub4e4\uc744 \uc815\ub9ac\ud569\ub2c8\ub2e4.","source":"@site/docs/oauth/basic/terminology.md","sourceDirName":"oauth/basic","slug":"/oauth/basic/terminology","permalink":"/docs/oauth/basic/terminology","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/oauth/basic/terminology.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"oauthSidebar","previous":{"title":"Authorization Flows","permalink":"/docs/oauth/basic/flows"},"next":{"title":"FastAPI OAuth \uae30\ucd08","permalink":"/docs/oauth/intermediate/fastapi-basics"}}');var t=o(4848),s=o(8453);const r={sidebar_position:4},c="\uc6a9\uc5b4 \uc815\ub9ac",a={},l=[{value:"\ud83c\udfaf \ubaa9\ud45c",id:"-\ubaa9\ud45c",level:2},{value:"\ud83d\udc65 \uc5ed\ud560 (Roles)",id:"-\uc5ed\ud560-roles",level:2},{value:"Resource Owner",id:"resource-owner",level:3},{value:"Client",id:"client",level:3},{value:"Authorization Server",id:"authorization-server",level:3},{value:"Resource Server",id:"resource-server",level:3},{value:"\ud83d\udd10 \uc778\uc99d \uc694\uc18c (Credentials)",id:"-\uc778\uc99d-\uc694\uc18c-credentials",level:2},{value:"Client ID",id:"client-id",level:3},{value:"Client Secret",id:"client-secret",level:3},{value:"\ud83c\udfab \ud1a0\ud070 (Tokens)",id:"-\ud1a0\ud070-tokens",level:2},{value:"Authorization Code",id:"authorization-code",level:3},{value:"Access Token",id:"access-token",level:3},{value:"Refresh Token",id:"refresh-token",level:3},{value:"ID Token (OIDC)",id:"id-token-oidc",level:3},{value:"\ud83c\udf9a\ufe0f \uad8c\ud55c (Scopes)",id:"\ufe0f-\uad8c\ud55c-scopes",level:2},{value:"Scope",id:"scope",level:3},{value:"Claims (OIDC)",id:"claims-oidc",level:3},{value:"\ud83d\udd17 \uc5d4\ub4dc\ud3ec\uc778\ud2b8 (Endpoints)",id:"-\uc5d4\ub4dc\ud3ec\uc778\ud2b8-endpoints",level:2},{value:"Authorization Endpoint",id:"authorization-endpoint",level:3},{value:"Token Endpoint",id:"token-endpoint",level:3},{value:"UserInfo Endpoint (OIDC)",id:"userinfo-endpoint-oidc",level:3},{value:"Revocation Endpoint",id:"revocation-endpoint",level:3},{value:"\ud83d\udd10 \ubcf4\uc548 \uac1c\ub150",id:"-\ubcf4\uc548-\uac1c\ub150",level:2},{value:"State Parameter",id:"state-parameter",level:3},{value:"PKCE (Proof Key for Code Exchange)",id:"pkce-proof-key-for-code-exchange",level:3},{value:"Redirect URI",id:"redirect-uri",level:3},{value:"\ud83d\udccb Grant Types",id:"-grant-types",level:2},{value:"Grant Type",id:"grant-type",level:3},{value:"\ud83c\udf10 OIDC \uc804\uc6a9 \uc6a9\uc5b4",id:"-oidc-\uc804\uc6a9-\uc6a9\uc5b4",level:2},{value:"OpenID Connect",id:"openid-connect",level:3},{value:"Discovery Document",id:"discovery-document",level:3},{value:"Issuer (iss)",id:"issuer-iss",level:3},{value:"Subject (sub)",id:"subject-sub",level:3},{value:"Audience (aud)",id:"audience-aud",level:3},{value:"\ud83d\udcca \ud1a0\ud070 \uc18d\uc131",id:"-\ud1a0\ud070-\uc18d\uc131",level:2},{value:"Token Type",id:"token-type",level:3},{value:"Expires In",id:"expires-in",level:3},{value:"\ud83d\udd17 \uad00\ub828 \ubb38\uc11c",id:"-\uad00\ub828-\ubb38\uc11c",level:2},{value:"\ud83d\udcda \ucd94\uac00 \ud559\uc2b5",id:"-\ucd94\uac00-\ud559\uc2b5",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\uc6a9\uc5b4-\uc815\ub9ac",children:"\uc6a9\uc5b4 \uc815\ub9ac"})}),"\n",(0,t.jsx)(n.p,{children:"OAuth 2.0\uacfc OpenID Connect\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc8fc\uc694 \uc6a9\uc5b4\ub4e4\uc744 \uc815\ub9ac\ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h2,{id:"-\ubaa9\ud45c",children:"\ud83c\udfaf \ubaa9\ud45c"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 OAuth/OIDC \ud575\uc2ec \uc6a9\uc5b4 \uc774\ud574"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 \uc5ed\ud560\uacfc \uad6c\uc131 \uc694\uc18c \uad6c\ubd84"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 \ud1a0\ud070 \uc720\ud615 \ud30c\uc545"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 \ubcf4\uc548 \uac1c\ub150 \uc219\uc9c0"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-\uc5ed\ud560-roles",children:"\ud83d\udc65 \uc5ed\ud560 (Roles)"}),"\n",(0,t.jsx)(n.h3,{id:"resource-owner",children:"Resource Owner"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ub9ac\uc18c\uc2a4 \uc18c\uc720\uc790"})," - \ubcf4\ud638\ub41c \ub9ac\uc18c\uc2a4\uc5d0 \ub300\ud55c \uc811\uadfc \uad8c\ud55c\uc744 \ubd80\uc5ec\ud560 \uc218 \uc788\ub294 \uc8fc\uccb4"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# \uc77c\ubc18\uc801\uc73c\ub85c \uc0ac\uc6a9\uc790 (You)\nresource_owner = {\n    "\uc815\uc758": "\ub9ac\uc18c\uc2a4\uc758 \uc8fc\uc778",\n    "\uad8c\ud55c": "\ub9ac\uc18c\uc2a4 \uc811\uadfc \uad8c\ud55c \ubd80\uc5ec/\uac70\ubd80",\n    "\uc608\uc2dc": "Google \uacc4\uc815\uc744 \uac00\uc9c4 \uc0ac\uc6a9\uc790",\n    "\uc5ed\ud560": "\ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uac8c \uad8c\ud55c \uc2b9\uc778"\n}\n\n# \uc2e4\uc81c \uc608\n# Alice\uac00 Photo Printer \uc571\uc5d0\uac8c \uc790\uc2e0\uc758 Google Photos \uc811\uadfc \uad8c\ud55c\uc744 \ubd80\uc5ec\n'})}),"\n",(0,t.jsx)(n.h3,{id:"client",children:"Client"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud074\ub77c\uc774\uc5b8\ud2b8"})," - Resource Owner\ub97c \ub300\uc2e0\ud558\uc5ec \ubcf4\ud638\ub41c \ub9ac\uc18c\uc2a4\uc5d0 \uc811\uadfc\uc744 \uc694\uccad\ud558\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'client = {\n    "\uc815\uc758": "\ub9ac\uc18c\uc2a4 \uc811\uadfc\uc744 \uc694\uccad\ud558\ub294 \uc571",\n    "\uc608\uc2dc": "Photo Printer \uc571, Notion, Slack",\n    "\uc720\ud615": {\n        "Confidential Client": "\uc11c\ubc84 \uce21 \uc571 (Client Secret \ubcf4\uad00 \uac00\ub2a5)",\n        "Public Client": "SPA, \ubaa8\ubc14\uc77c \uc571 (Client Secret \ubcf4\uad00 \ubd88\uac00)"\n    }\n}\n\n# Client Types\nconfidential_client = {\n    "\uc608\uc2dc": "FastAPI \uc6f9 \uc560\ud50c\ub9ac\ucf00\uc774\uc158",\n    "\ud2b9\uc9d5": "\uc11c\ubc84\uc5d0\uc11c \uc2e4\ud589, Client Secret \uc548\uc804\ud558\uac8c \ubcf4\uad00",\n    "\ud50c\ub85c\uc6b0": "Authorization Code Flow"\n}\n\npublic_client = {\n    "\uc608\uc2dc": "React SPA, React Native \uc571",\n    "\ud2b9\uc9d5": "\ube0c\ub77c\uc6b0\uc800/\ubaa8\ubc14\uc77c\uc5d0\uc11c \uc2e4\ud589, Client Secret \ub178\ucd9c \uc704\ud5d8",\n    "\ud50c\ub85c\uc6b0": "Authorization Code + PKCE"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"authorization-server",children:"Authorization Server"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc778\uc99d \uc11c\ubc84"})," - Resource Owner \uc778\uc99d \ubc0f Access Token \ubc1c\uae09"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'authorization_server = {\n    "\uc815\uc758": "\uc0ac\uc6a9\uc790 \uc778\uc99d \ubc0f \ud1a0\ud070 \ubc1c\uae09 \uc11c\ubc84",\n    "\uc608\uc2dc": "Google OAuth Server, GitHub OAuth Server",\n    "\uc5ed\ud560": [\n        "\uc0ac\uc6a9\uc790 \uc778\uc99d (\ub85c\uadf8\uc778)",\n        "\uad8c\ud55c \uc2b9\uc778 \ud655\uc778",\n        "Authorization Code \ubc1c\uae09",\n        "Access Token \ubc1c\uae09",\n        "Refresh Token \ubc1c\uae09"\n    ],\n    "\uc5d4\ub4dc\ud3ec\uc778\ud2b8": {\n        "Authorization Endpoint": "/authorize",\n        "Token Endpoint": "/token",\n        "Revocation Endpoint": "/revoke"\n    }\n}\n\n# \uc608: Google\ngoogle_auth_server = {\n    "authorization_endpoint": "https://accounts.google.com/o/oauth2/v2/auth",\n    "token_endpoint": "https://oauth2.googleapis.com/token",\n    "revocation_endpoint": "https://oauth2.googleapis.com/revoke"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"resource-server",children:"Resource Server"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ub9ac\uc18c\uc2a4 \uc11c\ubc84"})," - \ubcf4\ud638\ub41c \ub9ac\uc18c\uc2a4\ub97c \ud638\uc2a4\ud305\ud558\ub294 \uc11c\ubc84"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'resource_server = {\n    "\uc815\uc758": "\uc2e4\uc81c \ub370\uc774\ud130\ub97c \uac00\uc9c4 API \uc11c\ubc84",\n    "\uc608\uc2dc": "Google Photos API, GitHub API",\n    "\uc5ed\ud560": [\n        "Access Token \uac80\uc99d",\n        "\uc694\uccad\ub41c \ub9ac\uc18c\uc2a4 \uc81c\uacf5",\n        "\uad8c\ud55c \ud655\uc778 (Scope)"\n    ]\n}\n\n# \uc608: Google Photos API\ngoogle_photos_api = {\n    "base_url": "https://photoslibrary.googleapis.com",\n    "endpoint": "/v1/mediaItems",\n    "required_token": "Access Token",\n    "required_scope": "https://www.googleapis.com/auth/photoslibrary.readonly"\n}\n\n# Authorization Server\uc640 Resource Server\ub294 \uac19\uc744 \uc218\ub3c4, \ub2e4\ub97c \uc218\ub3c4 \uc788\uc74c\n# Google: \uac19\uc740 \uc870\uc9c1, \ub2e4\ub978 \uc11c\ubc84\n# \uc790\uccb4 \uad6c\ud604: \uac19\uc740 \uc11c\ubc84\uc5d0 \ub2e4\ub978 \uc5d4\ub4dc\ud3ec\uc778\ud2b8\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-\uc778\uc99d-\uc694\uc18c-credentials",children:"\ud83d\udd10 \uc778\uc99d \uc694\uc18c (Credentials)"}),"\n",(0,t.jsx)(n.h3,{id:"client-id",children:"Client ID"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud074\ub77c\uc774\uc5b8\ud2b8 \uc2dd\ubcc4\uc790"})," - \ud074\ub77c\uc774\uc5b8\ud2b8\ub97c \uace0\uc720\ud558\uac8c \uc2dd\ubcc4\ud558\ub294 \uacf5\uac1c \ubb38\uc790\uc5f4"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'client_id = {\n    "\uc815\uc758": "\ud074\ub77c\uc774\uc5b8\ud2b8 \uc571\uc758 \uace0\uc720 ID",\n    "\ud2b9\uc9d5": "\uacf5\uac1c \uc815\ubcf4 (Public)",\n    "\ud615\uc2dd": "\ubb38\uc790\uc5f4 (UUID \ud615\ud0dc\uac00 \uc77c\ubc18\uc801)",\n    "\uc608\uc2dc": "abc123xyz456",\n    "\uc6a9\ub3c4": "\ud074\ub77c\uc774\uc5b8\ud2b8 \uc2dd\ubcc4, Authorization Request\uc5d0 \ud3ec\ud568"\n}\n\n# \uc608\uc2dc\nGOOGLE_CLIENT_ID = "123456789-abc.apps.googleusercontent.com"\nGITHUB_CLIENT_ID = "Iv1.a1b2c3d4e5f6g7h8"\n\n# Authorization URL\uc5d0 \ud3ec\ud568\n# https://accounts.google.com/o/oauth2/v2/auth?client_id=123456789-abc...\n'})}),"\n",(0,t.jsx)(n.h3,{id:"client-secret",children:"Client Secret"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud074\ub77c\uc774\uc5b8\ud2b8 \ube44\ubc00\ud0a4"})," - \ud074\ub77c\uc774\uc5b8\ud2b8\ub97c \uc778\uc99d\ud558\ub294 \ube44\ubc00 \ubb38\uc790\uc5f4"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'client_secret = {\n    "\uc815\uc758": "\ud074\ub77c\uc774\uc5b8\ud2b8 \uc571\uc758 \ube44\ubc00 \ud0a4",\n    "\ud2b9\uc9d5": "\ube44\ubc00 \uc815\ubcf4 (Private), \uc808\ub300 \ub178\ucd9c \uae08\uc9c0",\n    "\uc6a9\ub3c4": "Token Endpoint\uc5d0\uc11c \ud074\ub77c\uc774\uc5b8\ud2b8 \uc778\uc99d",\n    "\ubcf4\uad00": "\uc11c\ubc84 \ud658\uacbd\ubcc0\uc218, \ube44\ubc00 \uad00\ub9ac \uc2dc\uc2a4\ud15c"\n}\n\n# \u26a0\ufe0f \uc8fc\uc758\uc0ac\ud56d\nwarnings = {\n    "\uc808\ub300 \ub178\ucd9c \uae08\uc9c0": "GitHub\uc5d0 \ucee4\ubc0b \uae08\uc9c0!",\n    "\uc11c\ubc84\ub9cc": "\ube0c\ub77c\uc6b0\uc800/\ubaa8\ubc14\uc77c \uc571\uc5d0\uc11c \uc0ac\uc6a9 \uae08\uc9c0",\n    "\ud658\uacbd\ubcc0\uc218": ".env \ud30c\uc77c \uc0ac\uc6a9, .gitignore\uc5d0 \ucd94\uac00"\n}\n\n# .env \ud30c\uc77c\n# GOOGLE_CLIENT_SECRET=your-secret-here\n# GITHUB_CLIENT_SECRET=your-secret-here\n\n# \u274c \ub098\uc05c \uc608\n# const CLIENT_SECRET = "abc123"  // \ucf54\ub4dc\uc5d0 \ud558\ub4dc\ucf54\ub529\n\n# \u2705 \uc88b\uc740 \uc608\n# import os\n# CLIENT_SECRET = os.getenv("CLIENT_SECRET")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-\ud1a0\ud070-tokens",children:"\ud83c\udfab \ud1a0\ud070 (Tokens)"}),"\n",(0,t.jsx)(n.h3,{id:"authorization-code",children:"Authorization Code"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc778\uac00 \ucf54\ub4dc"})," - \uc784\uc2dc \ucf54\ub4dc, Access Token\uc73c\ub85c \uad50\ud658"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'authorization_code = {\n    "\uc815\uc758": "Access Token \uad50\ud658\uc6a9 \uc784\uc2dc \ucf54\ub4dc",\n    "\uc218\uba85": "\uc9e7\uc74c (\ubcf4\ud1b5 10\ubd84)",\n    "\uc0ac\uc6a9": "1\ud68c\ub9cc (\uc7ac\uc0ac\uc6a9 \ubd88\uac00)",\n    "\uc804\ub2ec": "URL \ucffc\ub9ac \ud30c\ub77c\ubbf8\ud130 (Redirect)",\n    "\uad50\ud658": "Token Endpoint\uc5d0\uc11c Access Token\uc73c\ub85c \uad50\ud658"\n}\n\n# \ud50c\ub85c\uc6b0\n# 1. Authorization Server \u2192 Client (URL\ub85c \uc804\ub2ec)\n#    https://myapp.com/callback?code=AUTH_CODE_HERE\n\n# 2. Client \u2192 Token Endpoint (Code + Secret)\n#    POST /token\n#    code=AUTH_CODE_HERE&client_id=...&client_secret=...\n\n# 3. Token Endpoint \u2192 Client (Access Token \ubc18\ud658)\n#    {"access_token": "...", "refresh_token": "..."}\n\n# \ubcf4\uc548: Client Secret\uacfc \ud568\uaed8 \uc0ac\uc6a9\ud558\uc5ec \ubcf4\ud638\n'})}),"\n",(0,t.jsx)(n.h3,{id:"access-token",children:"Access Token"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc561\uc138\uc2a4 \ud1a0\ud070"})," - \ubcf4\ud638\ub41c \ub9ac\uc18c\uc2a4\uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c \uc790\uaca9\uc99d\uba85"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'access_token = {\n    "\uc815\uc758": "API \uc811\uadfc\uc6a9 \ud1a0\ud070",\n    "\uc218\uba85": "\uc9e7\uc74c (15\ubd84 ~ 1\uc2dc\uac04)",\n    "\ud615\uc2dd": "Opaque String \ub610\ub294 JWT",\n    "\uc6a9\ub3c4": "Resource Server API \ud638\ucd9c",\n    "\uc804\ub2ec": "Authorization Header (Bearer)"\n}\n\n# \uc0ac\uc6a9 \uc608\nimport httpx\n\nheaders = {\n    "Authorization": f"Bearer {access_token}"\n}\n\nresponse = httpx.get(\n    "https://api.github.com/user",\n    headers=headers\n)\n\n# Access Token \uad6c\uc870 (Opaque)\nopaque_token = {\n    "\ud1a0\ud070": "ya29.a0AfH6SMBx...",\n    "\ud2b9\uc9d5": "\ubd88\ud22c\uba85, \ub0b4\uc6a9 \ud655\uc778 \ubd88\uac00",\n    "\uac80\uc99d": "Resource Server\uac00 Authorization Server\uc5d0 \ud655\uc778"\n}\n\n# Access Token \uad6c\uc870 (JWT)\njwt_token = {\n    "\ud1a0\ud070": "eyJhbGciOiJSUzI1NiIs...",\n    "\ud2b9\uc9d5": "\uc790\uccb4 \uac80\uc99d \uac00\ub2a5 (\uc11c\uba85 \ud655\uc778)",\n    "\ub0b4\uc6a9": "Payload\uc5d0 \uad8c\ud55c \uc815\ubcf4 \ud3ec\ud568"\n}\n\n# \ubcf4\uc548: HTTPS \ud544\uc218, \uc9e7\uc740 \uc218\uba85\n'})}),"\n",(0,t.jsx)(n.h3,{id:"refresh-token",children:"Refresh Token"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ub9ac\ud504\ub808\uc2dc \ud1a0\ud070"})," - \ub9cc\ub8cc\ub41c Access Token\uc744 \uac31\uc2e0\ud558\uae30 \uc704\ud55c \ud1a0\ud070"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'refresh_token = {\n    "\uc815\uc758": "Access Token \uac31\uc2e0\uc6a9 \ud1a0\ud070",\n    "\uc218\uba85": "\uae40 (\uc218\uc77c ~ \uc218\uac1c\uc6d4)",\n    "\uc6a9\ub3c4": "\uc0c8\ub85c\uc6b4 Access Token \ubc1c\uae09",\n    "\ubcf4\uc548": "\ub9e4\uc6b0 \uc911\uc694, \uc548\uc804\ud558\uac8c \ubcf4\uad00",\n    "\uc81c\ud55c": "\uc77c\ubd80 \ud50c\ub85c\uc6b0\uc5d0\uc11c\ub9cc \uc81c\uacf5"\n}\n\n# Refresh Token \uc0ac\uc6a9\nrefresh_flow = {\n    "1. Access Token \ub9cc\ub8cc": "API \ud638\ucd9c \uc2dc 401 Unauthorized",\n    "2. Refresh Token \uc0ac\uc6a9": "Token Endpoint\uc5d0 Refresh Token \uc804\uc1a1",\n    "3. \uc0c8 Access Token \ubc1b\uc74c": "\uc0ac\uc6a9\uc790 \uc7ac\ub85c\uadf8\uc778 \uc5c6\uc774"\n}\n\n# \ucf54\ub4dc \uc608\uc2dc\nasync def refresh_access_token(refresh_token: str):\n    response = await httpx.post(\n        "https://oauth2.googleapis.com/token",\n        data={\n            "grant_type": "refresh_token",\n            "refresh_token": refresh_token,\n            "client_id": CLIENT_ID,\n            "client_secret": CLIENT_SECRET\n        }\n    )\n    return response.json()["access_token"]\n\n# \ubcf4\uc548: Rotation \uad8c\uc7a5 (\ub9e4\ubc88 \uc0c8 Refresh Token \ubc1c\uae09)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"id-token-oidc",children:"ID Token (OIDC)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"ID \ud1a0\ud070"})," - \uc0ac\uc6a9\uc790 \uc778\uc99d \uc815\ubcf4\ub97c \ub2f4\uc740 JWT"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'id_token = {\n    "\uc815\uc758": "\uc0ac\uc6a9\uc790 \uc2e0\uc6d0 \uc815\ubcf4\ub97c \ub2f4\uc740 JWT",\n    "\ud615\uc2dd": "JWT (JSON Web Token)",\n    "\uc6a9\ub3c4": "\uc0ac\uc6a9\uc790\uac00 \ub204\uad6c\uc778\uc9c0 \ud655\uc778 (\uc778\uc99d)",\n    "\ud3ec\ud568 \uc815\ubcf4": "sub, email, name, picture \ub4f1",\n    "\uac80\uc99d": "\ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc11c\uba85 \uac80\uc99d"\n}\n\n# ID Token vs Access Token\ncomparison = {\n    "ID Token": {\n        "\ubaa9\uc801": "\uc0ac\uc6a9\uc790 \uc778\uc99d (Who)",\n        "\uc0ac\uc6a9\ucc98": "\ud074\ub77c\uc774\uc5b8\ud2b8 \uc571",\n        "\ud615\uc2dd": "JWT (\ud56d\uc0c1)",\n        "\ub0b4\uc6a9": "\uc0ac\uc6a9\uc790 \uc815\ubcf4"\n    },\n    "Access Token": {\n        "\ubaa9\uc801": "API \uc811\uadfc \uad8c\ud55c (What)",\n        "\uc0ac\uc6a9\ucc98": "Resource Server",\n        "\ud615\uc2dd": "Opaque \ub610\ub294 JWT",\n        "\ub0b4\uc6a9": "\uad8c\ud55c \uc815\ubcf4"\n    }\n}\n\n# ID Token \uad6c\uc870\nid_token_example = {\n    "header": {\n        "alg": "RS256",\n        "kid": "1234"\n    },\n    "payload": {\n        "iss": "https://accounts.google.com",  # \ubc1c\uae09\uc790\n        "sub": "10769150350006150715113082367",  # \uc0ac\uc6a9\uc790 ID\n        "aud": "your-client-id",  # \uc218\uc2e0\uc790\n        "exp": 1701234567,  # \ub9cc\ub8cc \uc2dc\uac04\n        "iat": 1701230967,  # \ubc1c\uae09 \uc2dc\uac04\n        "email": "alice@example.com",\n        "name": "Alice Smith"\n    },\n    "signature": "..."\n}\n\n# \u26a0\ufe0f \uc8fc\uc758: ID Token\uc740 API \ud638\ucd9c\uc5d0 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c!\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-\uad8c\ud55c-scopes",children:"\ud83c\udf9a\ufe0f \uad8c\ud55c (Scopes)"}),"\n",(0,t.jsx)(n.h3,{id:"scope",children:"Scope"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc2a4\ucf54\ud504"})," - \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc694\uccad\ud558\ub294 \uad8c\ud55c\uc758 \ubc94\uc704"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'scope = {\n    "\uc815\uc758": "\uad8c\ud55c\uc758 \ubc94\uc704, \uc811\uadfc \uac00\ub2a5\ud55c \ub9ac\uc18c\uc2a4",\n    "\ud615\uc2dd": "\uacf5\ubc31\uc73c\ub85c \uad6c\ubd84\ub41c \ubb38\uc790\uc5f4",\n    "\uc608\uc2dc": "read:user write:repo",\n    "\uc6d0\uce59": "\ucd5c\uc18c \uad8c\ud55c (Least Privilege)"\n}\n\n# OAuth 2.0 Scopes (GitHub \uc608\uc2dc)\ngithub_scopes = {\n    "user": "\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc77d\uae30",\n    "user:email": "\uc774\uba54\uc77c \uc8fc\uc18c \uc77d\uae30",\n    "repo": "\uc800\uc7a5\uc18c \uc804\uccb4 \uc811\uadfc",\n    "public_repo": "\uacf5\uac1c \uc800\uc7a5\uc18c\ub9cc \uc811\uadfc",\n    "delete_repo": "\uc800\uc7a5\uc18c \uc0ad\uc81c",\n    "gist": "Gist \uc811\uadfc"\n}\n\n# OIDC Standard Scopes\noidc_scopes = {\n    "openid": "OIDC \ud65c\uc131\ud654 (\ud544\uc218)",\n    "profile": "\ud504\ub85c\ud544 \uc815\ubcf4 (name, picture \ub4f1)",\n    "email": "\uc774\uba54\uc77c \uc8fc\uc18c",\n    "address": "\uc8fc\uc18c",\n    "phone": "\uc804\ud654\ubc88\ud638"\n}\n\n# \uc0ac\uc6a9 \uc608\n# \u2705 \ucd5c\uc18c \uad8c\ud55c\nscopes = "openid email"\n\n# \u274c \uacfc\ub3c4\ud55c \uad8c\ud55c\nscopes = "openid profile email address phone repo delete_repo"\n\n# Authorization URL\uc5d0 \ud3ec\ud568\n# https://accounts.google.com/o/oauth2/v2/auth?scope=openid%20email\n'})}),"\n",(0,t.jsx)(n.h3,{id:"claims-oidc",children:"Claims (OIDC)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud074\ub808\uc784"})," - ID Token\uc5d0 \ud3ec\ud568\ub41c \uc0ac\uc6a9\uc790 \uc815\ubcf4"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'claims = {\n    "\uc815\uc758": "\uc0ac\uc6a9\uc790 \uc18d\uc131 \uc815\ubcf4",\n    "\uc704\uce58": "ID Token Payload",\n    "\uc608\uc2dc": "sub, email, name, picture"\n}\n\n# Standard Claims\nstandard_claims = {\n    "sub": "\uc0ac\uc6a9\uc790 \uace0\uc720 ID (Subject) - \ud544\uc218",\n    "name": "\uc804\uccb4 \uc774\ub984",\n    "given_name": "\uc774\ub984",\n    "family_name": "\uc131",\n    "middle_name": "\uc911\uac04 \uc774\ub984",\n    "nickname": "\ub2c9\ub124\uc784",\n    "preferred_username": "\uc120\ud638 \uc0ac\uc6a9\uc790\uba85",\n    "profile": "\ud504\ub85c\ud544 \ud398\uc774\uc9c0 URL",\n    "picture": "\ud504\ub85c\ud544 \uc0ac\uc9c4 URL",\n    "website": "\uc6f9\uc0ac\uc774\ud2b8",\n    "email": "\uc774\uba54\uc77c \uc8fc\uc18c",\n    "email_verified": "\uc774\uba54\uc77c \uc778\uc99d \uc5ec\ubd80 (boolean)",\n    "gender": "\uc131\ubcc4",\n    "birthdate": "\uc0dd\ub144\uc6d4\uc77c (YYYY-MM-DD)",\n    "zoneinfo": "\uc2dc\uac04\ub300 (Europe/Paris)",\n    "locale": "\uc5b8\uc5b4/\uc9c0\uc5ed (en-US)",\n    "phone_number": "\uc804\ud654\ubc88\ud638",\n    "phone_number_verified": "\uc804\ud654\ubc88\ud638 \uc778\uc99d \uc5ec\ubd80",\n    "address": "\uc8fc\uc18c (JSON object)",\n    "updated_at": "\uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc2dc\uac04 (timestamp)"\n}\n\n# Scope \u2192 Claims \ub9e4\ud551\nscope_to_claims = {\n    "openid": ["sub"],\n    "profile": ["name", "given_name", "family_name", "picture", "locale"],\n    "email": ["email", "email_verified"],\n    "address": ["address"],\n    "phone": ["phone_number", "phone_number_verified"]\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-\uc5d4\ub4dc\ud3ec\uc778\ud2b8-endpoints",children:"\ud83d\udd17 \uc5d4\ub4dc\ud3ec\uc778\ud2b8 (Endpoints)"}),"\n",(0,t.jsx)(n.h3,{id:"authorization-endpoint",children:"Authorization Endpoint"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc778\uc99d \uc5d4\ub4dc\ud3ec\uc778\ud2b8"})," - \uc0ac\uc6a9\uc790 \uc778\uc99d \ubc0f \uad8c\ud55c \uc2b9\uc778\uc744 \ucc98\ub9ac"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'authorization_endpoint = {\n    "\uc815\uc758": "\uc0ac\uc6a9\uc790 \ub85c\uadf8\uc778 & \uad8c\ud55c \uc2b9\uc778 \ud398\uc774\uc9c0",\n    "\uba54\uc11c\ub4dc": "GET (redirect)",\n    "\uc704\uce58": "Authorization Server",\n    "\uc608\uc2dc": "https://accounts.google.com/o/oauth2/v2/auth"\n}\n\n# \uc694\uccad \ud30c\ub77c\ubbf8\ud130\nauth_params = {\n    "client_id": "\ud544\uc218 - \ud074\ub77c\uc774\uc5b8\ud2b8 ID",\n    "redirect_uri": "\ud544\uc218 - \ucf5c\ubc31 URL",\n    "response_type": "\ud544\uc218 - \'code\' (Authorization Code Flow)",\n    "scope": "\ud544\uc218 - \uc694\uccad \uad8c\ud55c",\n    "state": "\uad8c\uc7a5 - CSRF \ubc29\uc9c0",\n    "code_challenge": "PKCE - Code Challenge",\n    "code_challenge_method": "PKCE - \'S256\'"\n}\n\n# \uc608\uc2dc URL\nexample_url = (\n    "https://accounts.google.com/o/oauth2/v2/auth"\n    "?client_id=abc123"\n    "&redirect_uri=https://myapp.com/callback"\n    "&response_type=code"\n    "&scope=openid email"\n    "&state=random-state"\n)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"token-endpoint",children:"Token Endpoint"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud1a0\ud070 \uc5d4\ub4dc\ud3ec\uc778\ud2b8"})," - Access Token \ubc1c\uae09 \ubc0f \uac31\uc2e0"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'token_endpoint = {\n    "\uc815\uc758": "\ud1a0\ud070 \ubc1c\uae09/\uac31\uc2e0 \uc5d4\ub4dc\ud3ec\uc778\ud2b8",\n    "\uba54\uc11c\ub4dc": "POST",\n    "\uc778\uc99d": "Client ID + Secret (Confidential Client)",\n    "\uc608\uc2dc": "https://oauth2.googleapis.com/token"\n}\n\n# Authorization Code \u2192 Access Token\ntoken_request = {\n    "grant_type": "authorization_code",\n    "code": "authorization-code-here",\n    "client_id": "your-client-id",\n    "client_secret": "your-client-secret",\n    "redirect_uri": "https://myapp.com/callback",\n    "code_verifier": "pkce-verifier (PKCE)"\n}\n\n# Refresh Token \u2192 New Access Token\nrefresh_request = {\n    "grant_type": "refresh_token",\n    "refresh_token": "refresh-token-here",\n    "client_id": "your-client-id",\n    "client_secret": "your-client-secret"\n}\n\n# \uc751\ub2f5\ntoken_response = {\n    "access_token": "ya29.a0AfH6SMBx...",\n    "refresh_token": "1//0gkXy9nZ...",\n    "id_token": "eyJhbGciOiJSUzI1NiIs...",  # OIDC only\n    "token_type": "Bearer",\n    "expires_in": 3600  # seconds\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"userinfo-endpoint-oidc",children:"UserInfo Endpoint (OIDC)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc5d4\ub4dc\ud3ec\uc778\ud2b8"})," - \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \uc81c\uacf5"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'userinfo_endpoint = {\n    "\uc815\uc758": "\uc0ac\uc6a9\uc790 \ucd94\uac00 \uc815\ubcf4 \uc870\ud68c",\n    "\uba54\uc11c\ub4dc": "GET",\n    "\uc778\uc99d": "Access Token (Bearer)",\n    "\uc608\uc2dc": "https://www.googleapis.com/oauth2/v2/userinfo"\n}\n\n# \uc694\uccad\nheaders = {"Authorization": f"Bearer {access_token}"}\nresponse = httpx.get(\n    "https://www.googleapis.com/oauth2/v2/userinfo",\n    headers=headers\n)\n\n# \uc751\ub2f5\nuserinfo_response = {\n    "sub": "10769150350006150715113082367",\n    "name": "Alice Smith",\n    "given_name": "Alice",\n    "family_name": "Smith",\n    "picture": "https://lh3.googleusercontent.com/...",\n    "email": "alice@example.com",\n    "email_verified": True,\n    "locale": "en"\n}\n\n# ID Token vs UserInfo Endpoint\nwhen_to_use = {\n    "ID Token": "\uae30\ubcf8 \uc815\ubcf4\ub9cc \ud544\uc694 (\ube60\ub984, \ud1a0\ud070\uc5d0 \ud3ec\ud568)",\n    "UserInfo Endpoint": "\ucd5c\uc2e0 \uc815\ubcf4 \ub610\ub294 \ucd94\uac00 \uc815\ubcf4 \ud544\uc694 (API \ud638\ucd9c)"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"revocation-endpoint",children:"Revocation Endpoint"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud1a0\ud070 \ud3d0\uae30 \uc5d4\ub4dc\ud3ec\uc778\ud2b8"})," - \ud1a0\ud070 \ubb34\ud6a8\ud654"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'revocation_endpoint = {\n    "\uc815\uc758": "\ud1a0\ud070 \ubb34\ud6a8\ud654 (\ub85c\uadf8\uc544\uc6c3)",\n    "\uba54\uc11c\ub4dc": "POST",\n    "\uc608\uc2dc": "https://oauth2.googleapis.com/revoke"\n}\n\n# Access Token \ub610\ub294 Refresh Token \ud3d0\uae30\nrevoke_request = {\n    "token": "token-to-revoke",\n    "token_type_hint": "access_token"  # \ub610\ub294 "refresh_token"\n}\n\n# FastAPI \uc608\uc2dc\n@app.post(\'/logout\')\nasync def logout(access_token: str):\n    async with httpx.AsyncClient() as client:\n        await client.post(\n            \'https://oauth2.googleapis.com/revoke\',\n            data={\'token\': access_token}\n        )\n    return {"message": "Logged out"}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-\ubcf4\uc548-\uac1c\ub150",children:"\ud83d\udd10 \ubcf4\uc548 \uac1c\ub150"}),"\n",(0,t.jsx)(n.h3,{id:"state-parameter",children:"State Parameter"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc0c1\ud0dc \ud30c\ub77c\ubbf8\ud130"})," - CSRF \uacf5\uaca9 \ubc29\uc9c0"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'state = {\n    "\uc815\uc758": "CSRF \uacf5\uaca9 \ubc29\uc9c0\uc6a9 \ub79c\ub364 \ubb38\uc790\uc5f4",\n    "\uc0dd\uc131": "\uc694\uccad \uc2dc \uc0dd\uc131, \uc138\uc158\uc5d0 \uc800\uc7a5",\n    "\uac80\uc99d": "\ucf5c\ubc31 \uc2dc \uc138\uc158 \uac12\uacfc \ube44\uad50",\n    "\ud544\uc218": "\uac15\ub825 \uad8c\uc7a5"\n}\n\n# \uc0ac\uc6a9 \uc608\nimport secrets\n\n# 1. Authorization Request \uc804\nstate = secrets.token_urlsafe(32)\nsession[\'oauth_state\'] = state\n\nauth_url = f"...&state={state}"\n\n# 2. Callback\uc5d0\uc11c \uac80\uc99d\nif request.args[\'state\'] != session.get(\'oauth_state\'):\n    raise SecurityError("CSRF attack detected!")\n\n# CSRF \uacf5\uaca9 \uc608\ncsrf_attack = {\n    "\uacf5\uaca9\uc790": "\uc545\uc758\uc801\uc778 Authorization URL \uc0dd\uc131",\n    "\ud53c\ud574\uc790": "\ud074\ub9ad \uc2dc \uacf5\uaca9\uc790\uc758 \uacc4\uc815\uacfc \uc5f0\uacb0\ub428",\n    "\ubc29\uc5b4": "State parameter\ub85c \uc694\uccad \ucd9c\ucc98 \uac80\uc99d"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pkce-proof-key-for-code-exchange",children:"PKCE (Proof Key for Code Exchange)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ucf54\ub4dc \uad50\ud658 \uc99d\uba85 \ud0a4"})," - Authorization Code \ud0c8\ucde8 \ubc29\uc9c0"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'pkce = {\n    "\uc815\uc758": "Authorization Code \ubcf4\ud638 \uba54\ucee4\ub2c8\uc998",\n    "\uad6c\uc131": "Code Verifier + Code Challenge",\n    "\uc54c\uace0\ub9ac\uc998": "SHA-256",\n    "\ud544\uc218": "Public Clients (SPA, Mobile)"\n}\n\n# Code Verifier\ncode_verifier = {\n    "\uc815\uc758": "\ub79c\ub364 \ubb38\uc790\uc5f4 (43-128\uc790)",\n    "\uc0dd\uc131": "secrets.token_urlsafe(32)",\n    "\ubcf4\uad00": "\ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0 \uc548\uc804\ud558\uac8c \uc800\uc7a5",\n    "\uc0ac\uc6a9": "Token Request \uc2dc \uc804\uc1a1"\n}\n\n# Code Challenge\ncode_challenge = {\n    "\uc815\uc758": "Code Verifier\uc758 SHA-256 \ud574\uc2dc",\n    "\uc0dd\uc131": "BASE64URL(SHA256(code_verifier))",\n    "\uc0ac\uc6a9": "Authorization Request \uc2dc \uc804\uc1a1"\n}\n\n# \uac80\uc99d \uacfc\uc815\npkce_flow = {\n    "1. \ud074\ub77c\uc774\uc5b8\ud2b8": "Code Verifier \uc0dd\uc131 \u2192 Code Challenge \uacc4\uc0b0",\n    "2. Authorization Request": "Code Challenge \uc804\uc1a1",\n    "3. Authorization Server": "Code Challenge \uc800\uc7a5",\n    "4. Token Request": "Code Verifier \uc804\uc1a1",\n    "5. Authorization Server": "SHA256(verifier) == challenge ? \uac80\uc99d"\n}\n\n# \ubcf4\uc548: \uacf5\uaca9\uc790\uac00 Code\ub97c \ud0c8\ucde8\ud574\ub3c4 Verifier \uc5c6\uc73c\uba74 Token \uad50\ud658 \ubd88\uac00\n'})}),"\n",(0,t.jsx)(n.h3,{id:"redirect-uri",children:"Redirect URI"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ub9ac\ub2e4\uc774\ub809\ud2b8 URI"})," - \ucf5c\ubc31 URL"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'redirect_uri = {\n    "\uc815\uc758": "Authorization Code\ub97c \ubc1b\uc744 URL",\n    "\ub4f1\ub85d": "\uc0ac\uc804\uc5d0 Authorization Server\uc5d0 \ub4f1\ub85d \ud544\uc218",\n    "\uac80\uc99d": "\ub4f1\ub85d\ub41c URI\uc640 \uc815\ud655\ud788 \uc77c\uce58\ud574\uc57c \ud568",\n    "\ubcf4\uc548": "\uc624\ud508 \ub9ac\ub2e4\uc774\ub809\ud2b8 \uacf5\uaca9 \ubc29\uc9c0"\n}\n\n# \uc608\uc2dc\nregistered_uris = [\n    "https://myapp.com/callback",\n    "https://myapp.com/auth/google/callback",\n    "http://localhost:3000/callback"  # \uac1c\ubc1c\uc6a9\n]\n\n# \u2705 \ud5c8\uc6a9\nredirect_uri = "https://myapp.com/callback"\n\n# \u274c \uac70\ubd80\nredirect_uri = "https://evil.com/callback"  # \ub4f1\ub85d \uc548 \ub428\nredirect_uri = "https://myapp.com/callback?extra=param"  # \uc815\ud655\ud788 \uc77c\uce58 \uc548 \ud568\n\n# \ubcf4\uc548 \uc704\ud611: \uc624\ud508 \ub9ac\ub2e4\uc774\ub809\ud2b8\nopen_redirect_attack = {\n    "\uacf5\uaca9": "redirect_uri\ub97c \uc545\uc758\uc801 \uc0ac\uc774\ud2b8\ub85c \ubcc0\uacbd",\n    "\uacb0\uacfc": "Authorization Code\uac00 \uacf5\uaca9\uc790\uc5d0\uac8c \uc804\uc1a1",\n    "\ubc29\uc5b4": "\uc0ac\uc804 \ub4f1\ub85d\ub41c URI\ub9cc \ud5c8\uc6a9"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-grant-types",children:"\ud83d\udccb Grant Types"}),"\n",(0,t.jsx)(n.h3,{id:"grant-type",children:"Grant Type"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uad8c\ud55c \ubd80\uc5ec \uc720\ud615"})," - OAuth \ud50c\ub85c\uc6b0\uc758 \uc885\ub958"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'grant_types = {\n    "authorization_code": {\n        "\uc774\ub984": "Authorization Code Grant",\n        "\uc6a9\ub3c4": "\uc6f9 \uc571, SPA, \ubaa8\ubc14\uc77c",\n        "\ubcf4\uc548": "\uac00\uc7a5 \uc548\uc804",\n        "\ud50c\ub85c\uc6b0": "Redirect \u2192 Code \u2192 Token"\n    },\n    "client_credentials": {\n        "\uc774\ub984": "Client Credentials Grant",\n        "\uc6a9\ub3c4": "\uc11c\ubc84 \uac04 \ud1b5\uc2e0",\n        "\ubcf4\uc548": "\uc0ac\uc6a9\uc790 \uc5c6\uc74c",\n        "\ud50c\ub85c\uc6b0": "Client Secret \u2192 Token"\n    },\n    "refresh_token": {\n        "\uc774\ub984": "Refresh Token Grant",\n        "\uc6a9\ub3c4": "Access Token \uac31\uc2e0",\n        "\ubcf4\uc548": "\uc7ac\ub85c\uadf8\uc778 \uc5c6\uc774",\n        "\ud50c\ub85c\uc6b0": "Refresh Token \u2192 New Access Token"\n    },\n    "urn:ietf:params:oauth:grant-type:device_code": {\n        "\uc774\ub984": "Device Authorization Grant",\n        "\uc6a9\ub3c4": "IoT, \uc2a4\ub9c8\ud2b8 TV",\n        "\ubcf4\uc548": "\ubcc4\ub3c4 \uae30\uae30\ub85c \uc778\uc99d",\n        "\ud50c\ub85c\uc6b0": "Device Code \u2192 User Code \u2192 Token"\n    },\n    # Deprecated\n    "implicit": {\n        "\uc774\ub984": "Implicit Grant",\n        "\uc0c1\ud0dc": "\u274c Deprecated",\n        "\uc774\uc720": "\ubcf4\uc548 \ucde8\uc57d\uc810"\n    },\n    "password": {\n        "\uc774\ub984": "Resource Owner Password Grant",\n        "\uc0c1\ud0dc": "\u274c Legacy",\n        "\uc774\uc720": "\ube44\ubc00\ubc88\ud638 \ub178\ucd9c"\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-oidc-\uc804\uc6a9-\uc6a9\uc5b4",children:"\ud83c\udf10 OIDC \uc804\uc6a9 \uc6a9\uc5b4"}),"\n",(0,t.jsx)(n.h3,{id:"openid-connect",children:"OpenID Connect"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc624\ud508ID \ucee4\ub125\ud2b8"})," - OAuth 2.0 \uc704\uc758 \uc778\uc99d \ub808\uc774\uc5b4"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'oidc = {\n    "\uc815\uc758": "OAuth 2.0 + \uc778\uc99d \ub808\uc774\uc5b4",\n    "\ubaa9\uc801": "\uc0ac\uc6a9\uc790 \uc778\uc99d (Authentication)",\n    "\ucd94\uac00 \uc694\uc18c": "ID Token, UserInfo Endpoint, Standard Scopes",\n    "\uc0ac\uc6a9 \uc0ac\ub840": "\uc18c\uc15c \ub85c\uadf8\uc778, SSO"\n}\n\n# OAuth 2.0 vs OIDC\noauth_vs_oidc = {\n    "OAuth 2.0": {\n        "\ubaa9\uc801": "\uad8c\ud55c \uc704\uc784 (Authorization)",\n        "\uc9c8\ubb38": "\ubb34\uc5c7\uc744 \ud560 \uc218 \uc788\ub098?",\n        "\ud1a0\ud070": "Access Token"\n    },\n    "OIDC": {\n        "\ubaa9\uc801": "\uc778\uc99d + \uad8c\ud55c \uc704\uc784",\n        "\uc9c8\ubb38": "\ub204\uad6c\uc778\uac00? + \ubb34\uc5c7\uc744 \ud560 \uc218 \uc788\ub098?",\n        "\ud1a0\ud070": "ID Token + Access Token"\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"discovery-document",children:"Discovery Document"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ub514\uc2a4\ucee4\ubc84\ub9ac \ubb38\uc11c"})," - OIDC Provider \uc124\uc815 \uc815\ubcf4"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'discovery = {\n    "\uc815\uc758": "OIDC Provider\uc758 \ubaa8\ub4e0 \uc5d4\ub4dc\ud3ec\uc778\ud2b8\uc640 \uae30\ub2a5 \uc815\ubcf4",\n    "\ud615\uc2dd": "JSON",\n    "\uc704\uce58": "/.well-known/openid-configuration",\n    "\uc6a9\ub3c4": "\uc790\ub3d9 \uc124\uc815"\n}\n\n# \uc608\uc2dc: Google\ndiscovery_url = "https://accounts.google.com/.well-known/openid-configuration"\n\ndiscovery_content = {\n    "issuer": "https://accounts.google.com",\n    "authorization_endpoint": "https://accounts.google.com/o/oauth2/v2/auth",\n    "token_endpoint": "https://oauth2.googleapis.com/token",\n    "userinfo_endpoint": "https://openidconnect.googleapis.com/v1/userinfo",\n    "jwks_uri": "https://www.googleapis.com/oauth2/v3/certs",\n    "scopes_supported": ["openid", "email", "profile"],\n    "response_types_supported": ["code", "token", "id_token"],\n    "subject_types_supported": ["public"],\n    "id_token_signing_alg_values_supported": ["RS256"]\n}\n\n# \uc790\ub3d9 \uc124\uc815\noauth.register(\n    name=\'google\',\n    client_id=\'...\',\n    client_secret=\'...\',\n    server_metadata_url=\'https://accounts.google.com/.well-known/openid-configuration\'\n    # \ubaa8\ub4e0 \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \uc790\ub3d9 \uc124\uc815!\n)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"issuer-iss",children:"Issuer (iss)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ubc1c\uae09\uc790"})," - ID Token\uc744 \ubc1c\uae09\ud55c OIDC Provider"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'issuer = {\n    "\uc815\uc758": "ID Token \ubc1c\uae09\uc790",\n    "\uc704\uce58": "ID Token\uc758 iss claim",\n    "\uac80\uc99d": "\uc2e0\ub8b0\ud560 \uc218 \uc788\ub294 \ubc1c\uae09\uc790\uc778\uc9c0 \ud655\uc778",\n    "\uc608\uc2dc": "https://accounts.google.com"\n}\n\n# ID Token \uac80\uc99d \uc2dc \ud655\uc778\nexpected_issuer = "https://accounts.google.com"\nif id_token[\'iss\'] != expected_issuer:\n    raise ValueError("Invalid issuer")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"subject-sub",children:"Subject (sub)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc8fc\uccb4"})," - \uc0ac\uc6a9\uc790\uc758 \uace0\uc720 \uc2dd\ubcc4\uc790"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'subject = {\n    "\uc815\uc758": "\uc0ac\uc6a9\uc790 \uace0\uc720 ID",\n    "\uc704\uce58": "ID Token\uc758 sub claim",\n    "\ud2b9\uc9d5": "\ubcc0\uacbd \ubd88\uac00, \uace0\uc720, \uc601\uad6c\uc801",\n    "\uc6a9\ub3c4": "\uc0ac\uc6a9\uc790 \uc2dd\ubcc4 (Primary Key)"\n}\n\n# \u2705 sub\ub97c \uc0ac\uc6a9\uc790 ID\ub85c \uc0ac\uc6a9\nuser_id = id_token[\'sub\']  # "10769150350006150715113082367"\n\n# \u274c email\uc744 \uc0ac\uc6a9\uc790 ID\ub85c \uc0ac\uc6a9 \uae08\uc9c0\nuser_id = id_token[\'email\']  # \ubcc0\uacbd \uac00\ub2a5!\n\n# DB \uc800\uc7a5\nusers_table = {\n    "google_sub": "10769150350006150715113082367",  # Primary Key\n    "email": "alice@example.com",  # \ubcc0\uacbd \uac00\ub2a5\n    "name": "Alice Smith"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"audience-aud",children:"Audience (aud)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc218\uc2e0\uc790"})," - ID Token\uc758 \ub300\uc0c1 \ud074\ub77c\uc774\uc5b8\ud2b8"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'audience = {\n    "\uc815\uc758": "ID Token\uc744 \ubc1b\uc744 \ud074\ub77c\uc774\uc5b8\ud2b8",\n    "\uc704\uce58": "ID Token\uc758 aud claim",\n    "\uac12": "Client ID",\n    "\uac80\uc99d": "\uc790\uc2e0\uc758 Client ID\uc640 \uc77c\uce58\ud558\ub294\uc9c0 \ud655\uc778"\n}\n\n# ID Token \uac80\uc99d\nif id_token[\'aud\'] != MY_CLIENT_ID:\n    raise ValueError("Token not for me!")\n\n# \ubcf4\uc548: \ub2e4\ub978 \ud074\ub77c\uc774\uc5b8\ud2b8\uc6a9 Token \uc0ac\uc6a9 \ubc29\uc9c0\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-\ud1a0\ud070-\uc18d\uc131",children:"\ud83d\udcca \ud1a0\ud070 \uc18d\uc131"}),"\n",(0,t.jsx)(n.h3,{id:"token-type",children:"Token Type"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud1a0\ud070 \uc720\ud615"})," - \ud1a0\ud070 \uc0ac\uc6a9 \ubc29\ubc95"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'token_types = {\n    "Bearer": {\n        "\uc815\uc758": "\uac00\uc7a5 \uc77c\ubc18\uc801\uc778 \ud1a0\ud070 \uc720\ud615",\n        "\uc0ac\uc6a9": "Authorization: Bearer {token}",\n        "\ubcf4\uc548": "HTTPS \ud544\uc218"\n    },\n    "MAC": {\n        "\uc815\uc758": "Message Authentication Code",\n        "\uc0ac\uc6a9": "\uc554\ud638\ud654\ub41c \uc694\uccad \uc11c\uba85",\n        "\ubcf4\uc548": "\ub354 \uc548\uc804\ud558\uc9c0\ub9cc \ubcf5\uc7a1"\n    }\n}\n\n# 99% Bearer \ud1a0\ud070 \uc0ac\uc6a9\nheaders = {\n    "Authorization": f"Bearer {access_token}"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"expires-in",children:"Expires In"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ub9cc\ub8cc \uc2dc\uac04"})," - \ud1a0\ud070 \uc720\ud6a8 \uae30\uac04 (\ucd08)"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'expires_in = {\n    "\uc815\uc758": "\ud1a0\ud070 \uc720\ud6a8 \uc2dc\uac04 (\ucd08 \ub2e8\uc704)",\n    "Access Token": "\uc9e7\uc74c (900 ~ 3600\ucd08 = 15\ubd84 ~ 1\uc2dc\uac04)",\n    "Refresh Token": "\uae40 (2592000\ucd08 = 30\uc77c)",\n    "ID Token": "Access Token\uacfc \ub3d9\uc77c"\n}\n\n# \ud1a0\ud070 \uc751\ub2f5\ntoken_response = {\n    "access_token": "...",\n    "expires_in": 3600,  # 1\uc2dc\uac04 \ud6c4 \ub9cc\ub8cc\n    "refresh_token": "..."\n}\n\n# \ub9cc\ub8cc \uc2dc\uac04 \uacc4\uc0b0\nfrom datetime import datetime, timedelta\n\nexpires_at = datetime.now() + timedelta(seconds=3600)\n\n# \ub9cc\ub8cc \ud655\uc778\nif datetime.now() >= expires_at:\n    # Refresh Token\uc73c\ub85c \uac31\uc2e0\n    new_token = await refresh_access_token(refresh_token)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-\uad00\ub828-\ubb38\uc11c",children:"\ud83d\udd17 \uad00\ub828 \ubb38\uc11c"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"./concepts",children:"OAuth 2.0 \uac1c\ub150"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"./oidc",children:"OpenID Connect"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"./flows",children:"Authorization Flows"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../advanced/security",children:"\ubcf4\uc548 Best Practices"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-\ucd94\uac00-\ud559\uc2b5",children:"\ud83d\udcda \ucd94\uac00 \ud559\uc2b5"}),"\n",(0,t.jsx)(n.p,{children:"\uc774\uc81c \uae30\ubcf8 \uac1c\ub150\uc744 \ubaa8\ub450 \uc774\ud574\ud588\uc73c\ub2c8, \uc911\uae09 \uac00\uc774\ub4dc\ub85c \ub118\uc5b4\uac00\ubd05\uc2dc\ub2e4!"}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,t.jsx)(n.a,{href:"../intermediate/fastapi-basics",children:"FastAPI OAuth \uad6c\ud604"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud83d\udca1 \ud301"}),": \uc774 \uc6a9\uc5b4\uc9d1\uc744 \ubd81\ub9c8\ud06c\ud558\uace0 \uac1c\ubc1c \uc911 \ud544\uc694\ud560 \ub54c \ucc38\uace0\ud558\uc138\uc694!"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>c});var i=o(6540);const t={},s=i.createContext(t);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);