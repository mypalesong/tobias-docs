"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[8432],{8178:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"ubuntu/real-world/scenario-log-analysis","title":"\uc2e4\uc804 \uc2dc\ub098\ub9ac\uc624: \ub85c\uadf8 \ubd84\uc11d \ubc0f \ubaa8\ub2c8\ud130\ub9c1","description":"\uc11c\ube44\uc2a4\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4! \ub85c\uadf8\ub97c \ubd84\uc11d\ud558\uc5ec \uc6d0\uc778\uc744 \ucc3e\uace0 \ud574\uacb0\ud574\uc57c \ud569\ub2c8\ub2e4.","source":"@site/docs/ubuntu/real-world/scenario-log-analysis.md","sourceDirName":"ubuntu/real-world","slug":"/ubuntu/real-world/scenario-log-analysis","permalink":"/docs/ubuntu/real-world/scenario-log-analysis","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ubuntu/real-world/scenario-log-analysis.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"ubuntuSidebar","previous":{"title":"\uc2e4\uc804 Linux \ud65c\uc6a9","permalink":"/docs/ubuntu/real-world/intro"},"next":{"title":"\uc2e4\uc804 \uc2dc\ub098\ub9ac\uc624: \uc790\ub3d9\ud654 \ubc0f Cron Job","permalink":"/docs/ubuntu/real-world/scenario-automation"}}');var s=l(4848),a=l(8453);const i={sidebar_position:2},c="\uc2e4\uc804 \uc2dc\ub098\ub9ac\uc624: \ub85c\uadf8 \ubd84\uc11d \ubc0f \ubaa8\ub2c8\ud130\ub9c1",o={},d=[{value:"\ud83d\udccc \uc0c1\ud669 \uc124\uba85",id:"-\uc0c1\ud669-\uc124\uba85",level:2},{value:"\ud83c\udfaf \ubaa9\ud45c",id:"-\ubaa9\ud45c",level:2},{value:"\u26a1 \uc2e4\uc2b5",id:"-\uc2e4\uc2b5",level:2},{value:"1\ub2e8\uacc4: \ub85c\uadf8 \ud30c\uc77c \ud655\uc778",id:"1\ub2e8\uacc4-\ub85c\uadf8-\ud30c\uc77c-\ud655\uc778",level:3},{value:"2\ub2e8\uacc4: \uc2e4\uc2dc\uac04 \ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1",id:"2\ub2e8\uacc4-\uc2e4\uc2dc\uac04-\ub85c\uadf8-\ubaa8\ub2c8\ud130\ub9c1",level:3},{value:"3\ub2e8\uacc4: \uc5d0\ub7ec \ub85c\uadf8 \ucc3e\uae30",id:"3\ub2e8\uacc4-\uc5d0\ub7ec-\ub85c\uadf8-\ucc3e\uae30",level:3},{value:"4\ub2e8\uacc4: \uc2dc\uac04\ub300\ubcc4 \uc5d0\ub7ec \ubd84\uc11d",id:"4\ub2e8\uacc4-\uc2dc\uac04\ub300\ubcc4-\uc5d0\ub7ec-\ubd84\uc11d",level:3},{value:"5\ub2e8\uacc4: \uc5d0\ub7ec \ud328\ud134 \ubd84\uc11d",id:"5\ub2e8\uacc4-\uc5d0\ub7ec-\ud328\ud134-\ubd84\uc11d",level:3},{value:"6\ub2e8\uacc4: \ud2b9\uc815 \uc5d0\ub7ec \uc0c1\uc138 \ubd84\uc11d",id:"6\ub2e8\uacc4-\ud2b9\uc815-\uc5d0\ub7ec-\uc0c1\uc138-\ubd84\uc11d",level:3},{value:"7\ub2e8\uacc4: \uace0\uae09 \ub85c\uadf8 \ubd84\uc11d (awk)",id:"7\ub2e8\uacc4-\uace0\uae09-\ub85c\uadf8-\ubd84\uc11d-awk",level:3},{value:"8\ub2e8\uacc4: \ub85c\uadf8 \uc555\ucd95 \ubc0f \uc544\uce74\uc774\ube59",id:"8\ub2e8\uacc4-\ub85c\uadf8-\uc555\ucd95-\ubc0f-\uc544\uce74\uc774\ube59",level:3},{value:"9\ub2e8\uacc4: \ub85c\uadf8 \ub9ac\ud3ec\ud2b8 \uc0dd\uc131",id:"9\ub2e8\uacc4-\ub85c\uadf8-\ub9ac\ud3ec\ud2b8-\uc0dd\uc131",level:3},{value:"10\ub2e8\uacc4: \uc2e4\uc2dc\uac04 \ub300\uc2dc\ubcf4\ub4dc",id:"10\ub2e8\uacc4-\uc2e4\uc2dc\uac04-\ub300\uc2dc\ubcf4\ub4dc",level:3},{value:"\u2705 \ubb38\uc81c \ud574\uacb0",id:"-\ubb38\uc81c-\ud574\uacb0",level:2},{value:"\uc9c0\ud6c8\uc758 \ubd84\uc11d \uacb0\uacfc:",id:"\uc9c0\ud6c8\uc758-\ubd84\uc11d-\uacb0\uacfc",level:3},{value:"\ud83d\udca1 \ud504\ub85c \ud301",id:"-\ud504\ub85c-\ud301",level:2},{value:"1. \ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1 \ub3c4\uad6c",id:"1-\ub85c\uadf8-\ubaa8\ub2c8\ud130\ub9c1-\ub3c4\uad6c",level:3},{value:"2. \ub85c\uadf8 \ud544\ud130\ub9c1 alias",id:"2-\ub85c\uadf8-\ud544\ud130\ub9c1-alias",level:3},{value:"3. jq\ub85c JSON \ub85c\uadf8 \ud30c\uc2f1",id:"3-jq\ub85c-json-\ub85c\uadf8-\ud30c\uc2f1",level:3},{value:"4. \ub85c\uadf8 \ub85c\ud14c\uc774\uc158",id:"4-\ub85c\uadf8-\ub85c\ud14c\uc774\uc158",level:3},{value:"\ud83c\udf93 \ubc30\uc6b4 \ub0b4\uc6a9",id:"-\ubc30\uc6b4-\ub0b4\uc6a9",level:2},{value:"\ud575\uc2ec \uba85\ub839\uc5b4",id:"\ud575\uc2ec-\uba85\ub839\uc5b4",level:3},{value:"\ub85c\uadf8 \ubd84\uc11d \ud504\ub85c\uc138\uc2a4",id:"\ub85c\uadf8-\ubd84\uc11d-\ud504\ub85c\uc138\uc2a4",level:3},{value:"\ud83d\udd17 \uad00\ub828 \ubb38\uc11c",id:"-\uad00\ub828-\ubb38\uc11c",level:2},{value:"\ud83c\udfaf \ub2e4\uc74c \uc2dc\ub098\ub9ac\uc624",id:"-\ub2e4\uc74c-\uc2dc\ub098\ub9ac\uc624",level:2}];function t(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\uc2e4\uc804-\uc2dc\ub098\ub9ac\uc624-\ub85c\uadf8-\ubd84\uc11d-\ubc0f-\ubaa8\ub2c8\ud130\ub9c1",children:"\uc2e4\uc804 \uc2dc\ub098\ub9ac\uc624: \ub85c\uadf8 \ubd84\uc11d \ubc0f \ubaa8\ub2c8\ud130\ub9c1"})}),"\n",(0,s.jsx)(e.p,{children:"\uc11c\ube44\uc2a4\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4! \ub85c\uadf8\ub97c \ubd84\uc11d\ud558\uc5ec \uc6d0\uc778\uc744 \ucc3e\uace0 \ud574\uacb0\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(e.h2,{id:"-\uc0c1\ud669-\uc124\uba85",children:"\ud83d\udccc \uc0c1\ud669 \uc124\uba85"}),"\n",(0,s.jsx)(e.p,{children:"\ubc31\uc5d4\ub4dc \uac1c\ubc1c\uc790 \uc9c0\ud6c8\uc740 \uc624\uc804 9\uc2dc\uc5d0 \ucd9c\uadfc\ud558\uc790\ub9c8\uc790 \uae34\uae09 \uc54c\ub9bc\uc744 \ubc1b\uc558\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:'"\ud83d\udea8 \ud504\ub85c\ub355\uc158 API \uc5d0\ub7ec\uc728 \uae09\uc99d! 500 \uc5d0\ub7ec\uac00 \ud3c9\uc18c\uc758 10\ubc30!"'}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\uc9c0\ud6c8\uc740 \uc989\uc2dc \ub85c\uadf8\ub97c \ubd84\uc11d\ud558\uc5ec \ubb38\uc81c\ub97c \ucc3e\uc544\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(e.h2,{id:"-\ubaa9\ud45c",children:"\ud83c\udfaf \ubaa9\ud45c"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u2705 \ub85c\uadf8 \ud30c\uc77c \uc2e4\uc2dc\uac04 \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,s.jsx)(e.li,{children:"\u2705 \uc5d0\ub7ec \ud328\ud134 \ubc0f \uc6d0\uc778 \ud30c\uc545"}),"\n",(0,s.jsx)(e.li,{children:"\u2705 \ub85c\uadf8 \ud544\ud130\ub9c1 \ubc0f \ud1b5\uacc4 \uc0dd\uc131"}),"\n",(0,s.jsx)(e.li,{children:"\u2705 \ubb38\uc81c \ud574\uacb0 \ubc0f \ub9ac\ud3ec\ud2b8 \uc791\uc131"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"-\uc2e4\uc2b5",children:"\u26a1 \uc2e4\uc2b5"}),"\n",(0,s.jsx)(e.h3,{id:"1\ub2e8\uacc4-\ub85c\uadf8-\ud30c\uc77c-\ud655\uc778",children:"1\ub2e8\uacc4: \ub85c\uadf8 \ud30c\uc77c \ud655\uc778"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \ub85c\uadf8 \ub514\ub809\ud1a0\ub9ac \uc774\ub3d9\ncd /var/log\n\n# \ub610\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub85c\uadf8\ncd ~/app/logs\n\n# \ub85c\uadf8 \ud30c\uc77c \ubaa9\ub85d\nls -lh\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\ucd9c\ub825:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"-rw-r--r-- 1 app app 2.1G Jan 15 09:00 app.log\n-rw-r--r-- 1 app app 523M Jan 15 08:00 app.log.1\n-rw-r--r-- 1 app app 487M Jan 14 23:59 app.log.2\n-rw-r--r-- 1 app app  85M Jan 15 09:15 error.log\n"})}),"\n",(0,s.jsx)(e.h3,{id:"2\ub2e8\uacc4-\uc2e4\uc2dc\uac04-\ub85c\uadf8-\ubaa8\ub2c8\ud130\ub9c1",children:"2\ub2e8\uacc4: \uc2e4\uc2dc\uac04 \ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \ub85c\uadf8 \uc2e4\uc2dc\uac04 \uac10\uc2dc (tail -f)\ntail -f app.log\n\n# \ub9c8\uc9c0\ub9c9 100\uc904 \ubcf4\uae30\ntail -n 100 app.log\n\n# \uc5ec\ub7ec \ud30c\uc77c \ub3d9\uc2dc \uac10\uc2dc\ntail -f app.log error.log\n\n# \uc5d0\ub7ec\ub9cc \ud544\ud130\ub9c1\ud558\uba70 \uac10\uc2dc\ntail -f app.log | grep ERROR\n\n# \uceec\ub7ec \ud558\uc774\ub77c\uc774\ud2b8 (grep --color)\ntail -f app.log | grep --color=always -i error\n"})}),"\n",(0,s.jsx)(e.h3,{id:"3\ub2e8\uacc4-\uc5d0\ub7ec-\ub85c\uadf8-\ucc3e\uae30",children:"3\ub2e8\uacc4: \uc5d0\ub7ec \ub85c\uadf8 \ucc3e\uae30"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\ub85c\uadf8 \uc608\uc2dc (app.log):"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"2024-01-15 09:05:23 INFO  [main] Server started on port 3000\n2024-01-15 09:05:45 ERROR [api] Database connection failed: timeout\n2024-01-15 09:05:46 ERROR [api] Database connection failed: timeout\n2024-01-15 09:05:47 WARN  [api] Retrying database connection (1/3)\n2024-01-15 09:06:01 ERROR [api] Payment service returned 500\n2024-01-15 09:06:15 ERROR [api] Database connection failed: timeout\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \ubaa8\ub4e0 ERROR \ucc3e\uae30\ngrep ERROR app.log\n\n# \ucf00\uc774\uc2a4 \ubb34\uc2dc (error, Error, ERROR \ubaa8\ub450)\ngrep -i error app.log\n\n# \ub77c\uc778 \ubc88\ud638 \ud3ec\ud568\ngrep -n ERROR app.log\n\n# \ud30c\uc77c\uba85 \ud45c\uc2dc (\uc5ec\ub7ec \ud30c\uc77c \uac80\uc0c9)\ngrep -H ERROR *.log\n\n# \ub9e4\uce6d\ub41c \uc904 \uac1c\uc218\ngrep -c ERROR app.log\n\n# \uc5d0\ub7ec \uc8fc\ubcc0 \ubb38\ub9e5 \ubcf4\uae30 (\uc55e\ub4a4 3\uc904)\ngrep -C 3 ERROR app.log\n# \ub610\ub294\ngrep -A 3 -B 3 ERROR app.log\n"})}),"\n",(0,s.jsx)(e.h3,{id:"4\ub2e8\uacc4-\uc2dc\uac04\ub300\ubcc4-\uc5d0\ub7ec-\ubd84\uc11d",children:"4\ub2e8\uacc4: \uc2dc\uac04\ub300\ubcc4 \uc5d0\ub7ec \ubd84\uc11d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# \ud2b9\uc815 \uc2dc\uac04 \ubc94\uc704 \uc5d0\ub7ec \ucd94\ucd9c\ngrep "2024-01-15 09:0[5-9]" app.log | grep ERROR\n\n# \uc624\uc804 9\uc2dc\ub300 \uc5d0\ub7ec\ub9cc\ngrep "2024-01-15 09:" app.log | grep ERROR\n\n# \ud2b9\uc815 \ubd84 (09:05)\ngrep "2024-01-15 09:05" app.log | grep ERROR\n\n# \uc2dc\uac04\ubcc4 \uc5d0\ub7ec \uce74\uc6b4\ud2b8\ngrep ERROR app.log | cut -d\' \' -f1,2 | cut -d\':\' -f1 | sort | uniq -c\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\ucd9c\ub825:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"    45 2024-01-15 09\n    87 2024-01-15 10\n    12 2024-01-15 11\n     3 2024-01-15 12\n"})}),"\n",(0,s.jsx)(e.h3,{id:"5\ub2e8\uacc4-\uc5d0\ub7ec-\ud328\ud134-\ubd84\uc11d",children:"5\ub2e8\uacc4: \uc5d0\ub7ec \ud328\ud134 \ubd84\uc11d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \uc5d0\ub7ec \uba54\uc2dc\uc9c0\ubcc4 \uadf8\ub8f9\ud551\ngrep ERROR app.log | awk '{print substr($0, index($0,$6))}' | sort | uniq -c | sort -rn\n\n# \ub610\ub294 \ub354 \uac04\ub2e8\ud788\ngrep ERROR app.log | cut -d']' -f3 | sort | uniq -c | sort -rn\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\ucd9c\ub825:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"    234 Database connection failed: timeout\n     87 Payment service returned 500\n     12 User not found\n      5 Invalid token\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\uc9c0\ud6c8"}),': "\uc544\ud558! \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \ud0c0\uc784\uc544\uc6c3\uc774 \uac00\uc7a5 \ub9ce\ub124\uc694!"']}),"\n",(0,s.jsx)(e.h3,{id:"6\ub2e8\uacc4-\ud2b9\uc815-\uc5d0\ub7ec-\uc0c1\uc138-\ubd84\uc11d",children:"6\ub2e8\uacc4: \ud2b9\uc815 \uc5d0\ub7ec \uc0c1\uc138 \ubd84\uc11d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# "Database connection" \uc5d0\ub7ec \uc804\uccb4 \ucd94\ucd9c\ngrep "Database connection" app.log > db_errors.log\n\n# \uc5d0\ub7ec \ubc1c\uc0dd \ube48\ub3c4 (\ubd84 \ub2e8\uc704)\ngrep "Database connection" app.log | cut -d\' \' -f1,2 | cut -d\':\' -f1-2 | sort | uniq -c\n\n# \ud328\ud134 \ub9e4\uce6d (\uc815\uaddc\ud45c\ud604\uc2dd)\ngrep -E "Database.*timeout|Connection.*refused" app.log\n\n# \uc5d0\ub7ec\uac00 \uc544\ub2cc \uc904 (\uc5ed \ub9e4\uce6d)\ngrep -v ERROR app.log\n'})}),"\n",(0,s.jsx)(e.h3,{id:"7\ub2e8\uacc4-\uace0\uae09-\ub85c\uadf8-\ubd84\uc11d-awk",children:"7\ub2e8\uacc4: \uace0\uae09 \ub85c\uadf8 \ubd84\uc11d (awk)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \uc5d0\ub7ec \ub808\ubca8\ubcc4 \ud1b5\uacc4\nawk '{print $3}' app.log | sort | uniq -c\n\n# API \uc5d4\ub4dc\ud3ec\uc778\ud2b8\ubcc4 \uc5d0\ub7ec\ngrep ERROR app.log | awk '{for(i=6;i<=NF;i++) printf \"%s \", $i; print \"\"}' | grep -oP '/api/[^\\s]+' | sort | uniq -c | sort -rn\n\n# \uc2dc\uac04\ub300\ubcc4 \uc694\uccad \uc218\nawk '{print $2}' app.log | cut -d':' -f1 | sort | uniq -c\n\n# \ud3c9\uade0 \uc751\ub2f5 \uc2dc\uac04 \uacc4\uc0b0 (\ub85c\uadf8\uc5d0 \uc751\ub2f5 \uc2dc\uac04\uc774 \uc788\ub2e4\uba74)\ngrep \"Response time\" app.log | awk '{sum+=$NF; count++} END {print sum/count}'\n"})}),"\n",(0,s.jsx)(e.h3,{id:"8\ub2e8\uacc4-\ub85c\uadf8-\uc555\ucd95-\ubc0f-\uc544\uce74\uc774\ube59",children:"8\ub2e8\uacc4: \ub85c\uadf8 \uc555\ucd95 \ubc0f \uc544\uce74\uc774\ube59"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# \uc5d0\ub7ec \ub85c\uadf8\ub9cc \ubcc4\ub3c4 \uc800\uc7a5\ngrep ERROR app.log > error_2024-01-15.log\n\n# \ub0a0\uc9dc\ubcc4\ub85c \ubd84\ub9ac\ngrep "2024-01-15" app.log > app_2024-01-15.log\n\n# \uc555\ucd95\ngzip app_2024-01-15.log\n\n# \uc624\ub798\ub41c \ub85c\uadf8 \ucc3e\uae30 \ubc0f \uc555\ucd95\nfind /var/log/app -name "*.log" -mtime +7 -exec gzip {} \\;\n\n# 30\uc77c \uc774\uc0c1 \ub41c \ub85c\uadf8 \uc0ad\uc81c\nfind /var/log/app -name "*.log.gz" -mtime +30 -delete\n'})}),"\n",(0,s.jsx)(e.h3,{id:"9\ub2e8\uacc4-\ub85c\uadf8-\ub9ac\ud3ec\ud2b8-\uc0dd\uc131",children:"9\ub2e8\uacc4: \ub85c\uadf8 \ub9ac\ud3ec\ud2b8 \uc0dd\uc131"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"analyze_logs.sh"}),":"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n\nLOG_FILE="app.log"\nDATE=$(date +%Y-%m-%d)\nREPORT="log_report_$DATE.txt"\n\necho "=== \ub85c\uadf8 \ubd84\uc11d \ub9ac\ud3ec\ud2b8 ($DATE) ===" > $REPORT\necho "" >> $REPORT\n\necho "1. \ucd1d \ub85c\uadf8 \ub77c\uc778 \uc218:" >> $REPORT\nwc -l $LOG_FILE >> $REPORT\necho "" >> $REPORT\n\necho "2. \ub808\ubca8\ubcc4 \ud1b5\uacc4:" >> $REPORT\nawk \'{print $3}\' $LOG_FILE | sort | uniq -c | sort -rn >> $REPORT\necho "" >> $REPORT\n\necho "3. \uc5d0\ub7ec \uba54\uc2dc\uc9c0 Top 10:" >> $REPORT\ngrep ERROR $LOG_FILE | cut -d\']\' -f3 | sort | uniq -c | sort -rn | head -10 >> $REPORT\necho "" >> $REPORT\n\necho "4. \uc2dc\uac04\ub300\ubcc4 \uc5d0\ub7ec \uc218:" >> $REPORT\ngrep ERROR $LOG_FILE | cut -d\' \' -f2 | cut -d\':\' -f1 | sort | uniq -c >> $REPORT\necho "" >> $REPORT\n\necho "5. \uc5d0\ub7ec\uc728:" >> $REPORT\nTOTAL=$(wc -l < $LOG_FILE)\nERRORS=$(grep -c ERROR $LOG_FILE)\nERROR_RATE=$(echo "scale=2; $ERRORS * 100 / $TOTAL" | bc)\necho "\ucd1d $TOTAL \ub77c\uc778 \uc911 $ERRORS \uc5d0\ub7ec ($ERROR_RATE%)" >> $REPORT\n\necho "\ub9ac\ud3ec\ud2b8 \uc0dd\uc131 \uc644\ub8cc: $REPORT"\ncat $REPORT\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"chmod +x analyze_logs.sh\n./analyze_logs.sh\n"})}),"\n",(0,s.jsx)(e.h3,{id:"10\ub2e8\uacc4-\uc2e4\uc2dc\uac04-\ub300\uc2dc\ubcf4\ub4dc",children:"10\ub2e8\uacc4: \uc2e4\uc2dc\uac04 \ub300\uc2dc\ubcf4\ub4dc"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"monitor_logs.sh"}),":"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n\nLOG_FILE="app.log"\n\nwhile true; do\n  clear\n  echo "=== \uc2e4\uc2dc\uac04 \ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1 ==="\n  echo "\uc2dc\uac04: $(date)"\n  echo ""\n\n  echo "\ucd5c\uadfc 1\ubd84\uac04 \uc5d0\ub7ec \uc218:"\n  tail -n 1000 $LOG_FILE | grep ERROR | wc -l\n  echo ""\n\n  echo "\ucd5c\uadfc \uc5d0\ub7ec Top 5:"\n  tail -n 1000 $LOG_FILE | grep ERROR | cut -d\']\' -f3 | sort | uniq -c | sort -rn | head -5\n  echo ""\n\n  echo "\ucd5c\uadfc 10\uac1c \uc5d0\ub7ec:"\n  tail -n 20 $LOG_FILE | grep ERROR | tail -10\n\n  sleep 5\ndone\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"chmod +x monitor_logs.sh\n./monitor_logs.sh\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\ubb38\uc81c-\ud574\uacb0",children:"\u2705 \ubb38\uc81c \ud574\uacb0"}),"\n",(0,s.jsx)(e.h3,{id:"\uc9c0\ud6c8\uc758-\ubd84\uc11d-\uacb0\uacfc",children:"\uc9c0\ud6c8\uc758 \ubd84\uc11d \uacb0\uacfc:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# 1. \uc5d0\ub7ec \ud328\ud134 \ud655\uc778\ngrep \"Database connection failed\" app.log | wc -l\n# \ucd9c\ub825: 234\n\n# 2. \ubc1c\uc0dd \uc2dc\uac04 \ubd84\uc11d\ngrep \"Database connection failed\" app.log | cut -d' ' -f2 | cut -d':' -f1-2 | sort | uniq -c\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\ubc1c\uacac:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"09:05\ubd80\ud130 \uae09\uc99d"}),"\n",(0,s.jsx)(e.li,{children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \ud480 \uace0\uac08 \ucd94\uc815"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\uc870\uce58:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uc124\uc815 \ud655\uc778\ncat config/database.yml\n\n# \uc5f0\uacb0 \ud480 \ud06c\uae30 \ud655\uc778\ngrep pool_size config/database.yml\n\n# \uc124\uc815 \ubcc0\uacbd (pool_size \uc99d\uac00)\nsed -i 's/pool_size: 10/pool_size: 50/' config/database.yml\n\n# \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc7ac\uc2dc\uc791\nsudo systemctl restart myapp\n\n# \ub85c\uadf8 \ud655\uc778\ntail -f app.log | grep -i database\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\ud504\ub85c-\ud301",children:"\ud83d\udca1 \ud504\ub85c \ud301"}),"\n",(0,s.jsx)(e.h3,{id:"1-\ub85c\uadf8-\ubaa8\ub2c8\ud130\ub9c1-\ub3c4\uad6c",children:"1. \ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1 \ub3c4\uad6c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# multitail - \uc5ec\ub7ec \ub85c\uadf8 \ub3d9\uc2dc \uac10\uc2dc\nsudo apt install multitail\nmultitail app.log error.log access.log\n\n# lnav - \ub85c\uadf8 \ub124\ube44\uac8c\uc774\ud130 (\ucd94\ucc9c!)\nsudo apt install lnav\nlnav app.log\n\n# ccze - \uceec\ub7ec \ub85c\uadf8 \ubdf0\uc5b4\ntail -f app.log | ccze -A\n"})}),"\n",(0,s.jsx)(e.h3,{id:"2-\ub85c\uadf8-\ud544\ud130\ub9c1-alias",children:"2. \ub85c\uadf8 \ud544\ud130\ub9c1 alias"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"~/.bashrc"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"alias errors='grep -i error'\nalias warnings='grep -i warn'\nalias today='grep $(date +%Y-%m-%d)'\nalias logs='cd /var/log && ls -lht | head'\n"})}),"\n",(0,s.jsx)(e.h3,{id:"3-jq\ub85c-json-\ub85c\uadf8-\ud30c\uc2f1",children:"3. jq\ub85c JSON \ub85c\uadf8 \ud30c\uc2f1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# JSON \ub85c\uadf8 \ud30c\uc2f1\ncat app.log | jq '.level, .message'\n\n# \uc5d0\ub7ec\ub9cc \ud544\ud130\ub9c1\ncat app.log | jq 'select(.level==\"error\")'\n\n# \ud2b9\uc815 \ud544\ub4dc \ucd94\ucd9c\ncat app.log | jq -r '.timestamp + \" \" + .message'\n"})}),"\n",(0,s.jsx)(e.h3,{id:"4-\ub85c\uadf8-\ub85c\ud14c\uc774\uc158",children:"4. \ub85c\uadf8 \ub85c\ud14c\uc774\uc158"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"/etc/logrotate.d/myapp"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"/var/log/myapp/*.log {\n    daily\n    rotate 30\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 0640 app app\n    sharedscripts\n    postrotate\n        systemctl reload myapp > /dev/null\n    endscript\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\ubc30\uc6b4-\ub0b4\uc6a9",children:"\ud83c\udf93 \ubc30\uc6b4 \ub0b4\uc6a9"}),"\n",(0,s.jsx)(e.h3,{id:"\ud575\uc2ec-\uba85\ub839\uc5b4",children:"\ud575\uc2ec \uba85\ub839\uc5b4"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"tail -f"})," - \uc2e4\uc2dc\uac04 \ub85c\uadf8 \uac10\uc2dc"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"grep"})," - \ud328\ud134 \uac80\uc0c9"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"awk"})," - \ud14d\uc2a4\ud2b8 \ucc98\ub9ac"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"sort | uniq -c"})," - \ud1b5\uacc4 \uc0dd\uc131"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"cut"})," - \ud544\ub4dc \ucd94\ucd9c"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\ub85c\uadf8-\ubd84\uc11d-\ud504\ub85c\uc138\uc2a4",children:"\ub85c\uadf8 \ubd84\uc11d \ud504\ub85c\uc138\uc2a4"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\ud655\uc778"}),": \uc5b4\ub5a4 \ub85c\uadf8\uac00 \uc788\ub098?"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\ud544\ud130"}),": \uc5d0\ub7ec\ub9cc \ucd94\ucd9c"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\ubd84\uc11d"}),": \ud328\ud134 \ucc3e\uae30"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\ud1b5\uacc4"}),": \ube48\ub3c4 \uacc4\uc0b0"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\uc870\uce58"}),": \ubb38\uc81c \ud574\uacb0"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\ubaa8\ub2c8\ud130"}),": \uc7ac\ubc1c \ubc29\uc9c0"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"-\uad00\ub828-\ubb38\uc11c",children:"\ud83d\udd17 \uad00\ub828 \ubb38\uc11c"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"../intermediate/text-processing",children:"\ud14d\uc2a4\ud2b8 \ucc98\ub9ac"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"../intermediate/shell-scripting",children:"Shell Scripting"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"./scenario-process-management",children:"\ud504\ub85c\uc138\uc2a4 \uad00\ub9ac"})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"-\ub2e4\uc74c-\uc2dc\ub098\ub9ac\uc624",children:"\ud83c\udfaf \ub2e4\uc74c \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,s.jsx)(e.p,{children:"\ub85c\uadf8 \ubd84\uc11d\uc744 \ub9c8\uc2a4\ud130\ud588\ub2e4\uba74, \uc774\uc81c \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1\uc744 \ubc30\uc6cc\ubd05\uc2dc\ub2e4!"}),"\n",(0,s.jsxs)(e.p,{children:["\ud83d\udc49 ",(0,s.jsx)(e.a,{href:"./scenario-performance-monitoring",children:"\uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\ub098\ub9ac\uc624"})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\ud83d\udca1 \ud301"}),": \ub85c\uadf8\ub294 \uac70\uc9d3\ub9d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ubb38\uc81c\uac00 \uc0dd\uae30\uba74 \ud56d\uc0c1 \ub85c\uadf8\ubd80\ud130 \ud655\uc778\ud558\uc138\uc694!"]})]})}function p(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(t,{...n})}):t(n)}},8453:(n,e,l)=>{l.d(e,{R:()=>i,x:()=>c});var r=l(6540);const s={},a=r.createContext(s);function i(n){const e=r.useContext(a);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),r.createElement(a.Provider,{value:e},n.children)}}}]);