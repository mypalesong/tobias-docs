"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[6452],{2550:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"github/examples/scenario-08-security","title":"\uc2dc\ub098\ub9ac\uc624 8: \ubcf4\uc548 \uc0ac\uace0 \ub300\uc751","description":"\uc218\ud604\uc774 API \ud0a4\uac00 GitHub\uc5d0 \ub178\ucd9c\ub41c \uac83\uc744 \ubc1c\uacac\ud558\uace0 \uae34\uae09 \ub300\uc751\ud569\ub2c8\ub2e4!","source":"@site/docs/github/examples/scenario-08-security.md","sourceDirName":"github/examples","slug":"/github/examples/scenario-08-security","permalink":"/docs/github/examples/scenario-08-security","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/github/examples/scenario-08-security.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"githubSidebar","previous":{"title":"\uc2dc\ub098\ub9ac\uc624 7: \ub9b4\ub9ac\uc2a4 \ub370\uc774","permalink":"/docs/github/examples/scenario-07-release"},"next":{"title":"\uc2dc\ub098\ub9ac\uc624 9: \ub808\uac70\uc2dc \ud504\ub85c\uc81d\ud2b8 \ub9ac\ud329\ud1a0\ub9c1","permalink":"/docs/github/examples/scenario-09-legacy"}}');var t=s(4848),r=s(8453);const c={sidebar_position:9},a="\uc2dc\ub098\ub9ac\uc624 8: \ubcf4\uc548 \uc0ac\uace0 \ub300\uc751",l={},d=[{value:"\ud83d\udccc \uc0c1\ud669 \uc124\uba85",id:"-\uc0c1\ud669-\uc124\uba85",level:2},{value:"\ud83c\udfaf \ubaa9\ud45c",id:"-\ubaa9\ud45c",level:2},{value:"\ud83d\udcac \ub300\ud654",id:"-\ub300\ud654",level:2},{value:"\u26a1 \uc2e4\uc2b5",id:"-\uc2e4\uc2b5",level:2},{value:"Phase 1: \uc989\uc2dc \uc870\uce58 (5\ubd84 \ub0b4)",id:"phase-1-\uc989\uc2dc-\uc870\uce58-5\ubd84-\ub0b4",level:3},{value:"1\ub2e8\uacc4: \ub178\ucd9c\ub41c \ud0a4 \uc989\uc2dc \ubb34\ud6a8\ud654",id:"1\ub2e8\uacc4-\ub178\ucd9c\ub41c-\ud0a4-\uc989\uc2dc-\ubb34\ud6a8\ud654",level:4},{value:"2\ub2e8\uacc4: Private \uc124\uc815 (\uc784\uc2dc \uc870\uce58)",id:"2\ub2e8\uacc4-private-\uc124\uc815-\uc784\uc2dc-\uc870\uce58",level:4},{value:"Phase 2: Git \ud788\uc2a4\ud1a0\ub9ac \uc644\uc804 \uc81c\uac70 (30\ubd84)",id:"phase-2-git-\ud788\uc2a4\ud1a0\ub9ac-\uc644\uc804-\uc81c\uac70-30\ubd84",level:3},{value:"3\ub2e8\uacc4: BFG Repo-Cleaner \uc0ac\uc6a9",id:"3\ub2e8\uacc4-bfg-repo-cleaner-\uc0ac\uc6a9",level:4},{value:"4\ub2e8\uacc4: git-filter-repo\ub85c \ub354 \uc815\ubc00\ud558\uac8c \uc81c\uac70",id:"4\ub2e8\uacc4-git-filter-repo\ub85c-\ub354-\uc815\ubc00\ud558\uac8c-\uc81c\uac70",level:4},{value:"Phase 3: \ud300\uc6d0 \ub3d9\uae30\ud654",id:"phase-3-\ud300\uc6d0-\ub3d9\uae30\ud654",level:3},{value:"5\ub2e8\uacc4: \ud300\uc6d0\ub4e4\uc5d0\uac8c \uacf5\uc9c0 \ubc0f \uc7ac\ud074\ub860 \uc694\uccad",id:"5\ub2e8\uacc4-\ud300\uc6d0\ub4e4\uc5d0\uac8c-\uacf5\uc9c0-\ubc0f-\uc7ac\ud074\ub860-\uc694\uccad",level:4},{value:"Phase 4: \ubcf4\uc548 \uac15\ud654",id:"phase-4-\ubcf4\uc548-\uac15\ud654",level:3},{value:"6\ub2e8\uacc4: Pre-commit Hook \uc124\uc815",id:"6\ub2e8\uacc4-pre-commit-hook-\uc124\uc815",level:4},{value:"7\ub2e8\uacc4: git-secrets \uc124\uce58",id:"7\ub2e8\uacc4-git-secrets-\uc124\uce58",level:4},{value:"8\ub2e8\uacc4: GitHub Secret Scanning \ud65c\uc131\ud654",id:"8\ub2e8\uacc4-github-secret-scanning-\ud65c\uc131\ud654",level:4},{value:"9\ub2e8\uacc4: \ud658\uacbd \ubcc0\uc218 \uad00\ub9ac \uac1c\uc120",id:"9\ub2e8\uacc4-\ud658\uacbd-\ubcc0\uc218-\uad00\ub9ac-\uac1c\uc120",level:4},{value:"Phase 5: \uc0ac\uace0 \ubcf4\uace0\uc11c \uc791\uc131",id:"phase-5-\uc0ac\uace0-\ubcf4\uace0\uc11c-\uc791\uc131",level:3},{value:"10\ub2e8\uacc4: \ud3ec\uc2a4\ud2b8\ubaa8\ud15c \ubb38\uc11c",id:"10\ub2e8\uacc4-\ud3ec\uc2a4\ud2b8\ubaa8\ud15c-\ubb38\uc11c",level:4},{value:"\u2705 \uac80\uc99d",id:"-\uac80\uc99d",level:2},{value:"\ud83c\udf93 \ubc30\uc6b4 \ub0b4\uc6a9",id:"-\ubc30\uc6b4-\ub0b4\uc6a9",level:2},{value:"Git \ud788\uc2a4\ud1a0\ub9ac \uc81c\uac70 \ubc29\ubc95",id:"git-\ud788\uc2a4\ud1a0\ub9ac-\uc81c\uac70-\ubc29\ubc95",level:3},{value:"\ubbfc\uac10 \uc815\ubcf4 \uc885\ub958",id:"\ubbfc\uac10-\uc815\ubcf4-\uc885\ub958",level:3},{value:"\ubcf4\uc548 \uc2a4\uce94 \ub3c4\uad6c",id:"\ubcf4\uc548-\uc2a4\uce94-\ub3c4\uad6c",level:3},{value:"\ud83d\udca1 \uc2e4\uc804 \ud301",id:"-\uc2e4\uc804-\ud301",level:2},{value:"1. \uc608\ubc29\uc774 \ucd5c\uc120",id:"1-\uc608\ubc29\uc774-\ucd5c\uc120",level:3},{value:"2. \uc2e4\uc218\ud588\uc744 \ub54c \ube60\ub978 \ub300\uc751",id:"2-\uc2e4\uc218\ud588\uc744-\ub54c-\ube60\ub978-\ub300\uc751",level:3},{value:"3. GitHub Secrets \uc0ac\uc6a9",id:"3-github-secrets-\uc0ac\uc6a9",level:3},{value:"4. \ub85c\uceec \ud658\uacbd \ubcc0\uc218 \uad00\ub9ac",id:"4-\ub85c\uceec-\ud658\uacbd-\ubcc0\uc218-\uad00\ub9ac",level:3},{value:"\ud83d\udd17 \uad00\ub828 \ubb38\uc11c",id:"-\uad00\ub828-\ubb38\uc11c",level:2},{value:"\ud83c\udfaf \ub2e4\uc74c \uc2dc\ub098\ub9ac\uc624",id:"-\ub2e4\uc74c-\uc2dc\ub098\ub9ac\uc624",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\uc2dc\ub098\ub9ac\uc624-8-\ubcf4\uc548-\uc0ac\uace0-\ub300\uc751",children:"\uc2dc\ub098\ub9ac\uc624 8: \ubcf4\uc548 \uc0ac\uace0 \ub300\uc751"})}),"\n",(0,t.jsx)(n.p,{children:"\uc218\ud604\uc774 API \ud0a4\uac00 GitHub\uc5d0 \ub178\ucd9c\ub41c \uac83\uc744 \ubc1c\uacac\ud558\uace0 \uae34\uae09 \ub300\uc751\ud569\ub2c8\ub2e4!"}),"\n",(0,t.jsx)(n.h2,{id:"-\uc0c1\ud669-\uc124\uba85",children:"\ud83d\udccc \uc0c1\ud669 \uc124\uba85"}),"\n",(0,t.jsx)(n.p,{children:'\uae08\uc694\uc77c \uc800\ub141 7\uc2dc, \uc9d1\uc5d0 \uac00\ub824\ub358 \uc218\ud604\uc758 Slack\uc5d0 GitHub Security Alert\uac00 \uc6b8\ub9bd\ub2c8\ub2e4.\n"AWS Access Key detected in repository!" \ud83d\ude31'}),"\n",(0,t.jsx)(n.p,{children:"\ub354 \ud070 \ubb38\uc81c\ub294 \uc774 \ud0a4\uac00 3\uc8fc \uc804 \ucee4\ubc0b\uc5d0 \ud3ec\ud568\ub418\uc5b4 \uc788\uace0, \uc774\ubbf8 \uc5ec\ub7ec \ube0c\ub79c\uce58\uc5d0 \ud37c\uc838\uc788\ub2e4\ub294 \uac83\uc785\ub2c8\ub2e4!"}),"\n",(0,t.jsx)(n.h2,{id:"-\ubaa9\ud45c",children:"\ud83c\udfaf \ubaa9\ud45c"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Git \ud788\uc2a4\ud1a0\ub9ac\uc5d0\uc11c \ubbfc\uac10 \uc815\ubcf4 \uc644\uc804 \uc81c\uac70"}),"\n",(0,t.jsx)(n.li,{children:"\ubaa8\ub4e0 \ube0c\ub79c\uce58\uc5d0\uc11c \uc81c\uac70 \ud655\uc778"}),"\n",(0,t.jsx)(n.li,{children:"\ubcf4\uc548 \uc2a4\uce90\ub2dd \uc790\ub3d9\ud654 \uc124\uc815"}),"\n",(0,t.jsx)(n.li,{children:"\ud300\uc6d0 \uad50\uc721 \ubc0f \uc7ac\ubc1c \ubc29\uc9c0"}),"\n",(0,t.jsx)(n.li,{children:"\uc0ac\uace0 \ub300\uc751 \ud504\ub85c\uc138\uc2a4 \ud655\ub9bd"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-\ub300\ud654",children:"\ud83d\udcac \ub300\ud654"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"GitHub Security Bot"})," (Slack):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\ud83d\udea8 SECURITY ALERT \ud83d\udea8\nRepository: codecraft/shop-backend\nType: AWS Access Key\nFile: config/aws-credentials.js\nCommit: abc1234 (3 weeks ago)\nSeverity: CRITICAL\n\nThis key has FULL AWS access!\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc218\ud604"}),' (\uae34\uae09 \uc18c\uc9d1): "@channel \uae34\uae09! AWS \ud0a4\uac00 \ub178\ucd9c\ub410\uc2b5\ub2c8\ub2e4. \uc989\uc2dc \ub300\uc751\ud569\ub2c8\ub2e4!"']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc900\ud638"}),': "\uc5b4\ub5bb\uac8c \ub41c \uac70\uc8e0?"']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ubbfc\uc9c0"}),' (\ucc3d\ubc31\ud55c \uc5bc\uad74): "\ud639\uc2dc... \uc81c\uac00 3\uc8fc \uc804\uc5d0 \ud478\uc2dc\ud55c \uac70..."']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc218\ud604"}),': "\uad1c\ucc2e\uc544\uc694. \uc9c0\uae08\ubd80\ud130 \ub2e8\uacc4\ubcc4\ub85c \ucc98\ub9ac\ud569\uc2dc\ub2e4."']}),"\n",(0,t.jsx)(n.h2,{id:"-\uc2e4\uc2b5",children:"\u26a1 \uc2e4\uc2b5"}),"\n",(0,t.jsx)(n.h3,{id:"phase-1-\uc989\uc2dc-\uc870\uce58-5\ubd84-\ub0b4",children:"Phase 1: \uc989\uc2dc \uc870\uce58 (5\ubd84 \ub0b4)"}),"\n",(0,t.jsx)(n.h4,{id:"1\ub2e8\uacc4-\ub178\ucd9c\ub41c-\ud0a4-\uc989\uc2dc-\ubb34\ud6a8\ud654",children:"1\ub2e8\uacc4: \ub178\ucd9c\ub41c \ud0a4 \uc989\uc2dc \ubb34\ud6a8\ud654"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# AWS CLI\ub85c \uc989\uc2dc \ud0a4 \ube44\ud65c\uc131\ud654\naws iam delete-access-key \\\n  --access-key-id AKIA**************** \\\n  --user-name app-user\n\n# \uc0c8 \ud0a4 \uc0dd\uc131 (\uc784\uc2dc)\naws iam create-access-key --user-name app-user\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc218\ud604"}),': "\uc77c\ub2e8 \ud0a4\ub97c \ubb34\ud6a8\ud654\ud588\uc2b5\ub2c8\ub2e4. \ud53c\ud574\ub294 \uc5c6\ub294 \uac83 \uac19\uc544\uc694."']}),"\n",(0,t.jsx)(n.h4,{id:"2\ub2e8\uacc4-private-\uc124\uc815-\uc784\uc2dc-\uc870\uce58",children:"2\ub2e8\uacc4: Private \uc124\uc815 (\uc784\uc2dc \uc870\uce58)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# GitHub CLI\ub85c \uc800\uc7a5\uc18c \uc784\uc2dc \ube44\uacf5\uac1c \uc804\ud658\ngh repo edit --visibility private\n\n# \ub610\ub294 \uc6f9\uc5d0\uc11c: Settings \u2192 Danger Zone \u2192 Change visibility\n"})}),"\n",(0,t.jsx)(n.h3,{id:"phase-2-git-\ud788\uc2a4\ud1a0\ub9ac-\uc644\uc804-\uc81c\uac70-30\ubd84",children:"Phase 2: Git \ud788\uc2a4\ud1a0\ub9ac \uc644\uc804 \uc81c\uac70 (30\ubd84)"}),"\n",(0,t.jsx)(n.h4,{id:"3\ub2e8\uacc4-bfg-repo-cleaner-\uc0ac\uc6a9",children:"3\ub2e8\uacc4: BFG Repo-Cleaner \uc0ac\uc6a9"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# BFG \uc124\uce58\nbrew install bfg\n\n# \uc800\uc7a5\uc18c \ubbf8\ub7ec \ud074\ub860 (\ubaa8\ub4e0 \ud788\uc2a4\ud1a0\ub9ac \ud3ec\ud568)\ngit clone --mirror https://github.com/codecraft/shop-backend.git\ncd shop-backend.git\n\n# \ubbfc\uac10\ud55c \uc815\ubcf4\uac00 \ud3ec\ud568\ub41c \ud30c\uc77c \ubaa9\ub85d \uc791\uc131\ncat > secrets.txt << EOF\nAKIA****************\nAWS_SECRET_ACCESS_KEY=.*\naws_access_key_id.*\nEOF\n\n# BFG\ub85c \uc81c\uac70\nbfg --replace-text secrets.txt\n\n# \ub610\ub294 \ud30c\uc77c \uc790\uccb4\ub97c \uc644\uc804 \uc0ad\uc81c\nbfg --delete-files aws-credentials.js\n\n# \ubcc0\uacbd\uc0ac\ud56d \ud655\uc778\ngit log --all --full-history --source -- config/aws-credentials.js\n\n# RefLog \uc815\ub9ac\ngit reflog expire --expire=now --all\n\n# Garbage collection\ngit gc --prune=now --aggressive\n\n# \uac15\uc81c \ud478\uc2dc (\u26a0\ufe0f \uc8fc\uc758!)\ngit push --force --all\ngit push --force --tags\n"})}),"\n",(0,t.jsx)(n.h4,{id:"4\ub2e8\uacc4-git-filter-repo\ub85c-\ub354-\uc815\ubc00\ud558\uac8c-\uc81c\uac70",children:"4\ub2e8\uacc4: git-filter-repo\ub85c \ub354 \uc815\ubc00\ud558\uac8c \uc81c\uac70"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# git-filter-repo \uc124\uce58\npip install git-filter-repo\n\n# \uc77c\ubc18 \ud074\ub860 (\ubbf8\ub7ec \uc544\ub2d8)\ngit clone https://github.com/codecraft/shop-backend.git\ncd shop-backend\n\n# \ud2b9\uc815 \ud30c\uc77c \uc644\uc804 \uc81c\uac70\ngit filter-repo --path config/aws-credentials.js --invert-paths\n\n# \ub610\ub294 \ud2b9\uc815 \ubb38\uc790\uc5f4 \uce58\ud658\ngit filter-repo --replace-text <(echo '\nAKIA****************==>REMOVED_AWS_KEY\naws_secret_access_key=.*==>REMOVED_SECRET\n')\n\n# \uac15\uc81c \ud478\uc2dc\ngit remote add origin https://github.com/codecraft/shop-backend.git\ngit push --force --all\ngit push --force --tags\n"})}),"\n",(0,t.jsx)(n.h3,{id:"phase-3-\ud300\uc6d0-\ub3d9\uae30\ud654",children:"Phase 3: \ud300\uc6d0 \ub3d9\uae30\ud654"}),"\n",(0,t.jsx)(n.h4,{id:"5\ub2e8\uacc4-\ud300\uc6d0\ub4e4\uc5d0\uac8c-\uacf5\uc9c0-\ubc0f-\uc7ac\ud074\ub860-\uc694\uccad",children:"5\ub2e8\uacc4: \ud300\uc6d0\ub4e4\uc5d0\uac8c \uacf5\uc9c0 \ubc0f \uc7ac\ud074\ub860 \uc694\uccad"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Slack \uacf5\uc9c0"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:'@channel \ud83d\udea8 \uae34\uae09 \uc870\uce58 \uc644\ub8cc\n\n**\uc0c1\ud669**:\nAWS \ud0a4\uac00 Git \ud788\uc2a4\ud1a0\ub9ac\uc5d0 \ub178\ucd9c\ub418\uc5b4 \uc644\uc804 \uc81c\uac70\ud588\uc2b5\ub2c8\ub2e4.\n\n**\ud300\uc6d0 \ud544\uc218 \uc870\uce58**:\n1. \u26d4 \ud604\uc7ac \uc791\uc5c5 \uc911\ub2e8\n2. \ud83d\udcbe \ub85c\uceec \ubcc0\uacbd\uc0ac\ud56d \ubc31\uc5c5 (stash \ub610\ub294 patch)\n3. \ud83d\uddd1\ufe0f \ub85c\uceec \uc800\uc7a5\uc18c \uc644\uc804 \uc0ad\uc81c\n4. \ud83d\udd04 \uc0c8\ub85c \ud074\ub860\n\n**\uba85\ub839\uc5b4**:\n\\`\\`\\`bash\n# 1. \ubcc0\uacbd\uc0ac\ud56d \ubc31\uc5c5\ngit stash save "backup before repo clean"\n\n# 2. \ub85c\uceec \uc800\uc7a5\uc18c \uc0ad\uc81c\ncd ..\nrm -rf shop-backend\n\n# 3. \uc0c8\ub85c \ud074\ub860\ngit clone https://github.com/codecraft/shop-backend.git\ncd shop-backend\n\n# 4. \uc791\uc5c5 \ubcf5\uad6c (\ud544\uc694\uc2dc)\ngit stash pop\n\\`\\`\\`\n\n**\uc808\ub300 \ud558\uc9c0 \ub9d0 \uac83**:\n\u274c Pull/Fetch (\uc624\ub798\ub41c \ud788\uc2a4\ud1a0\ub9ac \ub2e4\uc2dc \ubc1b\uc74c)\n\u274c \uae30\uc874 \ub85c\uceec \uc800\uc7a5\uc18c \uacc4\uc18d \uc0ac\uc6a9\n\n**\uc9c8\ubb38**: #dev-support \ucc44\ub110\ub85c\n'})}),"\n",(0,t.jsx)(n.h3,{id:"phase-4-\ubcf4\uc548-\uac15\ud654",children:"Phase 4: \ubcf4\uc548 \uac15\ud654"}),"\n",(0,t.jsx)(n.h4,{id:"6\ub2e8\uacc4-pre-commit-hook-\uc124\uc815",children:"6\ub2e8\uacc4: Pre-commit Hook \uc124\uc815"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# .git/hooks/pre-commit\n#!/bin/sh\n\necho "\ud83d\udd0d Scanning for secrets..."\n\n# \ubbfc\uac10\ud55c \ud328\ud134 \uc815\uc758\nPATTERNS=(\n  "AKIA[0-9A-Z]{16}"                    # AWS Access Key\n  "aws_secret_access_key"\n  "-----BEGIN RSA PRIVATE KEY-----"\n  "password\\s*=\\s*[\'\\"][^\'\\"]+[\'\\"]"\n  "api[_-]?key\\s*=\\s*[\'\\"][^\'\\"]+[\'\\"]"\n  "secret[_-]?key\\s*=\\s*[\'\\"][^\'\\"]+[\'\\"]"\n  "token\\s*=\\s*[\'\\"][^\'\\"]+[\'\\"]"\n)\n\n# \uc2a4\ud14c\uc774\uc9d5\ub41c \ud30c\uc77c \uac80\uc0ac\nfor pattern in "${PATTERNS[@]}"; do\n  if git diff --cached | grep -iE "$pattern"; then\n    echo "\u274c ERROR: Potential secret detected!"\n    echo "Pattern: $pattern"\n    echo ""\n    echo "Please remove sensitive data before committing."\n    echo "Use environment variables instead."\n    exit 1\n  fi\ndone\n\necho "\u2705 No secrets detected"\nexit 0\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Hook \uc124\uce58 \ubc0f \uc2e4\ud589 \uad8c\ud55c\nchmod +x .git/hooks/pre-commit\n"})}),"\n",(0,t.jsx)(n.h4,{id:"7\ub2e8\uacc4-git-secrets-\uc124\uce58",children:"7\ub2e8\uacc4: git-secrets \uc124\uce58"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# git-secrets \uc124\uce58\nbrew install git-secrets\n\n# \ud604\uc7ac \uc800\uc7a5\uc18c\uc5d0 \uc124\uc815\ngit secrets --install\n\n# AWS \ud328\ud134 \ucd94\uac00\ngit secrets --register-aws\n\n# \ucee4\uc2a4\ud140 \ud328\ud134 \ucd94\uac00\ngit secrets --add 'password\\s*=\\s*.+'\ngit secrets --add 'api[_-]?key\\s*=\\s*.+'\n\n# \uc804\uccb4 \ud788\uc2a4\ud1a0\ub9ac \uc2a4\uce94\ngit secrets --scan-history\n\n# \uc804\uc5ed \uc124\uc815 (\ubaa8\ub4e0 \uc0c8 \uc800\uc7a5\uc18c)\ngit secrets --install ~/.git-templates/git-secrets\ngit config --global init.templateDir ~/.git-templates/git-secrets\n"})}),"\n",(0,t.jsx)(n.h4,{id:"8\ub2e8\uacc4-github-secret-scanning-\ud65c\uc131\ud654",children:"8\ub2e8\uacc4: GitHub Secret Scanning \ud65c\uc131\ud654"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# .github/workflows/secret-scan.yml\nname: Secret Scanning\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  gitleaks:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n        with:\n          fetch-depth: 0\n\n      - name: Run Gitleaks\n        uses: gitleaks/gitleaks-action@v2\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\n  trufflehog:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n        with:\n          fetch-depth: 0\n\n      - name: TruffleHog OSS\n        uses: trufflesecurity/trufflehog@main\n        with:\n          path: ./\n          base: ${{ github.event.repository.default_branch }}\n          head: HEAD\n"})}),"\n",(0,t.jsx)(n.h4,{id:"9\ub2e8\uacc4-\ud658\uacbd-\ubcc0\uc218-\uad00\ub9ac-\uac1c\uc120",children:"9\ub2e8\uacc4: \ud658\uacbd \ubcc0\uc218 \uad00\ub9ac \uac1c\uc120"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# .env.example (\ucee4\ubc0b \uac00\ub2a5)\ncat > .env.example << EOF\n# AWS Configuration\nAWS_ACCESS_KEY_ID=your_access_key_here\nAWS_SECRET_ACCESS_KEY=your_secret_key_here\nAWS_REGION=ap-northeast-2\n\n# Database\nDATABASE_URL=postgresql://localhost:5432/mydb\n\n# API Keys\nSTRIPE_PUBLIC_KEY=pk_test_...\nSTRIPE_SECRET_KEY=sk_test_...\nEOF\n\n# .env (\uc808\ub300 \ucee4\ubc0b \uae08\uc9c0)\ncat > .env << EOF\nAWS_ACCESS_KEY_ID=AKIA****************\nAWS_SECRET_ACCESS_KEY=****************************************\nAWS_REGION=ap-northeast-2\nDATABASE_URL=postgresql://user:pass@host:5432/db\nSTRIPE_PUBLIC_KEY=pk_live_***\nSTRIPE_SECRET_KEY=sk_live_***\nEOF\n\n# .gitignore \uc5c5\ub370\uc774\ud2b8\ncat >> .gitignore << EOF\n\n# Environment variables\n.env\n.env.local\n.env.*.local\n\n# Credentials\n**/secrets/\n**/*secret*\n**/*credential*\n*.key\n*.pem\n*.p12\n\n# IDE\n.vscode/settings.json\n.idea/workspace.xml\nEOF\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// config/aws.js (\uc548\uc804\ud55c \ubc29\uc2dd)\nrequire('dotenv').config();\n\nmodule.exports = {\n  accessKeyId: process.env.AWS_ACCESS_KEY_ID,\n  secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY,\n  region: process.env.AWS_REGION,\n};\n\n// \u274c \uc808\ub300 \uc774\ub807\uac8c \ud558\uc9c0 \ub9d0\uac83\n// module.exports = {\n//   accessKeyId: 'AKIA****************',\n//   secretAccessKey: '****************************************',\n// };\n"})}),"\n",(0,t.jsx)(n.h3,{id:"phase-5-\uc0ac\uace0-\ubcf4\uace0\uc11c-\uc791\uc131",children:"Phase 5: \uc0ac\uace0 \ubcf4\uace0\uc11c \uc791\uc131"}),"\n",(0,t.jsx)(n.h4,{id:"10\ub2e8\uacc4-\ud3ec\uc2a4\ud2b8\ubaa8\ud15c-\ubb38\uc11c",children:"10\ub2e8\uacc4: \ud3ec\uc2a4\ud2b8\ubaa8\ud15c \ubb38\uc11c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"# Security Incident Report: AWS Key Exposure\n\n## Incident Summary\n- **Date**: 2024-01-19 19:00 KST\n- **Severity**: P0 (Critical)\n- **Status**: Resolved\n- **Duration**: 2 hours\n\n## Timeline\n- **19:00**: GitHub Security Alert detected\n- **19:05**: AWS key invalidated\n- **19:10**: Repository set to private\n- **19:30**: BFG Repo-Cleaner completed\n- **20:00**: All team members re-cloned\n- **21:00**: Security measures implemented\n\n## Impact\n- **Exposure Duration**: 3 weeks\n- **Public Access**: Yes (public repository)\n- **Actual Damage**: None detected\n- **Affected Users**: None\n\n## Root Cause\nDeveloper accidentally committed AWS credentials in\n`config/aws-credentials.js` on commit abc1234.\n\n## Actions Taken\n\n### Immediate (19:00-19:30)\n1. \u2705 Invalidated exposed AWS key\n2. \u2705 Generated new temporary key\n3. \u2705 Set repository to private\n4. \u2705 Checked for unauthorized AWS usage (none found)\n\n### Short-term (19:30-21:00)\n1. \u2705 Removed sensitive data from Git history (BFG)\n2. \u2705 Force-pushed cleaned history\n3. \u2705 Team members re-cloned repository\n4. \u2705 Implemented pre-commit hooks\n\n### Long-term\n1. \u2705 git-secrets installed on all machines\n2. \u2705 GitHub Actions secret scanning\n3. \u2705 Updated documentation\n4. \u2705 Team training scheduled\n\n## Lessons Learned\n\n### What Went Well\n- Quick detection via GitHub Security Alert\n- Immediate key invalidation prevented damage\n- Good team communication and response\n\n### What Could Be Improved\n- Should have had pre-commit hooks earlier\n- Need better onboarding for secret management\n- Automatic scanning should be mandatory\n\n## Prevention Measures\n\n### Technical\n- [x] Pre-commit hooks installed\n- [x] git-secrets configured globally\n- [x] GitHub Secret Scanning enabled\n- [x] CI/CD pipeline includes security scan\n- [x] .env.example provided\n- [x] .gitignore updated\n\n### Process\n- [x] Security checklist in PR template\n- [x] Mandatory security training\n- [x] Code review includes secret check\n- [x] Quarterly security audit\n\n### Education\n- [x] Team training on secret management\n- [x] Documentation updated\n- [x] Best practices guide created\n\n## Cost\n- **Developer Time**: 10 hours total\n- **Financial**: $0 (no actual breach)\n- **Reputation**: Minimal (caught early)\n\n## Follow-up Actions\n- [ ] Complete security training (Due: 2024-01-26)\n- [ ] Audit all repositories (Due: 2024-02-02)\n- [ ] Update incident response plan (Due: 2024-02-09)\n- [ ] Quarterly security review (Due: 2024-04-19)\n\n## Responsible Parties\n- **Incident Commander**: \uc218\ud604 (DevOps)\n- **Developer**: \ubbfc\uc9c0 (no blame - learning opportunity)\n- **Reviewer**: \uc900\ud638 (Tech Lead)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-\uac80\uc99d",children:"\u2705 \uac80\uc99d"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# 1. \ud788\uc2a4\ud1a0\ub9ac\uc5d0 \ubbfc\uac10 \uc815\ubcf4 \uc5c6\ub294\uc9c0 \ud655\uc778\ngit log --all --full-history -S "AKIA" --source\n\n# 2. \ubaa8\ub4e0 \ube0c\ub79c\uce58 \ud655\uc778\ngit grep -i "aws_secret" $(git rev-list --all)\n\n# 3. git-secrets\ub85c \uc2a4\uce94\ngit secrets --scan-history\n\n# 4. \uc628\ub77c\uc778 \ub3c4\uad6c\ub85c \ud655\uc778\n# https://github.com/your-repo/security/secret-scanning/alerts\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-\ubc30\uc6b4-\ub0b4\uc6a9",children:"\ud83c\udf93 \ubc30\uc6b4 \ub0b4\uc6a9"}),"\n",(0,t.jsx)(n.h3,{id:"git-\ud788\uc2a4\ud1a0\ub9ac-\uc81c\uac70-\ubc29\ubc95",children:"Git \ud788\uc2a4\ud1a0\ub9ac \uc81c\uac70 \ubc29\ubc95"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\ub3c4\uad6c"}),(0,t.jsx)(n.th,{children:"\uc6a9\ub3c4"}),(0,t.jsx)(n.th,{children:"\uc18d\ub3c4"}),(0,t.jsx)(n.th,{children:"\uc815\ubc00\ub3c4"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"BFG"}),(0,t.jsx)(n.td,{children:"\ube60\ub978 \ub300\ub7c9 \uc81c\uac70"}),(0,t.jsx)(n.td,{children:"\u26a1\u26a1\u26a1"}),(0,t.jsx)(n.td,{children:"\u2b50\u2b50"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"git-filter-repo"}),(0,t.jsx)(n.td,{children:"\uc815\ubc00\ud55c \uc81c\uac70"}),(0,t.jsx)(n.td,{children:"\u26a1\u26a1"}),(0,t.jsx)(n.td,{children:"\u2b50\u2b50\u2b50"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"git-filter-branch"}),(0,t.jsx)(n.td,{children:"\ub808\uac70\uc2dc \ubc29\ubc95"}),(0,t.jsx)(n.td,{children:"\u26a1"}),(0,t.jsx)(n.td,{children:"\u2b50\u2b50\u2b50"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"\ubbfc\uac10-\uc815\ubcf4-\uc885\ub958",children:"\ubbfc\uac10 \uc815\ubcf4 \uc885\ub958"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"- API Keys: AWS, Google, Stripe\n- Passwords: Database, Admin\n- Tokens: JWT, OAuth\n- Private Keys: SSH, SSL/TLS\n- Credentials: Username/Password pairs\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\ubcf4\uc548-\uc2a4\uce94-\ub3c4\uad6c",children:"\ubcf4\uc548 \uc2a4\uce94 \ub3c4\uad6c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# git-secrets (AWS)\ngit secrets --scan\n\n# Gitleaks\ngitleaks detect --source .\n\n# TruffleHog\ntrufflehog git file://.\n\n# detect-secrets\ndetect-secrets scan\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-\uc2e4\uc804-\ud301",children:"\ud83d\udca1 \uc2e4\uc804 \ud301"}),"\n",(0,t.jsx)(n.h3,{id:"1-\uc608\ubc29\uc774-\ucd5c\uc120",children:"1. \uc608\ubc29\uc774 \ucd5c\uc120"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \ud504\ub85c\uc81d\ud2b8 \uc2dc\uc791 \uc2dc \uc989\uc2dc \uc124\uc815\ngit secrets --install\ngit secrets --register-aws\n\n# \ud300\uc6d0 \uc628\ubcf4\ub529 \uccb4\ud06c\ub9ac\uc2a4\ud2b8\n- [ ] git-secrets \uc124\uce58\n- [ ] Pre-commit hook \uc124\uc815\n- [ ] .env \ud30c\uc77c \uc0ac\uc6a9\ubc95 \uad50\uc721\n- [ ] \ubcf4\uc548 \uac00\uc774\ub4dc \uc77d\uae30\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-\uc2e4\uc218\ud588\uc744-\ub54c-\ube60\ub978-\ub300\uc751",children:"2. \uc2e4\uc218\ud588\uc744 \ub54c \ube60\ub978 \ub300\uc751"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"1. \uc989\uc2dc \ud0a4 \ubb34\ud6a8\ud654 (5\ubd84 \ub0b4)\n2. \uc800\uc7a5\uc18c \ube44\uacf5\uac1c \uc804\ud658\n3. Git \ud788\uc2a4\ud1a0\ub9ac \uc815\ub9ac (BFG)\n4. \ud300\uc6d0 \uc7ac\ud074\ub860\n5. \ubcf4\uc548 \uac15\ud654\n6. \uc0ac\uace0 \ubcf4\uace0\uc11c \uc791\uc131\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-github-secrets-\uc0ac\uc6a9",children:"3. GitHub Secrets \uc0ac\uc6a9"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# GitHub Actions\uc5d0\uc11c \uc548\uc804\ud558\uac8c \uc0ac\uc6a9\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy\n        env:\n          AWS_KEY: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          AWS_SECRET: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n        run: ./deploy.sh\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-\ub85c\uceec-\ud658\uacbd-\ubcc0\uc218-\uad00\ub9ac",children:"4. \ub85c\uceec \ud658\uacbd \ubcc0\uc218 \uad00\ub9ac"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# direnv \uc0ac\uc6a9\nbrew install direnv\n\n# .envrc\nexport AWS_ACCESS_KEY_ID=AKIA...\nexport AWS_SECRET_ACCESS_KEY=...\n\n# \ud65c\uc131\ud654\ndirenv allow\n\n# .gitignore\uc5d0 \ucd94\uac00\necho ".envrc" >> .gitignore\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-\uad00\ub828-\ubb38\uc11c",children:"\ud83d\udd17 \uad00\ub828 \ubb38\uc11c"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../advanced/security",children:"\ubcf4\uc548"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../basic/gitignore",children:".gitignore \uc0ac\uc6a9\ubc95"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-\ub2e4\uc74c-\uc2dc\ub098\ub9ac\uc624",children:"\ud83c\udfaf \ub2e4\uc74c \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,t.jsx)(n.p,{children:"\ubcf4\uc548 \uc0ac\uace0\ub97c \uc2ac\uae30\ub86d\uac8c \ud574\uacb0\ud588\uc2b5\ub2c8\ub2e4!"}),"\n",(0,t.jsx)(n.p,{children:"\ub2e4\uc74c\uc740 \ub808\uac70\uc2dc \ucf54\ub4dc\ub97c \ub9ac\ud329\ud1a0\ub9c1\ud569\ub2c8\ub2e4..."}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,t.jsx)(n.a,{href:"./scenario-09-legacy",children:"\uc2dc\ub098\ub9ac\uc624 9: \ub808\uac70\uc2dc \ud504\ub85c\uc81d\ud2b8 \ub9ac\ud329\ud1a0\ub9c1"}),"\uc5d0\uc11c \uacc4\uc18d\ub429\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud83d\udcac \uacbd\ud5d8 \uacf5\uc720"}),": \ubcf4\uc548 \uc0ac\uace0\ub97c \uacaa\uc5b4\ubcf4\uc2e0 \ubd84\ub4e4\uc758 \uacbd\ud5d8\uc744 \ub4e4\ub824\uc8fc\uc138\uc694!"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud83c\udfaf \ub3c4\uc804 \uacfc\uc81c"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\ud300\uc758 \ubaa8\ub4e0 \uc800\uc7a5\uc18c\uc5d0 git-secrets \uc124\uc815\ud558\uae30"}),"\n",(0,t.jsx)(n.li,{children:"Security incident response plan \uc791\uc131\ud558\uae30"}),"\n",(0,t.jsx)(n.li,{children:"\ubcf4\uc548 \uad50\uc721 \uc790\ub8cc \ub9cc\ub4e4\uae30"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var i=s(6540);const t={},r=i.createContext(t);function c(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);