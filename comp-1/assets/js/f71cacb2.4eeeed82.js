"use strict";(globalThis.webpackChunkgithub_docs=globalThis.webpackChunkgithub_docs||[]).push([[530],{7128:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"database/basic/normalization","title":"\uc815\uaddc\ud654","description":"\ub370\uc774\ud130 \uc911\ubcf5 \uc81c\uac70\uc640 \ubb34\uacb0\uc131 \ubcf4\uc7a5","source":"@site/docs/database/basic/normalization.md","sourceDirName":"database/basic","slug":"/database/basic/normalization","permalink":"/docs/database/basic/normalization","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/database/basic/normalization.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"slug":"/database/basic/normalization"},"sidebar":"databaseSidebar","previous":{"title":"\uae30\ubcf8 \uac1c\ub150","permalink":"/docs/database/basic/fundamentals"},"next":{"title":"PostgreSQL \ub370\uc774\ud130 \ud0c0\uc785","permalink":"/docs/database/basic/data-types"}}');var i=s(4848),r=s(8453);const a={sidebar_position:2,slug:"/database/basic/normalization"},o="\uc815\uaddc\ud654",d={},c=[{value:"\ud83c\udfaf \uc815\uaddc\ud654\uc758 \ubaa9\uc801",id:"-\uc815\uaddc\ud654\uc758-\ubaa9\uc801",level:2},{value:"\ud83d\udcca \uc815\uaddc\ud654 \ub2e8\uacc4",id:"-\uc815\uaddc\ud654-\ub2e8\uacc4",level:2},{value:"\ube44\uc815\uaddc\ud654 (0NF)",id:"\ube44\uc815\uaddc\ud654-0nf",level:3},{value:"\uc81c1\uc815\uaddc\ud615 (1NF)",id:"\uc81c1\uc815\uaddc\ud615-1nf",level:3},{value:"\uc81c2\uc815\uaddc\ud615 (2NF)",id:"\uc81c2\uc815\uaddc\ud615-2nf",level:3},{value:"\uc81c3\uc815\uaddc\ud615 (3NF)",id:"\uc81c3\uc815\uaddc\ud615-3nf",level:3},{value:"\ud83d\udd04 \uc5ed\uc815\uaddc\ud654 (Denormalization)",id:"-\uc5ed\uc815\uaddc\ud654-denormalization",level:2},{value:"\ud83d\udca1 \ud575\uc2ec \uc694\uc57d",id:"-\ud575\uc2ec-\uc694\uc57d",level:2}];function E(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"\uc815\uaddc\ud654",children:"\uc815\uaddc\ud654"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\ub370\uc774\ud130 \uc911\ubcf5 \uc81c\uac70\uc640 \ubb34\uacb0\uc131 \ubcf4\uc7a5"})}),"\n",(0,i.jsx)(e.p,{children:"\uc815\uaddc\ud654\ub294 \ub370\uc774\ud130 \uc911\ubcf5\uc744 \ucd5c\uc18c\ud654\ud558\uace0 \ubb34\uacb0\uc131\uc744 \ubcf4\uc7a5\ud558\uae30 \uc704\ud574 \ud14c\uc774\ube14\uc744 \uad6c\uc870\ud654\ud558\ub294 \uacfc\uc815\uc785\ub2c8\ub2e4."}),"\n",(0,i.jsx)(e.h2,{id:"-\uc815\uaddc\ud654\uc758-\ubaa9\uc801",children:"\ud83c\udfaf \uc815\uaddc\ud654\uc758 \ubaa9\uc801"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'normalization_goals = {\n    "\uc911\ubcf5 \uc81c\uac70": "\uac19\uc740 \ub370\uc774\ud130\ub97c \uc5ec\ub7ec \uacf3\uc5d0 \uc800\uc7a5\ud558\uc9c0 \uc54a\uc74c",\n    "\uac31\uc2e0 \uc774\uc0c1 \ubc29\uc9c0": "\ub370\uc774\ud130 \uc218\uc815 \uc2dc \uc77c\uad00\uc131 \uc720\uc9c0",\n    "\uc0bd\uc785 \uc774\uc0c1 \ubc29\uc9c0": "\ubd88\ud544\uc694\ud55c \ub370\uc774\ud130 \uc5c6\uc774 \uc0bd\uc785 \uac00\ub2a5",\n    "\uc0ad\uc81c \uc774\uc0c1 \ubc29\uc9c0": "\ud544\uc694\ud55c \ub370\uc774\ud130\uac00 \ud568\uaed8 \uc0ad\uc81c\ub418\uc9c0 \uc54a\uc74c"\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"-\uc815\uaddc\ud654-\ub2e8\uacc4",children:"\ud83d\udcca \uc815\uaddc\ud654 \ub2e8\uacc4"}),"\n",(0,i.jsx)(e.h3,{id:"\ube44\uc815\uaddc\ud654-0nf",children:"\ube44\uc815\uaddc\ud654 (0NF)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:'-- \u274c \uc911\ubcf5\uacfc \ubb38\uc81c\uac00 \ub9ce\uc740 \ud14c\uc774\ube14\nCREATE TABLE orders_denormalized (\n    order_id INTEGER,\n    customer_name VARCHAR(100),\n    customer_email VARCHAR(255),\n    customer_phone VARCHAR(20),\n    products TEXT,  -- "Apple,Banana,Orange" (\ubc18\uc815\uaddc\ud654!)\n    total_price NUMERIC(10, 2)\n);\n\n-- \ubb38\uc81c\uc810:\n-- 1. \uace0\uac1d \uc815\ubcf4 \uc911\ubcf5 (\uac19\uc740 \uace0\uac1d\uc758 \uc5ec\ub7ec \uc8fc\ubb38)\n-- 2. products \uceec\ub7fc\uc5d0 \uc5ec\ub7ec \uac12 (\ucffc\ub9ac \uc5b4\ub824\uc6c0)\n-- 3. \uace0\uac1d \uc815\ubcf4 \ubcc0\uacbd \uc2dc \ubaa8\ub4e0 \uc8fc\ubb38 \uc218\uc815 \ud544\uc694\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\uc81c1\uc815\uaddc\ud615-1nf",children:"\uc81c1\uc815\uaddc\ud615 (1NF)"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\uaddc\uce59"}),": \ubaa8\ub4e0 \uceec\ub7fc\uc740 \uc6d0\uc790\uac12(Atomic Value)\uc744 \uac00\uc838\uc57c \ud568"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2705 1NF: \uc6d0\uc790\uac12 \ubcf4\uc7a5\nCREATE TABLE orders_1nf (\n    order_id INTEGER,\n    customer_name VARCHAR(100),\n    customer_email VARCHAR(255),\n    customer_phone VARCHAR(20),\n    product_name VARCHAR(100),  -- \ud55c \uc81c\ud488\uc529\n    product_price NUMERIC(10, 2),\n    quantity INTEGER\n);\n\n-- \uc5ec\uc804\ud788 \ubb38\uc81c:\n-- \uace0\uac1d \uc815\ubcf4\uac00 \uc5ec\ub7ec \ud589\uc5d0 \uc911\ubcf5\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\uc81c2\uc815\uaddc\ud615-2nf",children:"\uc81c2\uc815\uaddc\ud615 (2NF)"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\uaddc\uce59"}),": 1NF + \ubd80\ubd84 \ud568\uc218 \uc885\uc18d \uc81c\uac70"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2705 2NF: \uace0\uac1d \uc815\ubcf4 \ubd84\ub9ac\nCREATE TABLE customers (\n    customer_id BIGSERIAL PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    phone VARCHAR(20)\n);\n\nCREATE TABLE orders (\n    order_id BIGSERIAL PRIMARY KEY,\n    customer_id BIGINT REFERENCES customers(id),\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE order_items (\n    order_id BIGINT REFERENCES orders(id),\n    product_name VARCHAR(100),\n    product_price NUMERIC(10, 2),\n    quantity INTEGER,\n    PRIMARY KEY (order_id, product_name)\n);\n\n-- \uc5ec\uc804\ud788 \ubb38\uc81c:\n-- \uc81c\ud488 \uc815\ubcf4 \uc911\ubcf5\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\uc81c3\uc815\uaddc\ud615-3nf",children:"\uc81c3\uc815\uaddc\ud615 (3NF)"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\uaddc\uce59"}),": 2NF + \uc774\ud589\uc801 \ud568\uc218 \uc885\uc18d \uc81c\uac70"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2705 3NF: \uc81c\ud488 \uc815\ubcf4 \ubd84\ub9ac\nCREATE TABLE customers (\n    id BIGSERIAL PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    phone VARCHAR(20)\n);\n\nCREATE TABLE products (\n    id BIGSERIAL PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    price NUMERIC(10, 2) NOT NULL,\n    description TEXT\n);\n\nCREATE TABLE orders (\n    id BIGSERIAL PRIMARY KEY,\n    customer_id BIGINT NOT NULL REFERENCES customers(id),\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    status VARCHAR(20) DEFAULT 'pending'\n);\n\nCREATE TABLE order_items (\n    order_id BIGINT REFERENCES orders(id),\n    product_id BIGINT REFERENCES products(id),\n    quantity INTEGER NOT NULL,\n    price_at_time NUMERIC(10, 2) NOT NULL,  -- \uc8fc\ubb38 \ub2f9\uc2dc \uac00\uaca9 \ubcf4\uc874\n    PRIMARY KEY (order_id, product_id)\n);\n"})}),"\n",(0,i.jsx)(e.h2,{id:"-\uc5ed\uc815\uaddc\ud654-denormalization",children:"\ud83d\udd04 \uc5ed\uc815\uaddc\ud654 (Denormalization)"}),"\n",(0,i.jsxs)(e.p,{children:["\uc131\ub2a5\uc744 \uc704\ud574 ",(0,i.jsx)(e.strong,{children:"\uc758\ub3c4\uc801\uc73c\ub85c"})," \uc911\ubcf5\uc744 \ud5c8\uc6a9\ud558\ub294 \uacbd\uc6b0"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \uc815\uaddc\ud654\ub41c \uad6c\uc870\nCREATE TABLE posts (\n    id BIGSERIAL PRIMARY KEY,\n    user_id BIGINT REFERENCES users(id),\n    title VARCHAR(200),\n    content TEXT\n);\n\nCREATE TABLE comments (\n    id BIGSERIAL PRIMARY KEY,\n    post_id BIGINT REFERENCES posts(id)\n);\n\n-- \u274c \ub313\uae00 \uc218\ub97c \uc138\ub824\uba74 JOIN \ud544\uc694 (\ub290\ub9bc)\nSELECT p.*, COUNT(c.id) as comment_count\nFROM posts p\nLEFT JOIN comments c ON p.id = c.post_id\nGROUP BY p.id;\n\n-- \u2705 \uc5ed\uc815\uaddc\ud654: comment_count \uceec\ub7fc \ucd94\uac00\nCREATE TABLE posts (\n    id BIGSERIAL PRIMARY KEY,\n    user_id BIGINT REFERENCES users(id),\n    title VARCHAR(200),\n    content TEXT,\n    comment_count INTEGER DEFAULT 0  -- \uc5ed\uc815\uaddc\ud654!\n);\n\n-- \ud2b8\ub9ac\uac70\ub85c \uc790\ub3d9 \uac31\uc2e0\nCREATE OR REPLACE FUNCTION update_post_comment_count()\nRETURNS TRIGGER AS $$\nBEGIN\n    IF TG_OP = 'INSERT' THEN\n        UPDATE posts SET comment_count = comment_count + 1\n        WHERE id = NEW.post_id;\n    ELSIF TG_OP = 'DELETE' THEN\n        UPDATE posts SET comment_count = comment_count - 1\n        WHERE id = OLD.post_id;\n    END IF;\n    RETURN NULL;\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE TRIGGER update_comment_count\nAFTER INSERT OR DELETE ON comments\nFOR EACH ROW EXECUTE FUNCTION update_post_comment_count();\n"})}),"\n",(0,i.jsx)(e.h2,{id:"-\ud575\uc2ec-\uc694\uc57d",children:"\ud83d\udca1 \ud575\uc2ec \uc694\uc57d"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:'normalization_summary = {\n    "1NF": "\uc6d0\uc790\uac12\ub9cc \uc800\uc7a5",\n    "2NF": "\ubd80\ubd84 \uc885\uc18d \uc81c\uac70",\n    "3NF": "\uc774\ud589 \uc885\uc18d \uc81c\uac70",\n    "\uc5ed\uc815\uaddc\ud654": "\uc131\ub2a5\uc744 \uc704\ud55c \uc758\ub3c4\uc801 \uc911\ubcf5"\n}\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\ud83d\udc49 ",(0,i.jsx)(e.a,{href:"./data-types",children:"\ub370\uc774\ud130 \ud0c0\uc785"})]})]})}function l(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(E,{...n})}):E(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function a(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);